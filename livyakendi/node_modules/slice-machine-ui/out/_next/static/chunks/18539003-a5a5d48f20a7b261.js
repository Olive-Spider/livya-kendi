"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{71463:function(t,n,r){r.d(n,{kS:function(){return elW}});var i,o=r(2784),a=r(98863),u=r(22715),s=r(74217),l=r(50054),c=r(86579),d=r(17329),f=r(87322),p=r(1611),h=r(661),m=r(53429),g=r(52393),y=r(47124),v=r(77252),b=r(16247),x=r(28316),_=r(87598),S=Object.defineProperty,T=(t,n,r)=>n in t?S(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,w=(t,n,r)=>(T(t,"symbol"!=typeof n?n+"":n,r),r);let O={unclassified:{title:"Draft",color:"amber"},published:{title:"Live",color:"green"},release:{title:"Planned",color:"purple"},archived:{title:"Archived",color:"grey"}};var k="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{};function C(t){if(t.__esModule)return t;var n=t.default;if("function"==typeof n){var r=function t(){if(this instanceof t){var r=[null];return r.push.apply(r,arguments),new(Function.bind.apply(n,r))}return n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var I,M={},R={get exports(){return M},set exports(e){M=e}},E={};function j(){return M.jsx(u.xu,{justifyContent:"center",flexDirection:"column",height:"100%",backgroundColor:"grey3",children:M.jsxs(u.R$,{children:[M.jsx(u.av,{name:"close",lineColor:"purple10",backgroundColor:"purple3",borderColor:"purple6",borderStyle:"dashed",size:"xlarge"}),M.jsx(u._T,{size:"big",children:'"Oops!"'}),M.jsx(u.nf,{width:360,children:'"We can\'t find any items with that name"'})]})})}(I=R).exports=function(){if(H5)return E;H5=1;var t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(n,o,u){var s,l={},c=null,d=null;for(s in void 0!==u&&(c=""+u),void 0!==o.key&&(c=""+o.key),void 0!==o.ref&&(d=o.ref),o)r.call(o,s)&&!a.hasOwnProperty(s)&&(l[s]=o[s]);if(n&&n.defaultProps)for(s in o=n.defaultProps)void 0===l[s]&&(l[s]=o[s]);return{$$typeof:t,type:n,key:c,ref:d,props:l,_owner:i.current}}return E.Fragment=n,E.jsx=u,E.jsxs=u,E}();let A={warning:{uploadWhileUploading:{title:"Hang tight!",description:"Your current images are still being uploaded. Once they're all set, you'll be free to upload more."}}},N=(0,o.createContext)(void 0);function P(){let t=(0,o.useContext)(N);if(!t)throw Error("Missing EditorConfigContext.Provider");return t}class L extends Error{}function F(t){throw new L(`Missing EditorConfig.${t}`)}(nx=H6||(H6={})).assertEqual=t=>t,nx.assertIs=function(t){},nx.assertNever=function(t){throw Error()},nx.arrayToEnum=t=>{let n={};for(let r of t)n[r]=r;return n},nx.getValidEnumValues=t=>{let n=nx.objectKeys(t).filter(n=>"number"!=typeof t[t[n]]),r={};for(let i of n)r[i]=t[i];return nx.objectValues(r)},nx.objectValues=t=>nx.objectKeys(t).map(function(n){return t[n]}),nx.objectKeys="function"==typeof Object.keys?t=>Object.keys(t):t=>{let n=[];for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(r);return n},nx.find=(t,n)=>{for(let r of t)if(n(r))return r},nx.isInteger="function"==typeof Number.isInteger?t=>Number.isInteger(t):t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t,nx.joinValues=function(t,n=" | "){return t.map(t=>"string"==typeof t?`'${t}'`:t).join(n)},nx.jsonStringifyReplacer=(t,n)=>"bigint"==typeof n?n.toString():n,(n_=H9||(H9={})).mergeShapes=(t,n)=>({...t,...n});let D=H6.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),W=t=>{switch(typeof t){case"undefined":return D.undefined;case"string":return D.string;case"number":return isNaN(t)?D.nan:D.number;case"boolean":return D.boolean;case"function":return D.function;case"bigint":return D.bigint;case"symbol":return D.symbol;case"object":return Array.isArray(t)?D.array:null===t?D.null:t.then&&"function"==typeof t.then&&t.catch&&"function"==typeof t.catch?D.promise:"u">typeof Map&&t instanceof Map?D.map:"u">typeof Set&&t instanceof Set?D.set:"u">typeof Date&&t instanceof Date?D.date:D.object;default:return D.unknown}},U=H6.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),z=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class B extends Error{constructor(t){super(),this.issues=[],this.addIssue=t=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){let n=t||function(t){return t.message},r={_errors:[]},i=t=>{for(let o of t.issues)if("invalid_union"===o.code)o.unionErrors.map(i);else if("invalid_return_type"===o.code)i(o.returnTypeError);else if("invalid_arguments"===o.code)i(o.argumentsError);else if(0===o.path.length)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){let s=o.path[u];u===o.path.length-1?(a[s]=a[s]||{_errors:[]},a[s]._errors.push(n(o))):a[s]=a[s]||{_errors:[]},a=a[s],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,H6.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(t=t=>t.message){let n={},r=[];for(let i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}B.create=t=>new B(t);let V=(t,n)=>{let r;switch(t.code){case U.invalid_type:r=t.received===D.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case U.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,H6.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:r=`Unrecognized key(s) in object: ${H6.joinValues(t.keys,", ")}`;break;case U.invalid_union:r="Invalid input";break;case U.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${H6.joinValues(t.options)}`;break;case U.invalid_enum_value:r=`Invalid enum value. Expected ${H6.joinValues(t.options)}, received '${t.received}'`;break;case U.invalid_arguments:r="Invalid function arguments";break;case U.invalid_return_type:r="Invalid function return type";break;case U.invalid_date:r="Invalid date";break;case U.invalid_string:"object"==typeof t.validation?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,"number"==typeof t.validation.position&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:H6.assertNever(t.validation):r="regex"!==t.validation?`Invalid ${t.validation}`:"Invalid";break;case U.too_small:r="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:"date"===t.type?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case U.too_big:r="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"bigint"===t.type?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"date"===t.type?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case U.custom:r="Invalid input";break;case U.invalid_intersection_types:r="Intersection results could not be merged";break;case U.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case U.not_finite:r="Number must be finite";break;default:r=n.defaultError,H6.assertNever(t)}return{message:r}},$=V;function q(t){$=t}function K(){return $}let H=t=>{let{data:n,path:r,errorMaps:i,issueData:o}=t,a=[...r,...o.path||[]],u={...o,path:a},s="",l=i.filter(t=>!!t).slice().reverse();for(let c of l)s=c(u,{data:n,defaultError:s}).message;return{...o,path:a,message:o.message||s}};function G(t,n){let r=H({issueData:n,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,$,V].filter(t=>!!t)});t.common.issues.push(r)}class Z{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,n){let r=[];for(let i of n){if("aborted"===i.status)return Y;"dirty"===i.status&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){let r=[];for(let i of n)r.push({key:await i.key,value:await i.value});return Z.mergeObjectSync(t,r)}static mergeObjectSync(t,n){let r={};for(let i of n){let{key:o,value:a}=i;if("aborted"===o.status||"aborted"===a.status)return Y;"dirty"===o.status&&t.dirty(),"dirty"===a.status&&t.dirty(),("u">typeof a.value||i.alwaysSet)&&(r[o.value]=a.value)}return{status:t.value,value:r}}}let Y=Object.freeze({status:"aborted"}),J=t=>({status:"dirty",value:t}),Q=t=>({status:"valid",value:t}),X=t=>"aborted"===t.status,ee=t=>"dirty"===t.status,et=t=>"valid"===t.status,en=t=>"u">typeof Promise&&t instanceof Promise;(nS=H8||(H8={})).errToObj=t=>"string"==typeof t?{message:t}:t||{},nS.toString=t=>"string"==typeof t?t:null==t?void 0:t.message;class er{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let ei=(t,n)=>{if(et(n))return{success:!0,data:n.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new B(t.common.issues);return this._error=r,this._error}}};function eo(t){if(!t)return{};let{errorMap:n,invalid_type_error:r,required_error:i,description:o}=t;if(n&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return n?{errorMap:n,description:o}:{errorMap:(t,n)=>"invalid_type"!==t.code?{message:n.defaultError}:typeof n.data>"u"?{message:i??n.defaultError}:{message:r??n.defaultError},description:o}}class ea{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return W(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:W(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Z,ctx:{common:t.parent.common,data:t.data,parsedType:W(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(en(n))throw Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;let i={common:{issues:[],async:null!==(r=null==n?void 0:n.async)&&void 0!==r&&r,contextualErrorMap:null==n?void 0:n.errorMap},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:W(t)},o=this._parseSync({data:t,path:i.path,parent:i});return ei(i,o)}async parseAsync(t,n){let r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){let r={common:{issues:[],contextualErrorMap:null==n?void 0:n.errorMap,async:!0},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:W(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await (en(i)?i:Promise.resolve(i));return ei(r,o)}refine(t,n){let r=t=>"string"==typeof n||typeof n>"u"?{message:n}:"function"==typeof n?n(t):n;return this._refinement((n,i)=>{let o=t(n),a=()=>i.addIssue({code:U.custom,...r(n)});return"u">typeof Promise&&o instanceof Promise?o.then(t=>!!t||(a(),!1)):!!o||(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>!!t(r)||(i.addIssue("function"==typeof n?n(r,i):n),!1))}_refinement(t){return new eH({schema:this,typeName:H7.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return eG.create(this,this._def)}nullable(){return eZ.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eR.create(this,this._def)}promise(){return eK.create(this,this._def)}or(t){return ej.create([this,t],this._def)}and(t){return eP.create(this,t,this._def)}transform(t){return new eH({...eo(this._def),schema:this,typeName:H7.ZodEffects,effect:{type:"transform",transform:t}})}default(t){return new eY({...eo(this._def),innerType:this,defaultValue:"function"==typeof t?t:()=>t,typeName:H7.ZodDefault})}brand(){return new e0({typeName:H7.ZodBranded,type:this,...eo(this._def)})}catch(t){return new eJ({...eo(this._def),innerType:this,catchValue:"function"==typeof t?t:()=>t,typeName:H7.ZodCatch})}describe(t){let n=this.constructor;return new n({...this._def,description:t})}pipe(t){return e1.create(this,t)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let eu=/^c[^\s-]{8,}$/i,es=/^[a-z][a-z0-9]*$/,el=/[0-9A-HJKMNP-TV-Z]{26}/,ec=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,ed=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,ef=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ep=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,eh=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,em=t=>t.precision?t.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):0===t.precision?t.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function eg(t,n){return!!(("v4"===n||!n)&&ep.test(t)||("v6"===n||!n)&&eh.test(t))}class ey extends ea{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(n=>t.test(n),{validation:n,code:U.invalid_string,...H8.errToObj(r)}),this.nonempty=t=>this.min(1,H8.errToObj(t)),this.trim=()=>new ey({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ey({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ey({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==D.string){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.string,received:n.parsedType}),Y}let r=new Z,i;for(let o of this._def.checks)if("min"===o.kind)t.data.length<o.value&&(G(i=this._getOrReturnCtx(t,i),{code:U.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if("max"===o.kind)t.data.length>o.value&&(G(i=this._getOrReturnCtx(t,i),{code:U.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if("length"===o.kind){let a=t.data.length>o.value,u=t.data.length<o.value;(a||u)&&(i=this._getOrReturnCtx(t,i),a?G(i,{code:U.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&G(i,{code:U.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if("email"===o.kind)ed.test(t.data)||(G(i=this._getOrReturnCtx(t,i),{validation:"email",code:U.invalid_string,message:o.message}),r.dirty());else if("emoji"===o.kind)ef.test(t.data)||(G(i=this._getOrReturnCtx(t,i),{validation:"emoji",code:U.invalid_string,message:o.message}),r.dirty());else if("uuid"===o.kind)ec.test(t.data)||(G(i=this._getOrReturnCtx(t,i),{validation:"uuid",code:U.invalid_string,message:o.message}),r.dirty());else if("cuid"===o.kind)eu.test(t.data)||(G(i=this._getOrReturnCtx(t,i),{validation:"cuid",code:U.invalid_string,message:o.message}),r.dirty());else if("cuid2"===o.kind)es.test(t.data)||(G(i=this._getOrReturnCtx(t,i),{validation:"cuid2",code:U.invalid_string,message:o.message}),r.dirty());else if("ulid"===o.kind)el.test(t.data)||(G(i=this._getOrReturnCtx(t,i),{validation:"ulid",code:U.invalid_string,message:o.message}),r.dirty());else if("url"===o.kind)try{new URL(t.data)}catch{G(i=this._getOrReturnCtx(t,i),{validation:"url",code:U.invalid_string,message:o.message}),r.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(t.data)||(G(i=this._getOrReturnCtx(t,i),{validation:"regex",code:U.invalid_string,message:o.message}),r.dirty())):"trim"===o.kind?t.data=t.data.trim():"includes"===o.kind?t.data.includes(o.value,o.position)||(G(i=this._getOrReturnCtx(t,i),{code:U.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):"toLowerCase"===o.kind?t.data=t.data.toLowerCase():"toUpperCase"===o.kind?t.data=t.data.toUpperCase():"startsWith"===o.kind?t.data.startsWith(o.value)||(G(i=this._getOrReturnCtx(t,i),{code:U.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):"endsWith"===o.kind?t.data.endsWith(o.value)||(G(i=this._getOrReturnCtx(t,i),{code:U.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):"datetime"===o.kind?em(o).test(t.data)||(G(i=this._getOrReturnCtx(t,i),{code:U.invalid_string,validation:"datetime",message:o.message}),r.dirty()):"ip"===o.kind?eg(t.data,o.version)||(G(i=this._getOrReturnCtx(t,i),{validation:"ip",code:U.invalid_string,message:o.message}),r.dirty()):H6.assertNever(o);return{status:r.value,value:t.data}}_addCheck(t){return new ey({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...H8.errToObj(t)})}url(t){return this._addCheck({kind:"url",...H8.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...H8.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...H8.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...H8.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...H8.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...H8.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...H8.errToObj(t)})}datetime(t){var n;return"string"==typeof t?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(null==t?void 0:t.precision)>"u"?null:null==t?void 0:t.precision,offset:null!==(n=null==t?void 0:t.offset)&&void 0!==n&&n,...H8.errToObj(null==t?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...H8.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:null==n?void 0:n.position,...H8.errToObj(null==n?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...H8.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...H8.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...H8.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...H8.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...H8.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(t=>"datetime"===t.kind)}get isEmail(){return!!this._def.checks.find(t=>"email"===t.kind)}get isURL(){return!!this._def.checks.find(t=>"url"===t.kind)}get isEmoji(){return!!this._def.checks.find(t=>"emoji"===t.kind)}get isUUID(){return!!this._def.checks.find(t=>"uuid"===t.kind)}get isCUID(){return!!this._def.checks.find(t=>"cuid"===t.kind)}get isCUID2(){return!!this._def.checks.find(t=>"cuid2"===t.kind)}get isULID(){return!!this._def.checks.find(t=>"ulid"===t.kind)}get isIP(){return!!this._def.checks.find(t=>"ip"===t.kind)}get minLength(){let t=null;for(let n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return t}}function ev(t,n){let r=(t.toString().split(".")[1]||"").length,i=(n.toString().split(".")[1]||"").length,o=r>i?r:i,a=parseInt(t.toFixed(o).replace(".","")),u=parseInt(n.toFixed(o).replace(".",""));return a%u/Math.pow(10,o)}ey.create=t=>{var n;return new ey({checks:[],typeName:H7.ZodString,coerce:null!==(n=null==t?void 0:t.coerce)&&void 0!==n&&n,...eo(t)})};class eb extends ea{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==D.number){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.number,received:n.parsedType}),Y}let r,i=new Z;for(let o of this._def.checks)"int"===o.kind?H6.isInteger(t.data)||(G(r=this._getOrReturnCtx(t,r),{code:U.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):"min"===o.kind?(o.inclusive?t.data<o.value:t.data<=o.value)&&(G(r=this._getOrReturnCtx(t,r),{code:U.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):"max"===o.kind?(o.inclusive?t.data>o.value:t.data>=o.value)&&(G(r=this._getOrReturnCtx(t,r),{code:U.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):"multipleOf"===o.kind?0!==ev(t.data,o.value)&&(G(r=this._getOrReturnCtx(t,r),{code:U.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):"finite"===o.kind?Number.isFinite(t.data)||(G(r=this._getOrReturnCtx(t,r),{code:U.not_finite,message:o.message}),i.dirty()):H6.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,H8.toString(n))}gt(t,n){return this.setLimit("min",t,!1,H8.toString(n))}lte(t,n){return this.setLimit("max",t,!0,H8.toString(n))}lt(t,n){return this.setLimit("max",t,!1,H8.toString(n))}setLimit(t,n,r,i){return new eb({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:H8.toString(i)}]})}_addCheck(t){return new eb({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:H8.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H8.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H8.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H8.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H8.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:H8.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:H8.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H8.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H8.toString(t)})}get minValue(){let t=null;for(let n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>"int"===t.kind||"multipleOf"===t.kind&&H6.isInteger(t.value))}get isFinite(){let t=null,n=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===n||r.value>n)&&(n=r.value):"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}eb.create=t=>new eb({checks:[],typeName:H7.ZodNumber,coerce:(null==t?void 0:t.coerce)||!1,...eo(t)});class ex extends ea{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==D.bigint){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.bigint,received:n.parsedType}),Y}let r,i=new Z;for(let o of this._def.checks)"min"===o.kind?(o.inclusive?t.data<o.value:t.data<=o.value)&&(G(r=this._getOrReturnCtx(t,r),{code:U.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):"max"===o.kind?(o.inclusive?t.data>o.value:t.data>=o.value)&&(G(r=this._getOrReturnCtx(t,r),{code:U.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):"multipleOf"===o.kind?t.data%o.value!==BigInt(0)&&(G(r=this._getOrReturnCtx(t,r),{code:U.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):H6.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,H8.toString(n))}gt(t,n){return this.setLimit("min",t,!1,H8.toString(n))}lte(t,n){return this.setLimit("max",t,!0,H8.toString(n))}lt(t,n){return this.setLimit("max",t,!1,H8.toString(n))}setLimit(t,n,r,i){return new ex({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:H8.toString(i)}]})}_addCheck(t){return new ex({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H8.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H8.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H8.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H8.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:H8.toString(n)})}get minValue(){let t=null;for(let n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return t}}ex.create=t=>{var n;return new ex({checks:[],typeName:H7.ZodBigInt,coerce:null!==(n=null==t?void 0:t.coerce)&&void 0!==n&&n,...eo(t)})};class e_ extends ea{_parse(t){if(this._def.coerce&&(t.data=Boolean(t.data)),this._getType(t)!==D.boolean){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.boolean,received:n.parsedType}),Y}return Q(t.data)}}e_.create=t=>new e_({typeName:H7.ZodBoolean,coerce:(null==t?void 0:t.coerce)||!1,...eo(t)});class eS extends ea{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==D.date){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.date,received:n.parsedType}),Y}if(isNaN(t.data.getTime())){let r=this._getOrReturnCtx(t);return G(r,{code:U.invalid_date}),Y}let i=new Z,o;for(let a of this._def.checks)"min"===a.kind?t.data.getTime()<a.value&&(G(o=this._getOrReturnCtx(t,o),{code:U.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):"max"===a.kind?t.data.getTime()>a.value&&(G(o=this._getOrReturnCtx(t,o),{code:U.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):H6.assertNever(a);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new eS({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:H8.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:H8.toString(n)})}get minDate(){let t=null;for(let n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return null!=t?new Date(t):null}get maxDate(){let t=null;for(let n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return null!=t?new Date(t):null}}eS.create=t=>new eS({checks:[],coerce:(null==t?void 0:t.coerce)||!1,typeName:H7.ZodDate,...eo(t)});class eT extends ea{_parse(t){if(this._getType(t)!==D.symbol){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.symbol,received:n.parsedType}),Y}return Q(t.data)}}eT.create=t=>new eT({typeName:H7.ZodSymbol,...eo(t)});class ew extends ea{_parse(t){if(this._getType(t)!==D.undefined){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.undefined,received:n.parsedType}),Y}return Q(t.data)}}ew.create=t=>new ew({typeName:H7.ZodUndefined,...eo(t)});class eO extends ea{_parse(t){if(this._getType(t)!==D.null){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.null,received:n.parsedType}),Y}return Q(t.data)}}eO.create=t=>new eO({typeName:H7.ZodNull,...eo(t)});class ek extends ea{constructor(){super(...arguments),this._any=!0}_parse(t){return Q(t.data)}}ek.create=t=>new ek({typeName:H7.ZodAny,...eo(t)});class eC extends ea{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Q(t.data)}}eC.create=t=>new eC({typeName:H7.ZodUnknown,...eo(t)});class eI extends ea{_parse(t){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.never,received:n.parsedType}),Y}}eI.create=t=>new eI({typeName:H7.ZodNever,...eo(t)});class eM extends ea{_parse(t){if(this._getType(t)!==D.undefined){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.void,received:n.parsedType}),Y}return Q(t.data)}}eM.create=t=>new eM({typeName:H7.ZodVoid,...eo(t)});class eR extends ea{_parse(t){let{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==D.array)return G(n,{code:U.invalid_type,expected:D.array,received:n.parsedType}),Y;if(null!==i.exactLength){let o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(G(n,{code:o?U.too_big:U.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&n.data.length<i.minLength.value&&(G(n,{code:U.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&n.data.length>i.maxLength.value&&(G(n,{code:U.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((t,r)=>i.type._parseAsync(new er(n,t,n.path,r)))).then(t=>Z.mergeArray(r,t));let u=[...n.data].map((t,r)=>i.type._parseSync(new er(n,t,n.path,r)));return Z.mergeArray(r,u)}get element(){return this._def.type}min(t,n){return new eR({...this._def,minLength:{value:t,message:H8.toString(n)}})}max(t,n){return new eR({...this._def,maxLength:{value:t,message:H8.toString(n)}})}length(t,n){return new eR({...this._def,exactLength:{value:t,message:H8.toString(n)}})}nonempty(t){return this.min(1,t)}}eR.create=(t,n)=>new eR({type:t,minLength:null,maxLength:null,exactLength:null,typeName:H7.ZodArray,...eo(n)});class eE extends ea{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let t=this._def.shape(),n=H6.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==D.object){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.object,received:n.parsedType}),Y}let{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof eI&&"strip"===this._def.unknownKeys))for(let s in i.data)a.includes(s)||u.push(s);let l=[];for(let c of a){let d=o[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new er(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof eI){let p=this._def.unknownKeys;if("passthrough"===p)for(let h of u)l.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if("strict"===p)u.length>0&&(G(i,{code:U.unrecognized_keys,keys:u}),r.dirty());else if("strip"!==p)throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let m=this._def.catchall;for(let g of u){let y=i.data[g];l.push({key:{status:"valid",value:g},value:m._parse(new er(i,y,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let t=[];for(let n of l){let r=await n.key;t.push({key:r,value:await n.value,alwaysSet:n.alwaysSet})}return t}).then(t=>Z.mergeObjectSync(r,t)):Z.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return H8.errToObj,new eE({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(n,r)=>{var i,o,a,u;let s=null!==(a=null===(o=(i=this._def).errorMap)||void 0===o?void 0:o.call(i,n,r).message)&&void 0!==a?a:r.defaultError;return"unrecognized_keys"===n.code?{message:null!==(u=H8.errToObj(t).message)&&void 0!==u?u:s}:{message:s}}}:{}})}strip(){return new eE({...this._def,unknownKeys:"strip"})}passthrough(){return new eE({...this._def,unknownKeys:"passthrough"})}extend(t){return new eE({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new eE({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:H7.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new eE({...this._def,catchall:t})}pick(t){let n={};return H6.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new eE({...this._def,shape:()=>n})}omit(t){let n={};return H6.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new eE({...this._def,shape:()=>n})}deepPartial(){return function t(n){if(!(n instanceof eE))return n instanceof eR?new eR({...n._def,type:t(n.element)}):n instanceof eG?eG.create(t(n.unwrap())):n instanceof eZ?eZ.create(t(n.unwrap())):n instanceof eL?eL.create(n.items.map(n=>t(n))):n;{let r={};for(let i in n.shape){let o=n.shape[i];r[i]=eG.create(t(o))}return new eE({...n._def,shape:()=>r})}}(this)}partial(t){let n={};return H6.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new eE({...this._def,shape:()=>n})}required(t){let n={};return H6.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof eG;)i=i._def.innerType;n[r]=i}}),new eE({...this._def,shape:()=>n})}keyof(){return eV(H6.objectKeys(this.shape))}}eE.create=(t,n)=>new eE({shape:()=>t,unknownKeys:"strip",catchall:eI.create(),typeName:H7.ZodObject,...eo(n)}),eE.strictCreate=(t,n)=>new eE({shape:()=>t,unknownKeys:"strict",catchall:eI.create(),typeName:H7.ZodObject,...eo(n)}),eE.lazycreate=(t,n)=>new eE({shape:t,unknownKeys:"strip",catchall:eI.create(),typeName:H7.ZodObject,...eo(n)});class ej extends ea{_parse(t){let{ctx:n}=this._processInputParams(t),r=this._def.options;if(n.common.async)return Promise.all(r.map(async t=>{let r={...n,common:{...n.common,issues:[]},parent:null};return{result:await t._parseAsync({data:n.data,path:n.path,parent:r}),ctx:r}})).then(function(t){for(let r of t)if("valid"===r.result.status)return r.result;for(let i of t)if("dirty"===i.result.status)return n.common.issues.push(...i.ctx.common.issues),i.result;let o=t.map(t=>new B(t.ctx.common.issues));return G(n,{code:U.invalid_union,unionErrors:o}),Y});{let i,o=[];for(let a of r){let u={...n,common:{...n.common,issues:[]},parent:null},s=a._parseSync({data:n.data,path:n.path,parent:u});if("valid"===s.status)return s;"dirty"!==s.status||i||(i={result:s,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;let l=o.map(t=>new B(t));return G(n,{code:U.invalid_union,unionErrors:l}),Y}}get options(){return this._def.options}}ej.create=(t,n)=>new ej({options:t,typeName:H7.ZodUnion,...eo(n)});let eA=t=>t instanceof ez?eA(t.schema):t instanceof eH?eA(t.innerType()):t instanceof eB?[t.value]:t instanceof e$?t.options:t instanceof eq?Object.keys(t.enum):t instanceof eY?eA(t._def.innerType):t instanceof ew?[void 0]:t instanceof eO?[null]:null;class eN extends ea{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==D.object)return G(n,{code:U.invalid_type,expected:D.object,received:n.parsedType}),Y;let r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(G(n,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Y)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let i=new Map;for(let o of n){let a=eA(o.shape[t]);if(!a)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let u of a){if(i.has(u))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);i.set(u,o)}}return new eN({typeName:H7.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...eo(r)})}}class eP extends ea{_parse(t){let{status:n,ctx:r}=this._processInputParams(t),i=(t,i)=>{if(X(t)||X(i))return Y;let o=function t(n,r){let i=W(n),o=W(r);if(n===r)return{valid:!0,data:n};if(i===D.object&&o===D.object){let a=H6.objectKeys(r),u=H6.objectKeys(n).filter(t=>-1!==a.indexOf(t)),s={...n,...r};for(let l of u){let c=t(n[l],r[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}if(i!==D.array||o!==D.array)return i===D.date&&o===D.date&&+n==+r?{valid:!0,data:n}:{valid:!1};{if(n.length!==r.length)return{valid:!1};let d=[];for(let f=0;f<n.length;f++){let p=n[f],h=r[f],m=t(p,h);if(!m.valid)return{valid:!1};d.push(m.data)}return{valid:!0,data:d}}}(t.value,i.value);return o.valid?((ee(t)||ee(i))&&n.dirty(),{status:n.value,value:o.data}):(G(r,{code:U.invalid_intersection_types}),Y)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([t,n])=>i(t,n)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eP.create=(t,n,r)=>new eP({left:t,right:n,typeName:H7.ZodIntersection,...eo(r)});class eL extends ea{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==D.array)return G(r,{code:U.invalid_type,expected:D.array,received:r.parsedType}),Y;if(r.data.length<this._def.items.length)return G(r,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y;!this._def.rest&&r.data.length>this._def.items.length&&(G(r,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let i=[...r.data].map((t,n)=>{let i=this._def.items[n]||this._def.rest;return i?i._parse(new er(r,t,r.path,n)):null}).filter(t=>!!t);return r.common.async?Promise.all(i).then(t=>Z.mergeArray(n,t)):Z.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new eL({...this._def,rest:t})}}eL.create=(t,n)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eL({items:t,typeName:H7.ZodTuple,rest:null,...eo(n)})};class eF extends ea{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==D.object)return G(r,{code:U.invalid_type,expected:D.object,received:r.parsedType}),Y;let i=[],o=this._def.keyType,a=this._def.valueType;for(let u in r.data)i.push({key:o._parse(new er(r,u,r.path,u)),value:a._parse(new er(r,r.data[u],r.path,u))});return r.common.async?Z.mergeObjectAsync(n,i):Z.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return new eF(n instanceof ea?{keyType:t,valueType:n,typeName:H7.ZodRecord,...eo(r)}:{keyType:ey.create(),valueType:t,typeName:H7.ZodRecord,...eo(n)})}}class eD extends ea{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==D.map)return G(r,{code:U.invalid_type,expected:D.map,received:r.parsedType}),Y;let i=this._def.keyType,o=this._def.valueType,a=[...r.data.entries()].map(([t,n],a)=>({key:i._parse(new er(r,t,r.path,[a,"key"])),value:o._parse(new er(r,n,r.path,[a,"value"]))}));if(r.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let t of a){let r=await t.key,i=await t.value;if("aborted"===r.status||"aborted"===i.status)return Y;("dirty"===r.status||"dirty"===i.status)&&n.dirty(),u.set(r.value,i.value)}return{status:n.value,value:u}})}{let s=new Map;for(let l of a){let c=l.key,d=l.value;if("aborted"===c.status||"aborted"===d.status)return Y;("dirty"===c.status||"dirty"===d.status)&&n.dirty(),s.set(c.value,d.value)}return{status:n.value,value:s}}}}eD.create=(t,n,r)=>new eD({valueType:n,keyType:t,typeName:H7.ZodMap,...eo(r)});class eW extends ea{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==D.set)return G(r,{code:U.invalid_type,expected:D.set,received:r.parsedType}),Y;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(G(r,{code:U.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(G(r,{code:U.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());let o=this._def.valueType;function a(t){let r=new Set;for(let i of t){if("aborted"===i.status)return Y;"dirty"===i.status&&n.dirty(),r.add(i.value)}return{status:n.value,value:r}}let u=[...r.data.values()].map((t,n)=>o._parse(new er(r,t,r.path,n)));return r.common.async?Promise.all(u).then(t=>a(t)):a(u)}min(t,n){return new eW({...this._def,minSize:{value:t,message:H8.toString(n)}})}max(t,n){return new eW({...this._def,maxSize:{value:t,message:H8.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}eW.create=(t,n)=>new eW({valueType:t,minSize:null,maxSize:null,typeName:H7.ZodSet,...eo(n)});class eU extends ea{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==D.function)return G(n,{code:U.invalid_type,expected:D.function,received:n.parsedType}),Y;function r(t,r){return H({data:t,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$,V].filter(t=>!!t),issueData:{code:U.invalid_arguments,argumentsError:r}})}function i(t,r){return H({data:t,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$,V].filter(t=>!!t),issueData:{code:U.invalid_return_type,returnTypeError:r}})}let o={errorMap:n.common.contextualErrorMap},a=n.data;return this._def.returns instanceof eK?Q(async(...t)=>{let n=new B([]),u=await this._def.args.parseAsync(t,o).catch(i=>{throw n.addIssue(r(t,i)),n}),s=await a(...u);return await this._def.returns._def.type.parseAsync(s,o).catch(t=>{throw n.addIssue(i(s,t)),n})}):Q((...t)=>{let n=this._def.args.safeParse(t,o);if(!n.success)throw new B([r(t,n.error)]);let u=a(...n.data),s=this._def.returns.safeParse(u,o);if(!s.success)throw new B([i(u,s.error)]);return s.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new eU({...this._def,args:eL.create(t).rest(eC.create())})}returns(t){return new eU({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new eU({args:t||eL.create([]).rest(eC.create()),returns:n||eC.create(),typeName:H7.ZodFunction,...eo(r)})}}class ez extends ea{get schema(){return this._def.getter()}_parse(t){let{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ez.create=(t,n)=>new ez({getter:t,typeName:H7.ZodLazy,...eo(n)});class eB extends ea{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return G(n,{received:n.data,code:U.invalid_literal,expected:this._def.value}),Y}return{status:"valid",value:t.data}}get value(){return this._def.value}}function eV(t,n){return new e$({values:t,typeName:H7.ZodEnum,...eo(n)})}eB.create=(t,n)=>new eB({value:t,typeName:H7.ZodLiteral,...eo(n)});class e$ extends ea{_parse(t){if("string"!=typeof t.data){let n=this._getOrReturnCtx(t),r=this._def.values;return G(n,{expected:H6.joinValues(r),received:n.parsedType,code:U.invalid_type}),Y}if(-1===this._def.values.indexOf(t.data)){let i=this._getOrReturnCtx(t),o=this._def.values;return G(i,{received:i.data,code:U.invalid_enum_value,options:o}),Y}return Q(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t){return e$.create(t)}exclude(t){return e$.create(this.options.filter(n=>!t.includes(n)))}}e$.create=eV;class eq extends ea{_parse(t){let n=H6.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==D.string&&r.parsedType!==D.number){let i=H6.objectValues(n);return G(r,{expected:H6.joinValues(i),received:r.parsedType,code:U.invalid_type}),Y}if(-1===n.indexOf(t.data)){let o=H6.objectValues(n);return G(r,{received:r.data,code:U.invalid_enum_value,options:o}),Y}return Q(t.data)}get enum(){return this._def.values}}eq.create=(t,n)=>new eq({values:t,typeName:H7.ZodNativeEnum,...eo(n)});class eK extends ea{unwrap(){return this._def.type}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==D.promise&&!1===n.common.async)return G(n,{code:U.invalid_type,expected:D.promise,received:n.parsedType}),Y;let r=n.parsedType===D.promise?n.data:Promise.resolve(n.data);return Q(r.then(t=>this._def.type.parseAsync(t,{path:n.path,errorMap:n.common.contextualErrorMap})))}}eK.create=(t,n)=>new eK({type:t,typeName:H7.ZodPromise,...eo(n)});class eH extends ea{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===H7.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null;if("preprocess"===i.type){let o=i.transform(r.data);return r.common.async?Promise.resolve(o).then(t=>this._def.schema._parseAsync({data:t,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}let a={addIssue(t){G(r,t),t.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===i.type){let u=t=>{let n=i.refinement(t,a);if(r.common.async)return Promise.resolve(n);if(n instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return t};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(t=>"aborted"===t.status?Y:("dirty"===t.status&&n.dirty(),u(t.value).then(()=>({status:n.value,value:t.value}))));{let s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===s.status?Y:("dirty"===s.status&&n.dirty(),u(s.value),{status:n.value,value:s.value})}}if("transform"===i.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(t=>et(t)?Promise.resolve(i.transform(t.value,a)).then(t=>({status:n.value,value:t})):t);{let l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!et(l))return l;let c=i.transform(l.value,a);if(c instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}}H6.assertNever(i)}}eH.create=(t,n,r)=>new eH({schema:t,typeName:H7.ZodEffects,effect:n,...eo(r)}),eH.createWithPreprocess=(t,n,r)=>new eH({schema:n,effect:{type:"preprocess",transform:t},typeName:H7.ZodEffects,...eo(r)});class eG extends ea{_parse(t){return this._getType(t)===D.undefined?Q(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}eG.create=(t,n)=>new eG({innerType:t,typeName:H7.ZodOptional,...eo(n)});class eZ extends ea{_parse(t){return this._getType(t)===D.null?Q(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}eZ.create=(t,n)=>new eZ({innerType:t,typeName:H7.ZodNullable,...eo(n)});class eY extends ea{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return n.parsedType===D.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}eY.create=(t,n)=>new eY({innerType:t,typeName:H7.ZodDefault,defaultValue:"function"==typeof n.default?n.default:()=>n.default,...eo(n)});class eJ extends ea{_parse(t){let{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return en(i)?i.then(t=>({status:"valid",value:"valid"===t.status?t.value:this._def.catchValue({get error(){return new B(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new B(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eJ.create=(t,n)=>new eJ({innerType:t,typeName:H7.ZodCatch,catchValue:"function"==typeof n.catch?n.catch:()=>n.catch,...eo(n)});class eQ extends ea{_parse(t){if(this._getType(t)!==D.nan){let n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:D.nan,received:n.parsedType}),Y}return{status:"valid",value:t.data}}}eQ.create=t=>new eQ({typeName:H7.ZodNaN,...eo(t)});let eX=Symbol("zod_brand");class e0 extends ea{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class e1 extends ea{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{let t=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===t.status?Y:"dirty"===t.status?(n.dirty(),J(t.value)):this._def.out._parseAsync({data:t.value,path:r.path,parent:r})})();{let i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?Y:"dirty"===i.status?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new e1({in:t,out:n,typeName:H7.ZodPipeline})}}let e2=(t,n={},r)=>t?ek.create().superRefine((i,o)=>{var a,u;if(!t(i)){let s="function"==typeof n?n(i):"string"==typeof n?{message:n}:n,l=null===(u=null!==(a=s.fatal)&&void 0!==a?a:r)||void 0===u||u;o.addIssue({code:"custom",..."string"==typeof s?{message:s}:s,fatal:l})}}):ek.create(),e3={object:eE.lazycreate};(nT=H7||(H7={})).ZodString="ZodString",nT.ZodNumber="ZodNumber",nT.ZodNaN="ZodNaN",nT.ZodBigInt="ZodBigInt",nT.ZodBoolean="ZodBoolean",nT.ZodDate="ZodDate",nT.ZodSymbol="ZodSymbol",nT.ZodUndefined="ZodUndefined",nT.ZodNull="ZodNull",nT.ZodAny="ZodAny",nT.ZodUnknown="ZodUnknown",nT.ZodNever="ZodNever",nT.ZodVoid="ZodVoid",nT.ZodArray="ZodArray",nT.ZodObject="ZodObject",nT.ZodUnion="ZodUnion",nT.ZodDiscriminatedUnion="ZodDiscriminatedUnion",nT.ZodIntersection="ZodIntersection",nT.ZodTuple="ZodTuple",nT.ZodRecord="ZodRecord",nT.ZodMap="ZodMap",nT.ZodSet="ZodSet",nT.ZodFunction="ZodFunction",nT.ZodLazy="ZodLazy",nT.ZodLiteral="ZodLiteral",nT.ZodEnum="ZodEnum",nT.ZodEffects="ZodEffects",nT.ZodNativeEnum="ZodNativeEnum",nT.ZodOptional="ZodOptional",nT.ZodNullable="ZodNullable",nT.ZodDefault="ZodDefault",nT.ZodCatch="ZodCatch",nT.ZodPromise="ZodPromise",nT.ZodBranded="ZodBranded",nT.ZodPipeline="ZodPipeline";let e4=(t,n={message:`Input not instance of ${t.name}`})=>e2(n=>n instanceof t,n),e5=ey.create,e6=eb.create,e9=eQ.create,e8=ex.create,e7=e_.create,te=eS.create,tt=eT.create,tn=ew.create,tr=eO.create,ti=ek.create,to=eC.create,ta=eI.create,tu=eM.create,ts=eR.create,tl=eE.create,tc=eE.strictCreate,td=ej.create,tf=eN.create,tp=eP.create,th=eL.create,tm=eF.create,tg=eD.create,ty=eW.create,tv=eU.create,tb=ez.create,tx=eB.create,t_=e$.create,tS=eq.create,tT=eK.create,tw=eH.create,tO=eG.create,tk=eZ.create,tC=eH.createWithPreprocess,tI=e1.create,tM=()=>e5().optional(),tR=()=>e6().optional(),tE=()=>e7().optional();var tj=Object.freeze({__proto__:null,defaultErrorMap:V,setErrorMap:q,getErrorMap:K,makeIssue:H,EMPTY_PATH:[],addIssueToContext:G,ParseStatus:Z,INVALID:Y,DIRTY:J,OK:Q,isAborted:X,isDirty:ee,isValid:et,isAsync:en,get util(){return H6},get objectUtil(){return H9},ZodParsedType:D,getParsedType:W,ZodType:ea,ZodString:ey,ZodNumber:eb,ZodBigInt:ex,ZodBoolean:e_,ZodDate:eS,ZodSymbol:eT,ZodUndefined:ew,ZodNull:eO,ZodAny:ek,ZodUnknown:eC,ZodNever:eI,ZodVoid:eM,ZodArray:eR,ZodObject:eE,ZodUnion:ej,ZodDiscriminatedUnion:eN,ZodIntersection:eP,ZodTuple:eL,ZodRecord:eF,ZodMap:eD,ZodSet:eW,ZodFunction:eU,ZodLazy:ez,ZodLiteral:eB,ZodEnum:e$,ZodNativeEnum:eq,ZodPromise:eK,ZodEffects:eH,ZodTransformer:eH,ZodOptional:eG,ZodNullable:eZ,ZodDefault:eY,ZodCatch:eJ,ZodNaN:eQ,BRAND:eX,ZodBranded:e0,ZodPipeline:e1,custom:e2,Schema:ea,ZodSchema:ea,late:e3,get ZodFirstPartyTypeKind(){return H7},coerce:{string:t=>ey.create({...t,coerce:!0}),number:t=>eb.create({...t,coerce:!0}),boolean:t=>e_.create({...t,coerce:!0}),bigint:t=>ex.create({...t,coerce:!0}),date:t=>eS.create({...t,coerce:!0})},any:ti,array:ts,bigint:e8,boolean:e7,date:te,discriminatedUnion:tf,effect:tw,enum:t_,function:tv,instanceof:e4,intersection:tp,lazy:tb,literal:tx,map:tg,nan:e9,nativeEnum:tS,never:ta,null:tr,nullable:tk,number:e6,object:tl,oboolean:tE,onumber:tR,optional:tO,ostring:tM,pipeline:tI,preprocess:tC,promise:tT,record:tm,set:ty,strictObject:tc,string:e5,symbol:tt,transformer:tw,tuple:th,undefined:tn,union:td,unknown:to,void:tu,NEVER:Y,ZodIssueCode:U,quotelessJson:z,ZodError:B});let tA=tl({id:e5(),kind:e5(),extension:e5(),filename:e5(),width:e6().optional(),height:e6().optional(),last_modified:e6(),url:e5(),alt:e5().optional(),size:e6(),notes:e5().optional(),credits:e5().optional()}),tN={"X-Prismic-Source":"Wroom"},tP=tl({total:e6(),cursor:e5().optional(),items:ts(tA)});function tL(t,n,r,i,o,a,u){let s=new URLSearchParams((0,h.fW)([{name:"limit",values:["30"]},{name:"cursor",values:[u??""]},{name:"keyword",values:[o]},{name:"assetType",values:[i]}])).toString(),l=tP.transform(t=>({...t,assetType:i,keyword:o,page:a}));return(0,p.WY)(`${t}?${s}`,{headers:{repository:n,...tN},credentials:(0,p.xb)(r),okType:l})}function tF(t){(0,d.YC)(tL,n=>{let{items:r,total:i}=n,o=t(r,n);if(o)return{...n,total:i+(o.length-r.length),items:o}})}function tD(t){let{config:n,assetType:r}=t;if(!n.mediaLibrary)throw Error("media library is not configured");(0,d.gw)(tL,[n.assetsUrl,n.repository,n.env,r,"",0])}function tW(t){let{config:n,assetType:r}=t;if(!n.mediaLibrary)throw Error("media library is not configured");(0,d.YC)(tL,t=>{if(0===t.page&&!(""!==t.keyword||t.assetType!==r))return t}),tD({config:n,assetType:r})}d.Fs.registerFetcherConfig(tL,{cacheCapacity:100,revalidationStrategy:{type:"never"}});let tU,tz=new Uint8Array(16);function tB(){if(!tU&&!(tU="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tU(tz)}let tV=[];for(let t$=0;t$<256;++t$)tV.push((t$+256).toString(16).slice(1));let tq="u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tK={randomUUID:tq},tH=(0,o.createContext)(void 0);function tG(t){let{children:n,assetType:r="all",onSelectedChange:i,actionContainerRef:a}=t,[l,c]=(0,o.useState)(new Set),[h,m]=(0,o.useTransition)(),[v,b]=(0,o.useTransition)(),x=P(),[_,S]=(0,o.useState)(""),{showAlert:T}=(0,u.VY)(),{media:w,onHasReachedBottom:O,updateMedia:k,unshiftMedia:C,deleteMedia:I,mediaTotal:R,revalidateFirstPage:E}=function(t){let{assetType:n="all",keyword:r}=t,i=P(),[a,u]=(0,o.useState)({page:0});i.mediaLibrary||F("mediaLibrary");let{assetsUrl:l,repository:c}=i,p=(0,d.QT)(tL,[l,c,i.env,n,r,a.page,a.cursor]),h=function(t,n){let r=(0,d.q_)(tL).filter(r=>r.assetType===t&&r.keyword===n);return(0,f.DY)(r,t=>t.page).flatMap(t=>t.items)}(n,r);function m(){u({page:0})}return(0,s.pQ)(n,m),(0,s.pQ)(r,m),{media:h,mediaTotal:p.total,limit:30,onHasReachedBottom:function(){void 0!==p.cursor&&u(t=>({page:t.page+1,cursor:p.cursor}))},updateMedia:function(t){tF(n=>n.flatMap(n=>{let r=t.find(t=>t.id===n.id);return r?void 0===r.response?[]:r.response:n}))},unshiftMedia:function(t){m(),tF((r,i)=>{if(0===i.page&&!(""!==i.keyword||i.assetType!==n))return[...t,...r]})},deleteMedia:function(t){tF(n=>n.filter(n=>n.id!==t))},revalidateFirstPage:tD}}({assetType:r,keyword:_}),{isMediaRevalidationInProgress:j,isMediaCacheInvalid:A,revalidateMedia:N}=function(t){let{revalidate:n,config:r,assetType:i}=t,{assetsUrl:a="",repository:u="",env:s="dev"}=r.mediaLibrary?r:{},[l,c]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1);return(0,d.NN)({fetcher:tL,requestParams:[a,u,s,i,"",0],validator(t,n){var r,i,o,a;let u=(null==(r=t.items[0])?void 0:r.id)??"",s=(null==(o=null==(i=n[0])?void 0:i.items[0])?void 0:o.id)??"";return u!==s||t.total!==(null==(a=n[0])?void 0:a.total)},onCacheInvalidated:()=>p(!0),every:6e4}),(0,o.useEffect)(()=>{l&&(p(!1),c(!1))},[l]),{isMediaRevalidationInProgress:l,isMediaCacheInvalid:f,revalidateMedia:function(){c(!0),n()}}}({assetType:r,config:x,revalidate:function(){S(""),tW({config:x,assetType:r})}}),{isUploading:L,onFilesSelected:D,uploadingFiles:W,onRetry:U}=function(t){let{onBeforeUpload:n,onComplete:r}=t,[i,a]=(0,o.useState)([]),u=i.some(t=>"idle"===t.status||"uploading"===t.status),s=P(),l=(0,o.useCallback)(t=>{let r=[{...t,status:"idle"},...i.filter(n=>n.id!==t.id)];a(r),n(r)},[n,i]);return(0,o.useEffect)(function(){if(!i.length||i.some(t=>"uploading"===t.status)||i.every(t=>"error"===t.status))return;let t=i.find(t=>"idle"===t.status);if(!t)return;let n=i;function o(t){n=t(n),a(n),n.every(t=>"success"===t.status||"error"===t.status)&&setTimeout(()=>{a([]),null==r||r(n)},1500)}o(n=>n.map(n=>n.id===t.id?{...n,status:"uploading"}:n)),(function(t){let{file:n,config:r}=t;if(!r.mediaLibrary)throw Error("Media Library not configured.");let{assetsUrl:i,repository:o,env:a}=r,u=new FormData;return u.append(n.name,n),(0,p.WY)(i,{headers:{repository:o,"Content-Type":"multipart/form-data",...tN},method:"POST",body:u,credentials:(0,p.xb)(a),okType:tA})})({file:t.file,config:s}).then(n=>{o(r=>r.map(r=>r.id===t.id?{...r,status:"success",response:n}:r))}).catch(()=>{o(n=>n.map(n=>n.id===t.id?{...n,status:"error"}:n))})},[s,i,r]),{isUploading:u,uploadingFiles:i,onFilesSelected:function(t){let r=t.map(t=>({id:`temp-${function(t,n,r){if(tK.randomUUID&&!n&&!t)return tK.randomUUID();t=t||{};let i=t.random||(t.rng||tB)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){r=r||0;for(let o=0;o<16;++o)n[r+o]=i[o];return n}return function(t,n=0){return(tV[t[n+0]]+tV[t[n+1]]+tV[t[n+2]]+tV[t[n+3]]+"-"+tV[t[n+4]]+tV[t[n+5]]+"-"+tV[t[n+6]]+tV[t[n+7]]+"-"+tV[t[n+8]]+tV[t[n+9]]+"-"+tV[t[n+10]]+tV[t[n+11]]+tV[t[n+12]]+tV[t[n+13]]+tV[t[n+14]]+tV[t[n+15]]).toLowerCase()}(i)}()}`,file:t,status:"idle"}));a(r),n(r)},onRetry:l}}({onBeforeUpload(t){S("");let n=t.filter(t=>"idle"===t.status).map(t=>({id:t.id,url:URL.createObjectURL(t.file),filename:t.file.name,size:t.file.size,extension:t.file.type,kind:t.file.type,last_modified:t.file.lastModified}));C(n);let[r]=n??[];r&&c(new Set([r.id]))},onComplete(t){let n=t.flatMap(t=>"success"===t.status?t:(function(t){let n=(0,y.tx)(t.file.name,30);T({id:t.id,title:`The specified file "${n}" could not be uploaded.`,subtitle:M.jsxs(u.xv,{color:"inherit",children:["Read more about our"," ",M.jsx(u.hh,{color:"tomato11",href:"https://prismic.io/docs/guides/manage-images#supported-media",underline:!0,children:"supported media"}),"."]}),buttons:{action:{text:"Retry upload",icon:"cloudUpload",onClick:()=>U(t)}}})}(t),{id:t.id,response:void 0}));k(n),E({config:x,assetType:r});let o=n[0];o&&o.response&&l.has(o.id)&&(c(t=>(0,g.IH)((0,g.Od)(t,o.id),o.response.id)),null==i||i(new Set([o.response.id])))}});function z(t,n){let r=new Set(l),o=W.some(n=>n.id===t&&"success"!==n.status);if("replace"===n)return c(new Set([t])),o||null==i?void 0:i(new Set([t]));r[n](t),c(r),"add"===n&&o||null==i||i(r)}return M.jsx(tH.Provider,{value:{isFetchingMedia:h,media:w,mediaTotal:R,onScrollToBottom:function(){m(O)},selectedMediaIds:l,actionContainerRef:a,onFilesUpload:function(t){L||D(t)},isUploading:L,uploadingFiles:W,addMediaItemSelection:function(t){z(t,"add")},removeMediaItemSelection:function(t){z(t,"delete")},replaceMediaItemSelection:function(t){z(t,"replace")},isMediaRevalidationInProgress:j,isMediaCacheInvalid:A,revalidateMedia:N,deleteMedia:I,updateMedia:function(t,n){k([{id:t,response:n}])},keyword:_,onKeywordChange:function(t){b(()=>{S(t),null==i||i(new Set),c(new Set)})},isSearchingMedia:v,assetType:r},children:n})}function tZ(){let t=(0,o.useContext)(tH);if(!t)throw Error("useMediaLibrary must be used within a MediaLibraryProvider");return t}function tY(){let{actionContainerRef:t,isUploading:n,onFilesUpload:r}=tZ(),i=null==t?void 0:t.current;return M.jsx(tQ,{actionContainerRef:t,children:M.jsxs(u.xu,{width:"100%",gap:16,children:[M.jsx(tJ,{}),M.jsx(u.u,{title:A.warning.uploadWhileUploading.title,content:A.warning.uploadWhileUploading.description,visible:n,stableMount:!0,children:M.jsx(u.KH,{disabled:n,onFilesSelected:r,startIcon:"cloudUpload",color:i?"purple":"grey",size:"large",children:"Upload media"})})]})})}function tJ(){let{keyword:t,onKeywordChange:n,isFetchingMedia:r}=tZ(),[i,a]=(0,o.useState)(t);return(0,s.pQ)(t,()=>{""===t&&a("")}),(0,s.Nr)(i,300,(0,s.R9)(t=>n(t))),M.jsx(u.xu,{width:"100%",flexDirection:"column",children:M.jsx(u.CR,{value:i,placeholder:"Search",onValueChange:a,maxLength:200,isLoading:r&&t!==i})})}function tQ(t){let{children:n,actionContainerRef:r}=t,i=null==r?void 0:r.current,a=i?u.Uv:o.Fragment,s=i?{container:r.current,asChild:!0}:{};return M.jsx(a,{...s,children:n})}function tX(t){let{children:n}=t,{onFilesUpload:r,assetType:i}=tZ();return M.jsx(u.Zz,{overlay:M.jsx(t0,{}),overlayVariant:"simple",onFilesSelected:r,assetType:i,children:n})}function t0(){let{isUploading:t}=tZ(),n=t?A.warning.uploadWhileUploading.title:"Drop files here",r=t?A.warning.uploadWhileUploading.description:"Drop your files to upload them instantly to the media library.";return M.jsx(u.xu,{justifyContent:"center",flexDirection:"column",height:"100%",backgroundColor:"grey3",children:M.jsxs(u.R$,{children:[M.jsx(u.av,{name:t?"block":"cloudUpload",lineColor:t?"tomato11":"purple10",backgroundColor:t?"tomato2":"purple3",borderColor:t?"tomato6":"purple6",borderStyle:"dashed",size:"xlarge"}),M.jsx(u._T,{size:"big",children:n}),M.jsx(u.nf,{width:360,children:r})]})})}function t1(){return M.jsx(u.Iq,{title:"Oops! Something went wrong",description:"An error occurred while searching for your image.",errorImageSrc:u.Os,sx:{marginBlock:"auto",marginInline:"auto"}})}function t2(t){let{mediaList:n,mediaActions:r,sidePane:i}=t,o=(0,s.ac)(u.AV.large);return M.jsxs(u.xu,{display:"grid",gridTemplateRows:"1fr 1fr",gridTemplateColumns:o?"1fr 380px":"1fr",width:"100%",height:"100%",gap:16,children:[M.jsxs(u.xu,{position:"relative",display:"grid",gap:16,gridColumn:"1",gridRow:"1 / -1",children:[r,n]}),o&&i]})}function t3(){var t;let{onScrollToBottom:n,media:r,selectedMediaIds:i,removeMediaItemSelection:a,replaceMediaItemSelection:s,isUploading:l,uploadingFiles:c,isSearchingMedia:d,isMediaRevalidationInProgress:f}=tZ(),p=(0,o.useRef)(null);function h(t){if(i.has(t))return a(t);s(t)}return(l||f)&&(null==(t=p.current)||t.scrollTo({top:0,behavior:"instant"})),M.jsx(t4,{onScrollToBottom:n,scrollAreaRef:p,children:null==r?void 0:r.map(t=>{var n;return M.jsx(u.PB,{...t,loading:d,status:null==(n=c.find(n=>n.id===t.id))?void 0:n.status,selected:i.has(t.id),onCardClick:()=>h(t.id),onCheckedChange:()=>h(t.id)},t.id)})})}function t4(t){let{children:n,scrollAreaRef:r,onScrollToBottom:i}=t,o="calc((100% - 48px) / 4)";return M.jsx(u.xr,{ref:r,style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(max(250px, ${o}), 1fr))`,gridTemplateRows:"1fr 1fr 1fr ",gap:16,paddingBottom:16,position:"relative"},onScrollToBottom:i,threshold:500,children:n})}function t5(t){let{children:n,hasSelectedMedia:r}=t;return M.jsx(u.xu,{overflow:"hidden",borderStyle:r?"solid":"dashed",border:{top:!0,right:!0,left:!0,bottom:!1},borderRadius:{topRight:8,topLeft:8},gridColumn:"2",gridRow:"1 / -1",children:n})}function t6(t){let{onFilesUpload:n,isUploading:r,isInitialLoad:i=!1}=t,o=i||r;return M.jsxs(u.xu,{flexDirection:"column",justifyContent:"center",alignItems:"center",padding:16,gap:16,width:"100%",children:[M.jsx(u.av,{name:"cloudUpload",lineColor:"purple11",backgroundColor:"purple5",size:"large"}),M.jsx(u.xu,{flexDirection:"column",gap:4,children:M.jsxs(u.xv,{align:"center",children:["Select or"," ",M.jsx(u.KH,{disabled:o,onFilesSelected:n,renderButton:t=>M.jsx(u.u,{title:A.warning.uploadWhileUploading.title,content:A.warning.uploadWhileUploading.description,visible:r,children:M.jsx(u.iC,{disabled:o,onClick:t,buttonText:"upload",inline:!0})})})," ","media."]})}),M.jsx(u.KH,{disabled:o,onFilesSelected:n,color:"grey",children:"Upload media"})]})}function t9(t){let{actionContainerRef:n}=t;return M.jsx(t2,{sidePane:M.jsx(ne,{}),mediaActions:M.jsx(t7,{actionContainerRef:n}),mediaList:M.jsxs(M.Fragment,{children:[M.jsx(u.xu,{width:"100%",height:24,alignItems:"center",children:M.jsx(u.Od,{color:"grey5",height:16,width:56,borderRadius:12})}),M.jsx(t8,{})]})})}function t8(){return M.jsx(t4,{children:(0,m.N)(24,M.jsx(nt,{}))})}function t7(t){let{actionContainerRef:n}=t,r=(0,s.NW)();return(0,o.useLayoutEffect)(()=>{r()},[r]),M.jsx(tQ,{actionContainerRef:n,children:M.jsxs(u.xu,{width:"100%",gap:16,children:[M.jsx(u.xu,{width:"100%",flexDirection:"column",children:M.jsx(u.CR,{placeholder:"Search",maxLength:200,value:"",disabled:!0,onValueChange(){}})}),M.jsx(u.KH,{disabled:!0,onFilesSelected(){},startIcon:"cloudUpload",color:n?"purple":"grey",size:"large",children:"Upload media"})]})})}function ne(){return M.jsx(t5,{hasSelectedMedia:!1,children:M.jsx(t6,{onFilesUpload(){},isUploading:!1,isInitialLoad:!0})})}function nt(){return M.jsxs(u.xu,{height:302,width:"100%",flexDirection:"column",padding:16,backgroundColor:"grey1",border:!0,borderStyle:"solid",borderRadius:6,children:[M.jsx(u.Od,{height:164,width:"100%"}),M.jsx(u.Od,{height:16,width:"100%",sx:{marginTop:12}}),M.jsx(u.Od,{height:10,width:100,sx:{marginTop:8}}),M.jsx(u.Od,{height:1,width:"100%",sx:{marginTop:20,marginBottom:16}}),M.jsxs(u.xu,{flexDirection:"row",gap:8,children:[M.jsx(u.Od,{height:24,width:54}),M.jsx(u.Od,{height:24,width:45}),M.jsx(u.Od,{height:24,width:62})]})]})}let nn=(0,o.createContext)({showToast(){}});function nr(t){let{children:n}=t,{isFetchingMedia:r}=tZ(),[i,a]=(0,o.useState)({title:"",seconds:5}),[s,l]=(0,o.useState)(!1),{title:c,action:d,seconds:f=1,icon:p="check"}=i,h=(0,o.useMemo)(()=>({showToast(t){a({seconds:f,...t}),l(!0)}}),[f]);return M.jsxs(M.Fragment,{children:[M.jsx(ni,{open:r}),M.jsx(no,{}),M.jsx(u.FN,{anchor:M.jsx(u.xu,{position:"absolute",justifyContent:"center",width:"100%",bottom:72}),open:s,onOpenChange:l,title:c,action:d,seconds:f,icon:p}),M.jsx(nn.Provider,{value:h,children:n})]})}function ni(t){let{open:n}=t;return M.jsx(u.FN,{anchor:M.jsx(u.xu,{position:"absolute",justifyContent:"center",width:"100%",bottom:72}),loadingIndicator:!0,open:n,title:"Loading more items ...",seconds:1})}function no(){let{revalidateMedia:t,isMediaCacheInvalid:n}=tZ(),[r,i]=(0,o.useState)(n);return(0,s.pQ)(n,i),M.jsx(u.FN,{anchor:M.jsx(u.xu,{position:"absolute",justifyContent:"center",width:"100%",bottom:72}),open:r,title:"There has been changes to your media library",action:{title:"Update",onClick:t},cancel:{onClick:()=>i(!1)}})}function na(){let{media:t,selectedMediaIds:n}=tZ();return t.filter(({id:t})=>n.has(t))}function nu(){let[t,n]=(0,o.useState)(!1),r=na(),{uploadingFiles:i}=tZ(),[a]=r;if(!a)return null;if(r.length>1)return M.jsxs(u.xu,{gap:8,alignItems:"center",children:[M.jsxs(u.xv,{variant:"emphasized",noWrap:!0,sx:{flexGrow:1},children:[r.length," media selected"]}),M.jsx(u.u,{content:"Open all selected media in new tabs",children:M.jsx(u.hU,{icon:"openInFull",variant:"solid",size:"small",onClick:()=>r.forEach(t=>window.open(t.url,"_blank"))})})]});let s=i.some(t=>t.id===a.id&&"success"!==t.status);return M.jsxs(u.xu,{gap:8,alignItems:"center",children:[M.jsx(u.xv,{variant:"emphasized",noWrap:!0,sx:{flexGrow:1},children:a.filename}),M.jsxs(u.xu,{gap:8,children:[M.jsx(u.u,{content:"Open media in new tab",children:M.jsx(u.hU,{icon:"openInFull",variant:"solid",size:"small",hiddenLabel:"Open media in new tab",onClick:()=>window.open(a.url,"_blank"),disabled:s})}),M.jsx(u.u,{content:"Copy media URL",children:M.jsx(u.hU,{icon:"link",variant:"solid",size:"small",hiddenLabel:"Copy media URL",onClick:()=>navigator.clipboard.writeText(a.url),disabled:s})}),M.jsx(u.u,{content:"Remove media",children:M.jsx(u.hU,{icon:"delete",variant:"solid",color:"tomato",size:"small",hiddenLabel:"Remove media",onClick:()=>n(!0),disabled:s})}),M.jsx(ns,{open:t,onOpenChange:n,media:a})]})]})}function ns(t){let{open:n,onOpenChange:r,media:i}=t,a=P(),{showAlert:s}=(0,u.VY)(),{deleteMedia:l}=tZ(),[c,d]=(0,o.useState)(!1);return M.jsxs(u.Vq,{onOpenChange:r,open:n,size:"small",children:[M.jsx(u.fK,{icon:"alert",title:"Remove this item from your media library?"}),M.jsx(u.cZ,{children:M.jsx(u.xu,{padding:16,children:M.jsxs(u.xv,{children:["You are about to delete this item: ",M.jsx("b",{children:i.filename})]})})}),M.jsx(u.kX,{asFooter:!0,ok:{onClick(){var t;return t=i.id,void(d(!0),(function(t){let{id:n,config:r}=t;if(!r.mediaLibrary)throw Error("Media Library not configured.");let{assetsUrl:i,repository:o,env:a}=r;return(0,p.WY)(`${i}/${n}`,{headers:{repository:o},method:"DELETE",credentials:(0,p.xb)(a),okType:tj.unknown()})})({id:t,config:a}).then(()=>{r(!1),l(t)}).catch(()=>{r(!1),s({title:"Error",subtitle:"Something went wrong when removing the item."})}).finally(()=>{d(!1)}))},text:"Yes, I want to remove this item",color:"tomato",loading:c},cancel:{text:"Cancel"}})]})}function nl(){var t;let n=na(),{uploadingFiles:r}=tZ(),[i]=n;if(!i)return null;if(2===n.length)return M.jsx(nc,{children:n.map((t,n)=>M.jsx("div",{style:{position:"absolute",transform:0===n?"translateX(25%) rotate(15deg) ":"translateX(-25%) rotate(-15deg) "},children:M.jsx(nd,{media:t})},t.id))});if(n.length>2)return M.jsx(nc,{children:n.slice(-4).map((t,n)=>M.jsx("div",{style:{position:"absolute",paddingRight:16*n},children:M.jsx(nd,{media:t})},t.id))});let o=null==(t=r.find(t=>t.id===i.id))?void 0:t.status,a=i.kind.startsWith("image");return M.jsx(u.xu,{flexDirection:"column",children:M.jsx(u.hM,{children:M.jsx(nc,{uploadStatus:o,hasImage:a,children:a?M.jsx(u.Ee,{src:i.url,alt:i.alt,sizing:"contain"}):M.jsx(u.Sp,{extension:i.extension,filename:i.filename})})})})}function nc(t){let{children:n,uploadStatus:r,hasImage:i}=t;return M.jsxs(u.xu,{flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",height:200,width:"100%",backgroundColor:i?"transparent":"purple2",children:[n,r&&M.jsx(u.xu,{position:"absolute",backgroundColor:"greyAlpha1",width:"100%",height:"100%",padding:{inline:16},justifyContent:"end",flexDirection:"column",children:M.jsx(u.wI,{status:r})})]})}function nd(t){let{media:n}=t;return M.jsx(u.xu,{width:111,height:152,children:"image"===n.kind?M.jsx(u.Ee,{borderRadius:8,src:n.url,alt:n.alt,sizing:"cover"}):M.jsx(u.Sp,{extension:n.extension,filename:n.filename})})}function nf(){var t,n;let[r,i]=(0,o.useState)("description"),a=na();if(0===a.length||a.length>1)return null;let s="description"===r,l="more-info"===r;return M.jsxs(M.Fragment,{children:[M.jsxs(u.xu,{border:!0,borderStyle:"solid",borderRadius:8,backgroundColor:"grey2",children:[M.jsx(u.OK,{title:"Description",selected:s,onSelect:()=>i("description"),outline:s,background:s?void 0:"transparent",sx:{flexGrow:1,flexBasis:0}}),M.jsx(u.OK,{title:"More info",selected:l,onSelect:()=>i("more-info"),outline:l,background:l?void 0:"transparent",sx:{flexGrow:1,flexBasis:0}})]}),M.jsxs(u.xu,{gap:16,flexDirection:"column",children:[s&&M.jsx(np,{},null==(t=a[0])?void 0:t.id),l&&M.jsx(nh,{},null==(n=a[0])?void 0:n.id)]})]})}function np(){let{title:t,setTitle:n,alt:r,setAlt:i,onBlur:o,isUploading:a,selectedMedia:s}=nm();return s?M.jsxs(u.xu,{flexDirection:"column",gap:16,children:[M.jsx(u.yt,{value:t,onValueChange:n,label:"Image title",placeholder:"Image title",onBlur:o,disabled:a}),M.jsx(u.Wi,{label:"Alternative text",children:M.jsx(u.Kx,{value:r,onChange:i,placeholder:"A short description of the image for accessibility",onBlur:o,disabled:a})})]}):null}function nh(){let{credits:t,setCredits:n,notes:r,setNotes:i,onBlur:o,isUploading:a,selectedMedia:s}=nm();if(!s)return null;let d=function(t){let{width:n,height:r,last_modified:i,size:o,extension:a}=t,u=n&&r,s={label:"Date",value:(0,l._L)(new Date(i))},d={label:"File size",value:(0,y.td)(o)},f=u?{label:"Dimensions",value:`${n}x${r}`}:void 0,p=u?{label:"Ratio",value:((n??0)/(r??0)).toFixed(1)}:void 0,h={label:"Extension",value:a.toUpperCase()};return[s,d,f,p,h].filter(c.$)}(s);return M.jsxs(u.xu,{gap:8,flexDirection:"column",children:[d.map(t=>M.jsxs(u.xu,{gap:8,children:[M.jsxs(u.xv,{color:"grey11",children:[t.label,":"]}),M.jsx(u.xv,{children:t.value})]},t.label)),M.jsx(u.Wi,{label:"Copyright",children:M.jsx(u.Kx,{value:t,onChange:n,placeholder:"Copyrights or credits are applicable to this media item",onBlur:o,disabled:a})}),M.jsx(u.Wi,{label:"Private notes",children:M.jsx(u.Kx,{value:r,onChange:i,placeholder:"Private notes are never shared publicly",onBlur:o,disabled:a})})]})}function nm(){let[t]=na(),{updateMedia:n,uploadingFiles:r}=tZ(),i=P(),{showToast:a}=(0,o.useContext)(nn),u=(null==t?void 0:t.id)??"",s=(null==t?void 0:t.credits)??"",l=(null==t?void 0:t.notes)??"",c=(null==t?void 0:t.filename)??"",d=(null==t?void 0:t.alt)??"",[f,h]=(0,o.useState)(c),[m,g]=(0,o.useState)(d),[y,v]=(0,o.useState)(s),[b,x]=(0,o.useState)(l),_=r.some(n=>n.id===(null==t?void 0:t.id)&&"success"!==n.status);return{selectedMedia:t,onBlur:function(){t&&(f!==c||m!==d||y!==s||b!==l)&&(n(u,{...t,filename:f,alt:m,credits:y,notes:b}),(function(t){let{id:n,config:r,metadata:i}=t;if(!r.mediaLibrary)throw Error("Media Library not configured.");let{assetsUrl:o,repository:a,env:u}=r;return(0,p.WY)(`${o}/${n}`,{headers:{repository:a},body:{...i},method:"PATCH",credentials:(0,p.xb)(u),okType:tA})})({id:u,config:i,metadata:{filename:f,credits:y,alt:m,notes:b}}).then(()=>{a({title:"Media metadata has been saved.",seconds:3})}).catch(t=>{console.error(t)}))},isUploading:_,title:f,setTitle:h,alt:m,setAlt:g,credits:y,setCredits:v,notes:b,setNotes:x}}function ng(){let t=na(),{onFilesUpload:n,isUploading:r}=tZ();return 0===t.length?M.jsx(t6,{onFilesUpload:n,isUploading:r}):M.jsxs(u.xu,{flexDirection:"column",backgroundColor:"grey1",width:"100%",overflowY:"auto",padding:16,gap:16,children:[M.jsx(nu,{}),M.jsx(nl,{}),M.jsx(nf,{})]})}function ny(){let{selectedMediaIds:t}=tZ(),n=t.size>0;return M.jsx(t5,{hasSelectedMedia:n,children:M.jsx(ng,{})})}function nv(t){let{assetType:n,onSelectedChange:r,actionContainerRef:i}=t;return M.jsx(u.SV,{renderError:()=>M.jsx(t1,{}),children:M.jsx(o.Suspense,{fallback:M.jsx(t9,{actionContainerRef:i}),children:M.jsx(tG,{assetType:n,actionContainerRef:i,onSelectedChange:r,children:M.jsx(tX,{children:M.jsx(nb,{})})})})})}function nb(){let{media:t,mediaTotal:n}=tZ();return M.jsx(nr,{children:M.jsx(t2,{sidePane:M.jsx(ny,{}),mediaActions:M.jsx(tY,{}),mediaList:M.jsxs(M.Fragment,{children:[0===t.length?M.jsx(j,{}):M.jsx(u.xu,{width:"100%",children:M.jsxs(u.xv,{variant:"bold",children:[n," items"]})}),M.jsx(t3,{})]})})})}var nx,n_,nS,nT,nw,nO,nk,nC,nI,nM,nR,nE,nj,nA,nN,nP,nL,nF,nD,nW,nU,nz,nB,nV,n$,nq,nK,nH,nG,nZ,nY,nJ,nQ,nX,n0={},n1={};nw={get exports(){return n1},set exports(e){n1=e}},function(t){var n="object"==typeof k?k:"object"==typeof self?self:"object"==typeof this?this:{};function r(t,r){return t!==n&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,i){return t[n]=r?r(n,i):i}}t(r(n,r(nw.exports)))}(function(t){var n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])};nO=function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},nk=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},nC=function(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>n.indexOf(i)&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r},nI=function(t,n,r,i){var o,a=arguments.length,u=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,n,r,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(u=(a<3?o(u):a>3?o(n,r,u):o(n,r))||u);return a>3&&u&&Object.defineProperty(n,r,u),u},nM=function(t,n){return function(r,i){n(r,i,t)}},nR=function(t,n,r,i,o,a){function u(t){if(void 0!==t&&"function"!=typeof t)throw TypeError("Function expected");return t}for(var s,l=i.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!n&&t?i.static?t:t.prototype:null,f=n||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),p=!1,h=r.length-1;h>=0;h--){var m={};for(var g in i)m[g]="access"===g?{}:i[g];for(var g in i.access)m.access[g]=i.access[g];m.addInitializer=function(t){if(p)throw TypeError("Cannot add initializers after decoration has completed");a.push(u(t||null))};var y=(0,r[h])("accessor"===l?{get:f.get,set:f.set}:f[c],m);if("accessor"===l){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw TypeError("Object expected");(s=u(y.get))&&(f.get=s),(s=u(y.set))&&(f.set=s),(s=u(y.init))&&o.push(s)}else(s=u(y))&&("field"===l?o.push(s):f[c]=s)}d&&Object.defineProperty(d,i.name,f),p=!0},nE=function(t,n,r){for(var i=arguments.length>2,o=0;o<n.length;o++)r=i?n[o].call(t,r):n[o].call(t);return i?r:void 0},nj=function(t){return"symbol"==typeof t?t:"".concat(t)},nA=function(t,n,r){return"symbol"==typeof n&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",n):n})},nN=function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},nP=function(t,n,r,i){return new(r||(r=Promise))(function(o,a){function u(t){try{l(i.next(t))}catch(n){a(n)}}function s(t){try{l(i.throw(t))}catch(n){a(n)}}function l(t){var n;t.done?o(t.value):((n=t.value)instanceof r?n:new r(function(t){t(n)})).then(u,s)}l((i=i.apply(t,n||[])).next())})},nL=function(t,n){var r,i,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(u=0)),u;)try{if(r=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,i=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){u=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){u.label=s[1];break}if(6===s[0]&&u.label<o[1]){u.label=o[1],o=s;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(s);break}o[2]&&u.ops.pop(),u.trys.pop();continue}s=n.call(t,u)}catch(l){s=[6,l],i=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},nF=function(t,n){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||nX(n,t,r)},nX=Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]},nD=function(t){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&t[n],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},nW=function(t,n){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,o,a=r.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(i=a.next()).done;)u.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return u},nU=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(nW(arguments[n]));return t},nz=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;for(var i=Array(t),o=0,n=0;n<r;n++)for(var a=arguments[n],u=0,s=a.length;u<s;u++,o++)i[o]=a[u];return i},nB=function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},nV=function(t){return this instanceof nV?(this.v=t,this):new nV(t)},n$=function(t,n,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,o=r.apply(t,n||[]),a=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(t){o[t]&&(i[t]=function(n){return new Promise(function(r,i){a.push([t,n,r,i])>1||s(t,n)})})}function s(t,n){try{var r;r=o[t](n),r.value instanceof nV?Promise.resolve(r.value.v).then(l,c):d(a[0][2],r)}catch(i){d(a[0][3],i)}}function l(t){s("next",t)}function c(t){s("throw",t)}function d(t,n){t(n),a.shift(),a.length&&s(a[0][0],a[0][1])}},nq=function(t){var n,r;return n={},i("next"),i("throw",function(t){throw t}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(i,o){n[i]=t[i]?function(n){return(r=!r)?{value:nV(t[i](n)),done:!1}:o?o(n):n}:o}},nK=function(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof nD?nD(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=t[r]&&function(n){return new Promise(function(i,o){(function(t,n,r,i){Promise.resolve(i).then(function(n){t({value:n,done:r})},n)})(i,o,(n=t[r](n)).done,n.value)})}}},nH=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};var r=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n};nG=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&nX(n,t,i);return r(n,t),n},nZ=function(t){return t&&t.__esModule?t:{default:t}},nY=function(t,n,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:n.get(t)},nJ=function(t,n,r,i,o){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!o:!n.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(t,r):o?o.value=r:n.set(t,r),r},nQ=function(t,n){if(null===n||"object"!=typeof n&&"function"!=typeof n)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?n===t:t.has(n)},t("__extends",nO),t("__assign",nk),t("__rest",nC),t("__decorate",nI),t("__param",nM),t("__esDecorate",nR),t("__runInitializers",nE),t("__propKey",nj),t("__setFunctionName",nA),t("__metadata",nN),t("__awaiter",nP),t("__generator",nL),t("__exportStar",nF),t("__createBinding",nX),t("__values",nD),t("__read",nW),t("__spread",nU),t("__spreadArrays",nz),t("__spreadArray",nB),t("__await",nV),t("__asyncGenerator",n$),t("__asyncDelegator",nq),t("__asyncValues",nK),t("__makeTemplateObject",nH),t("__importStar",nG),t("__importDefault",nZ),t("__classPrivateFieldGet",nY),t("__classPrivateFieldSet",nJ),t("__classPrivateFieldIn",nQ)});var n2={};function n3(t){return function(n){return function(r){return r.reduce(function(n,r){return t.alt(n,function(){return r})},n)}}}let n4=Object.freeze(Object.defineProperty({__proto__:null,altAll:n3},Symbol.toStringTag,{value:"Module"})),n5=Object.freeze(Object.defineProperty({__proto__:null,altAll:function(t){return n3(t)(t.zero())}},Symbol.toStringTag,{value:"Module"}));var n6=function(t){return function(){return{meet:function(n,r){return function(i){return t.meet(n(i),r(i))}},join:function(n,r){return function(i){return t.join(n(i),r(i))}},zero:function(){return t.zero},one:function(){return t.one},implies:function(n,r){return function(i){return t.implies(n(i),r(i))}},not:function(n){return function(r){return t.not(n(r))}}}}},n9=function(t){return function(){return{concat:function(n,r){return function(i){return t.concat(n(i),r(i))}}}}},n8=function(t){var n=n9(t);return function(){return{concat:n().concat,empty:function(){return t.empty}}}},n7=function(t){return{add:function(n,r){return function(i){return t.add(n(i),r(i))}},zero:function(){return t.zero},mul:function(n,r){return function(i){return t.mul(n(i),r(i))}},one:function(){return t.one}}},re=function(t){var n=n7(t);return{add:n.add,mul:n.mul,one:n.one,zero:n.zero,sub:function(n,r){return function(i){return t.sub(n(i),r(i))}}}},rt=function(t){return function(n){return n(t)}};function rn(t){return t}function rr(t){return function(){return t}}var ri=rr(!0),ro=rr(!1),ra=rr(null),ru=rr(void 0);function rs(t,n,r,i,o,a,u,s,l){switch(arguments.length){case 1:return t;case 2:return function(){return n(t.apply(this,arguments))};case 3:return function(){return r(n(t.apply(this,arguments)))};case 4:return function(){return i(r(n(t.apply(this,arguments))))};case 5:return function(){return o(i(r(n(t.apply(this,arguments)))))};case 6:return function(){return a(o(i(r(n(t.apply(this,arguments))))))};case 7:return function(){return u(a(o(i(r(n(t.apply(this,arguments)))))))};case 8:return function(){return s(u(a(o(i(r(n(t.apply(this,arguments))))))))};case 9:return function(){return l(s(u(a(o(i(r(n(t.apply(this,arguments)))))))))}}}function rl(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t}function rc(t){return t+1}function rd(t){return t-1}function rf(t){throw Error("Called `absurd` function which should be uncallable")}function rp(t,n,r,i,o,a,u,s,l){switch(arguments.length){case 1:return t;case 2:return n(t);case 3:return r(n(t));case 4:return i(r(n(t)));case 5:return o(i(r(n(t))));case 6:return a(o(i(r(n(t)))));case 7:return u(a(o(i(r(n(t))))));case 8:return s(u(a(o(i(r(n(t)))))));case 9:return l(s(u(a(o(i(r(n(t))))))));default:for(var c=arguments[0],d=1;d<arguments.length;d++)c=arguments[d](c);return c}}var rh=function(t,n){return n},rm=function(){return{concat:function(t,n){return rs(t,n)},empty:rn}};let rg=Object.freeze(Object.defineProperty({__proto__:null,SK:rh,absurd:rf,apply:rt,constFalse:ro,constNull:ra,constTrue:ri,constUndefined:ru,constVoid:ru,constant:rr,decrement:rd,flip:function(t){return function(n,r){return t(r,n)}},flow:rs,getBooleanAlgebra:n6,getEndomorphismMonoid:rm,getMonoid:n8,getRing:re,getSemigroup:n9,getSemiring:n7,hole:rf,identity:rn,increment:rc,not:function(t){return function(n){return!t(n)}},pipe:rp,tuple:rl,tupled:function(t){return function(n){return t.apply(void 0,n)}},unsafeCoerce:rn,untupled:function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(n)}}},Symbol.toStringTag,{value:"Module"}));var ry=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},rv=function(t){return"None"===t._tag},rb=function(t){return"Some"===t._tag},rx={_tag:"None"},r_=function(t){return{_tag:"Some",value:t}},rS=function(t){return"Left"===t._tag},rT=function(t){return"Right"===t._tag},rw=function(t){return{_tag:"Left",left:t}},rO=function(t){return{_tag:"Right",right:t}},rk=function(t){return[t]},rC=function(t){return t.length>0},rI=function(t){return t[0]},rM=function(t){return t.slice(1)},rR=[],rE={},rj=Object.prototype.hasOwnProperty,rA=function(t){return ry([t[0]],t.slice(1),!0)};function rN(t,n){return function(r){return function(i){return t.ap(t.map(i,function(t){return function(r){return n.ap(t,r)}}),r)}}}function rP(t){return function(n){return function(r){return t.ap(t.map(r,function(t){return function(){return t}}),n)}}}function rL(t){return function(n){return function(r){return t.ap(t.map(r,function(){return function(t){return t}}),n)}}}function rF(t){return function(n,r){return function(i){return t.ap(t.map(i,function(t){return function(r){var i;return Object.assign({},t,((i={})[n]=r,i))}}),r)}}}function rD(t){return function(n){return{concat:function(r,i){return t.ap(t.map(r,function(t){return function(r){return n.concat(t,r)}}),i)}}}}function rW(t,n,r){return function(i){for(var o=Array(r.length+1),a=0;a<r.length;a++)o[a]=r[a];return o[r.length]=i,0===n?t.apply(null,o):rW(t,n-1,o)}}var rU={1:function(t){return[t]},2:function(t){return function(n){return[t,n]}},3:function(t){return function(n){return function(r){return[t,n,r]}}},4:function(t){return function(n){return function(r){return function(i){return[t,n,r,i]}}}},5:function(t){return function(n){return function(r){return function(i){return function(o){return[t,n,r,i,o]}}}}}};function rz(t){return rj.call(rU,t)||(rU[t]=rW(rl,t-1,[])),rU[t]}function rB(t){var n=t.length;switch(n){case 1:return function(n){var r;return(r={})[t[0]]=n,r};case 2:return function(n){return function(r){var i;return(i={})[t[0]]=n,i[t[1]]=r,i}};case 3:return function(n){return function(r){return function(i){var o;return(o={})[t[0]]=n,o[t[1]]=r,o[t[2]]=i,o}}};case 4:return function(n){return function(r){return function(i){return function(o){var a;return(a={})[t[0]]=n,a[t[1]]=r,a[t[2]]=i,a[t[3]]=o,a}}}};case 5:return function(n){return function(r){return function(i){return function(o){return function(a){var u;return(u={})[t[0]]=n,u[t[1]]=r,u[t[2]]=i,u[t[3]]=o,u[t[4]]=a,u}}}}};default:return rW(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o={},a=0;a<n;a++)o[t[a]]=r[a];return o},n-1,[])}}let rV=Object.freeze(Object.defineProperty({__proto__:null,ap:rN,apFirst:rP,apS:rF,apSecond:rL,getApplySemigroup:rD,sequenceS:function(t){return function(n){for(var r=Object.keys(n),i=r.length,o=rB(r),a=t.map(n[r[0]],o),u=1;u<i;u++)a=t.ap(a,n[r[u]]);return a}},sequenceT:function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=n.length,o=rz(i),a=t.map(n[0],o),u=1;u<i;u++)a=t.ap(a,n[u]);return a}}},Symbol.toStringTag,{value:"Module"}));function r$(t,n){return function(r){return function(i){return t.map(i,function(t){return n.map(t,r)})}}}function rq(t){return function(n){return function(r){return t.map(r,function(t){return t(n)})}}}function rK(t){return function(n){return function(r){return t.map(r,function(t){var r;return(r={})[n]=t,r})}}}function rH(t,n){var r=r$(t,n);return{map:function(t,n){return rp(t,r(n))}}}let rG=Object.freeze(Object.defineProperty({__proto__:null,bindTo:rK,flap:rq,getFunctorComposition:rH,map:r$},Symbol.toStringTag,{value:"Module"}));function rZ(t){var n=rD(t);return function(r){return{concat:n(r).concat,empty:t.of(r.empty)}}}function rY(t,n){var r=rH(t,n).map,i=rN(t,n);return{map:r,of:function(r){return t.of(n.of(r))},ap:function(t,n){return rp(t,i(n))}}}let rJ=Object.freeze(Object.defineProperty({__proto__:null,getApplicativeComposition:rY,getApplicativeMonoid:rZ},Symbol.toStringTag,{value:"Module"}));function rQ(t){return function(n){return function(r){return t.chain(r,function(r){return t.map(n(r),function(){return r})})}}}function rX(t){return function(n,r){return function(i){return t.chain(i,function(i){return t.map(r(i),function(t){var r;return Object.assign({},i,((r={})[n]=t,r))})})}}}let r0=Object.freeze(Object.defineProperty({__proto__:null,bind:rX,chainFirst:rQ},Symbol.toStringTag,{value:"Module"}));function r1(t){return function(n){return function(r){return t.fromEither(rv(r)?rw(n()):rO(r.value))}}}function r2(t){return function(n,r){return function(i){return t.fromEither(n(i)?rO(i):rw(r(i)))}}}function r3(t){var n=r1(t);return function(t){var r=n(t);return function(t){return rs(t,r)}}}function r4(t,n){var r=r3(t);return function(t){var i=r(t);return function(t){return function(r){return n.chain(r,i(t))}}}}function r5(t){return function(n){return rs(n,t.fromEither)}}function r6(t,n){var r=r5(t);return function(t){return function(i){return n.chain(i,r(t))}}}function r9(t,n){return rs(r5(t),rQ(n))}function r8(t,n){return function(r,i){return function(o){return n.chain(o,function(n){return t.fromEither(r(n)?rO(n):rw(i(n)))})}}}let r7=Object.freeze(Object.defineProperty({__proto__:null,chainEitherK:r6,chainFirstEitherK:r9,chainOptionK:r4,filterOrElse:r8,fromEitherK:r5,fromOption:r1,fromOptionK:r3,fromPredicate:r2},Symbol.toStringTag,{value:"Module"}));var ie=function(t){return{equals:function(n,r){return n===r||t(n,r)}}},it=function(t){return ie(function(n,r){for(var i in t)if(!t[i].equals(n[i],r[i]))return!1;return!0})},ir=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ie(function(n,r){return t.every(function(t,i){return t.equals(n[i],r[i])})})},ii=function(t){return function(n){return ie(function(r,i){return n.equals(t(r),t(i))})}},io={equals:function(t,n){return t===n}},ia={equals:function(){return!0}},iu=function(){return{concat:function(t,n){return ie(function(r,i){return t.equals(r,i)&&n.equals(r,i)})}}},is=function(){return{concat:iu().concat,empty:ia}},il={URI:"Eq",contramap:function(t,n){return rp(t,ii(n))}},ic=io.equals;let id=Object.freeze(Object.defineProperty({__proto__:null,Contravariant:il,URI:"Eq",contramap:ii,eq:il,eqBoolean:io,eqDate:{equals:function(t,n){return t.valueOf()===n.valueOf()}},eqNumber:io,eqStrict:io,eqString:io,fromEquals:ie,getMonoid:is,getSemigroup:iu,getStructEq:it,getTupleEq:ir,strictEqual:ic,struct:it,tuple:ir},Symbol.toStringTag,{value:"Module"}));var ip=function(t){return function(n,r){return n===r||0===t(n,r)}},ih=function(t){return{equals:ip(t),compare:function(n,r){return n===r?0:t(n,r)}}},im=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ih(function(n,r){for(var i=0;i<t.length-1;i++){var o=t[i].compare(n[i],r[i]);if(0!==o)return o}return t[i].compare(n[i],r[i])})},ig=function(t){return ih(function(n,r){return t.compare(r,n)})},iy=function(t){return function(n){return ih(function(r,i){return n.compare(t(r),t(i))})}},iv=function(){return{concat:function(t,n){return ih(function(r,i){var o=t.compare(r,i);return 0!==o?o:n.compare(r,i)})}}},ib=function(){return{concat:iv().concat,empty:ih(function(){return 0})}},ix={URI:"Ord",contramap:function(t,n){return rp(t,iy(n))}},i_={equals:ri,compare:rr(0)},iS=function(t){return function(n){return function(r){return r===n||0===t.compare(r,n)}}},iT=function(t){return function(n,r){return -1===t.compare(n,r)}},iw=function(t){return function(n,r){return 1===t.compare(n,r)}},iO=function(t){return function(n,r){return 1!==t.compare(n,r)}},ik=function(t){return function(n,r){return -1!==t.compare(n,r)}},iC=function(t){return function(n,r){return n===r||1>t.compare(n,r)?n:r}},iI=function(t){return function(n,r){return n===r||t.compare(n,r)>-1?n:r}},iM=function(t){var n=iC(t),r=iI(t);return function(t,i){return function(o){return r(n(o,i),t)}}},iR=function(t){var n=iT(t),r=iw(t);return function(t,i){return function(o){return!(n(o,t)||r(o,i))}}},iE={equals:io.equals,compare:function(t,n){return t<n?-1:t>n?1:0}},ij=rp(iE,iy(function(t){return t.valueOf()}));let iA=Object.freeze(Object.defineProperty({__proto__:null,Contravariant:ix,URI:"Ord",between:iR,clamp:iM,contramap:iy,equals:iS,equalsDefault:ip,fromCompare:ih,geq:ik,getDualOrd:ig,getMonoid:ib,getSemigroup:iv,getTupleOrd:im,gt:iw,leq:iO,lt:iT,max:iI,min:iC,ord:ix,ordBoolean:iE,ordDate:ij,ordNumber:iE,ordString:iE,reverse:ig,trivial:i_,tuple:im},Symbol.toStringTag,{value:"Module"}));var iN=function(t){return{concat:function(n,r){return t.concat(r,n)}}},iP=function(t){return function(n){return{concat:function(r,i){return t(r)?n.concat(r,i):i}}}},iL=function(t){return function(n){return{concat:function(r,i){return t(i)?n.concat(r,i):r}}}},iF=function(t){return function(n){return{concat:function(r,i){return n.concat(t(r),t(i))}}}},iD=function(t){return function(n){return function(r){return r.reduce(function(n,r){return t.concat(n,r)},n)}}};let iW=Object.freeze(Object.defineProperty({__proto__:null,concatAll:iD,endo:iF,filterFirst:iP,filterSecond:iL,reverse:iN},Symbol.toStringTag,{value:"Module"}));var iU=function(t){return{concat:iC(t)}},iz=function(t){return{concat:iI(t)}},iB=function(t){return{concat:function(){return t}}},iV=function(t){return{concat:function(n,r){var i={};for(var o in t)rj.call(t,o)&&(i[o]=t[o].concat(n[o],r[o]));return i}}},i$=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{concat:function(n,r){return t.map(function(t,i){return t.concat(n[i],r[i])})}}},iq=function(t){return function(n){return{concat:function(r,i){return n.concat(r,n.concat(t,i))}}}},iK=function(){return{concat:rn}},iH=function(){return{concat:function(t,n){return n}}},iG=iB(void 0),iZ=function(){return{concat:function(t,n){return Object.assign({},t,n)}}},iY={concat:function(t,n){return t&&n}},iJ={concat:function(t,n){return t||n}},iQ={concat:function(t,n){return t+n}},iX={concat:function(t,n){return t+n}},i0={concat:function(t,n){return t*n}};let i1=Object.freeze(Object.defineProperty({__proto__:null,concatAll:iD,constant:iB,first:iK,fold:function(t){var n=iD(t);return function(t,r){return void 0===r?n(t):n(t)(r)}},getDualSemigroup:iN,getFirstSemigroup:iK,getFunctionSemigroup:n9,getIntercalateSemigroup:iq,getJoinSemigroup:iz,getLastSemigroup:iH,getMeetSemigroup:iU,getObjectSemigroup:iZ,getStructSemigroup:iV,getTupleSemigroup:i$,intercalate:iq,last:iH,max:iz,min:iU,reverse:iN,semigroupAll:iY,semigroupAny:iJ,semigroupProduct:i0,semigroupString:iQ,semigroupSum:iX,semigroupVoid:iG,struct:iV,tuple:i$},Symbol.toStringTag,{value:"Module"}));var i2=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},i3=function(t,n){return t<0||t>=n.length},i4=function(t){return function(n){return i2([t],n,!0)}},i5=function(t){return function(n){return i2(i2([],n,!0),[t],!1)}},i6=function(t,n,r){if(rC(r)){var i=rA(r);return i.splice(t,0,n),i}return[n]},i9=function(t,n,r){if(r[t]===n)return r;var i=rA(r);return i[t]=n,i},i8=function(t){return function(n){if(1===n.length)return n;for(var r=[ac(n)],i=ad(n),o=function(n){r.every(function(r){return!t.equals(r,n)})&&r.push(n)},a=0;a<i.length;a++)o(i[a]);return r}},i7=function(t){if(rC(t)){var n=ib();return om(t.reduce(n.concat,n.empty))}return rn},oe=function(t){var n=i8(t);return function(t){return function(r){return n(rp(r,od(t)))}}},ot=function(t){return function(n){var r=n.length,i=Math.round(t)%r;if(i3(Math.abs(i),n)||0===i)return n;if(!(i<0))return ot(i-r)(n);var o=ow(-i)(n),a=o[0];return rp(o[1],od(a))}},on=function(t){return rC(t)?r_(t):rx},or=function(t){return function(n){for(var r=Math.max(0,Math.floor(n)),i=[t(0)],o=1;o<r;o++)i.push(t(o));return i}},oi=function(t){return or(function(){return t})},oo=function(t,n){return t<=n?or(function(n){return t+n})(n-t+1):[t]},oa=function(t){return[ac(t),ad(t)]},ou=function(t){return[ap(t),af(t)]},ol=function(t){return on(t.slice())};function oc(t){return function(n){return n.concat(t)}}function od(t,n){return n?t.concat(n):function(n){return n.concat(t)}}var of=function(t){return 1===t.length?t:i2([af(t)],t.slice(0,-1).reverse(),!0)};function op(t){return function(n){var r=n.length;if(0===r)return rR;for(var i=[],o=n[0],a=[o],u=1;u<r;u++){var s=n[u];t.equals(s,o)?a.push(s):(i.push(a),a=[o=s])}return i.push(a),i}}var oh=function(t){return function(n){for(var r={},i=0;i<n.length;i++){var o=n[i],a=t(o);rj.call(r,a)?r[a].push(o):r[a]=[o]}return r}},om=function(t){return function(n){return 1===n.length?n:n.slice().sort(t.compare)}},og=function(t,n){return oy(t,function(){return n})},oy=function(t,n){return function(r){return i3(t,r)?rx:r_(i9(t,n(r[t]),r))}},ov=function(t,n,r){for(var i=[r(t[0],n[0])],o=Math.min(t.length,n.length),a=1;a<o;a++)i[a]=r(t[a],n[a]);return i},ob=function(t){for(var n=[t[0][0]],r=[t[0][1]],i=1;i<t.length;i++)n[i]=t[i][0],r[i]=t[i][1];return[n,r]},ox=function(t){return function(n){for(var r=[t,n[0]],i=1;i<n.length;i++)r.push(t,n[i]);return r}},o_=function(t){return function(n){var r=ad(n);return rC(r)?rp(r,ox(t),i4(ac(n))):n}},oS=function(t){return function(n){for(var r=rA(t(0,ac(n))),i=1;i<n.length;i++)r.push.apply(r,t(i,n[i]));return r}},oT=function(t){return function(n){for(var r=t(n),i=r[0],o=r[1],a=[i],u=o;rC(u);){var s=t(u),l=s[0],c=s[1];a.push(l),u=c}return a}},ow=function(t){return function(n){var r=Math.max(1,t);return r>=n.length?[n,rR]:[rp(n.slice(1,r),i4(ac(n))),n.slice(r)]}},oO=function(t){return oT(ow(t))},ok=function(t,n){return rp(t,oH(n))},oC=function(t,n){return rp(t,oG(n))},oI=function(t,n){return rp(t,oB(n))},oM=function(t,n){return rp(t,oV(n))},oR=function(t,n){return rp(t,o$(n))},oE=function(t,n,r){return rp(t,oZ(n,r))},oj=function(t){var n=oY(t);return function(t,r){return rp(t,n(r))}},oA=function(t,n,r){return rp(t,oJ(n,r))},oN=function(t){var n=o1(t);return function(t,r){return rp(t,n(r))}},oP=function(t,n){return rp(t,oz(n))},oL=function(t,n,r){return rp(t,oQ(n,r))},oF=function(t){var n=oX(t);return function(t,r){return rp(t,n(r))}},oD=function(t,n,r){return rp(t,o0(n,r))},oW=function(t){var n=o3(t);return function(t,r){return rp(t,n(r))}},oU=function(t){return function(n){return rp(n,oc(t()))}},oz=oU,oB=function(t){return oV(function(n){return rp(t,oH(n))})},oV=function(t){return oS(function(n,r){return t(r)})},o$=function(t){return function(n){for(var r=ad(n),i=[t(n)];rC(r);)i.push(t(r)),r=ad(r);return i}},oq=o$(rn),oK=oV(rn),oH=function(t){return oG(function(n,r){return t(r)})},oG=function(t){return function(n){for(var r=[t(0,ac(n))],i=1;i<n.length;i++)r.push(t(i,n[i]));return r}},oZ=function(t,n){return oQ(t,function(t,r,i){return n(r,i)})},oY=function(t){return function(n){return function(r){return r.slice(1).reduce(function(r,i){return t.concat(r,n(i))},n(r[0]))}}},oJ=function(t,n){return o0(t,function(t,r,i){return n(r,i)})},oQ=function(t,n){return function(r){return r.reduce(function(t,r,i){return n(i,t,r)},t)}},oX=function(t){return function(n){return function(r){return r.slice(1).reduce(function(r,i,o){return t.concat(r,n(o+1,i))},n(0,r[0]))}}},o0=function(t,n){return function(r){return r.reduceRight(function(t,r,i){return n(i,r,t)},t)}},o1=function(t){var n=o3(t);return function(t){return n(function(n,r){return t(r)})}},o2=function(t){return o3(t)(rh)},o3=function(t){return function(n){return function(r){for(var i=t.map(n(0,ac(r)),rk),o=1;o<r.length;o++)i=t.ap(t.map(i,function(t){return function(n){return rp(t,i5(n))}}),n(o,r[o]));return i}}},o4="ReadonlyNonEmptyArray",o5=function(t){return{show:function(n){return"[".concat(n.map(t.show).join(", "),"]")}}},o6=function(){return{concat:od}},o9=function(t){return ie(function(n,r){return n.length===r.length&&n.every(function(n,i){return t.equals(n,r[i])})})},o8=function(t){var n=oe(t);return{concat:function(t,r){return n(r)(t)}}},o7={URI:o4,map:ok},ae=rq(o7),at={URI:o4,map:ok,ap:oI},an=rP(at),ar=rL(at),ai={URI:o4,map:ok,ap:oI,chain:oM},ao=rQ(ai),aa=rk(rE),au=rK(o7),as=rX(ai),al=rF(at),ac=rI,ad=rM,af=function(t){return t[t.length-1]},ap=function(t){return t.slice(0,-1)},ah=function(t){var n=iU(t);return function(t){return t.reduce(n.concat)}},am=function(t){var n=iz(t);return function(t){return t.reduce(n.concat)}},ag=function(t){return function(n){return n.reduce(t.concat)}},ay=function(t){return function(n){return t(ac(n),ad(n))}},av=function(t){return function(n){return t(ap(n),af(n))}},ab=function(t){return function(n){return i2([t(ac(n))],ad(n),!0)}},ax=function(t){return ab(function(){return t})},a_=function(t){return function(n){return rp(ap(n),i5(t(af(n))))}},aS=function(t){return a_(function(){return t})},aT=function(t){var n=ag(t);return function(t){return rs(o_(t),n)}},aw=function(t){return function(n){return on(n.filter(function(n,r){return t(r,n)}))}};function aO(t,n){return void 0===n?i4(t):rp(n,i4(t))}var ak=function(t,n){return rp(t,od([n]))},aC=function(t,n){return function(r){return t<0||t>r.length?rx:r_(i6(t,n,r))}};let aI=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:o4,map:ok,alt:oP},Applicative:{URI:o4,map:ok,ap:oI,of:rk},Apply:at,Chain:ai,Comonad:{URI:o4,map:ok,extend:oR,extract:rI},Do:aa,Foldable:{URI:o4,reduce:oE,foldMap:oj,reduceRight:oA},FoldableWithIndex:{URI:o4,reduce:oE,foldMap:oj,reduceRight:oA,reduceWithIndex:oL,foldMapWithIndex:oF,reduceRightWithIndex:oD},Functor:o7,FunctorWithIndex:{URI:o4,map:ok,mapWithIndex:oC},Monad:{URI:o4,map:ok,ap:oI,of:rk,chain:oM},Pointed:{URI:o4,of:rk},Traversable:{URI:o4,map:ok,reduce:oE,foldMap:oj,reduceRight:oA,traverse:oN,sequence:o2},TraversableWithIndex:{URI:o4,map:ok,mapWithIndex:oC,reduce:oE,foldMap:oj,reduceRight:oA,traverse:oN,sequence:o2,reduceWithIndex:oL,foldMapWithIndex:oF,reduceRightWithIndex:oD,traverseWithIndex:oW},URI:o4,alt:oz,altW:oU,ap:oB,apFirst:an,apS:al,apSecond:ar,append:i5,appendW:i5,bind:as,bindTo:au,chain:oV,chainFirst:ao,chainWithIndex:oS,chop:oT,chunksOf:oO,concat:od,concatAll:ag,concatW:oc,cons:aO,duplicate:oq,empty:rR,extend:o$,extract:rI,filter:function(t){return aw(function(n,r){return t(r)})},filterWithIndex:aw,flap:ae,flatten:oK,fold:ag,foldMap:oY,foldMapWithIndex:oX,fromArray:ol,fromReadonlyArray:on,getEq:o9,getSemigroup:o6,getShow:o5,getUnionSemigroup:o8,group:op,groupBy:oh,groupSort:function(t){var n=om(t),r=op(t);return function(t){return rC(t)?r(n(t)):rR}},head:ac,init:ap,insertAt:aC,intercalate:aT,intersperse:o_,isNonEmpty:rC,isOutOfBound:i3,last:af,makeBy:or,map:oH,mapWithIndex:oG,matchLeft:ay,matchRight:av,max:am,min:ah,modifyAt:oy,modifyHead:ab,modifyLast:a_,of:rk,prepend:i4,prependAll:ox,prependToAll:ox,prependW:i4,range:oo,readonlyNonEmptyArray:{URI:o4,of:rk,map:ok,mapWithIndex:oC,ap:oI,chain:oM,extend:oR,extract:rI,reduce:oE,foldMap:oj,reduceRight:oA,traverse:oN,sequence:o2,reduceWithIndex:oL,foldMapWithIndex:oF,reduceRightWithIndex:oD,traverseWithIndex:oW,alt:oP},reduce:oZ,reduceRight:oJ,reduceRightWithIndex:o0,reduceWithIndex:oQ,replicate:oi,reverse:of,rotate:ot,sequence:o2,snoc:ak,sort:om,sortBy:i7,splitAt:ow,tail:ad,traverse:o1,traverseWithIndex:o3,unappend:ou,uncons:oa,union:oe,uniq:i8,unprepend:oa,unsafeInsertAt:i6,unsafeUpdateAt:i9,unsnoc:ou,unzip:ob,updateAt:og,updateHead:ax,updateLast:aS,zip:function t(n,r){return void 0===r?function(r){return t(r,n)}:ov(n,r,function(t,n){return[t,n]})},zipWith:ov},Symbol.toStringTag,{value:"Module"}));var aM=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},aR=function(t){return t.length>0},aE=function(t,n){return t<0||t>=n.length},aj=function(t){return function(n){return aM([t],n,!0)}},aA=function(t){return function(n){return aM(aM([],n,!0),[t],!1)}},aN=function(t,n,r){if(aR(r)){var i=aU(r);return i.splice(t,0,n),i}return[n]},aP=function(t,n,r){var i=aU(r);return i[t]=n,i},aL=function(t){return function(n){if(1===n.length)return a2(n);for(var r=[uK(n)],i=uH(n),o=function(n){r.every(function(r){return!t.equals(r,n)})&&r.push(n)},a=0;a<i.length;a++)o(i[a]);return r}},aF=function(t){if(aR(t)){var n=ib();return aQ(t.reduce(n.concat,n.empty))}return a2},aD=function(t){var n=aL(t);return function(t){return function(r){return n(rp(r,aG(t)))}}},aW=function(t){return function(n){var r=n.length,i=Math.round(t)%r;if(aE(Math.abs(i),n)||0===i)return a2(n);if(!(i<0))return aW(i-r)(n);var o=ue(-i)(n),a=o[0];return rp(o[1],aG(a))}},aU=rA,az=function(t){return aR(t)?r_(t):rx},aB=function(t){return function(n){for(var r=Math.max(0,Math.floor(n)),i=[t(0)],o=1;o<r;o++)i.push(t(o));return i}},aV=function(t){return aB(function(){return t})},a$=function(t,n){return t<=n?aB(function(n){return t+n})(n-t+1):[t]},aq=function(t){return[uK(t),uH(t)]},aK=function(t){return[uZ(t),uG(t)]};function aH(t){return function(n){return n.concat(t)}}function aG(t,n){return n?t.concat(n):function(n){return n.concat(t)}}var aZ=function(t){return aM([uG(t)],t.slice(0,-1).reverse(),!0)};function aY(t){return function(n){var r=n.length;if(0===r)return[];for(var i=[],o=n[0],a=[o],u=1;u<r;u++){var s=n[u];t.equals(s,o)?a.push(s):(i.push(a),a=[o=s])}return i.push(a),i}}var aJ=function(t){return function(n){for(var r={},i=0;i<n.length;i++){var o=n[i],a=t(o);rj.call(r,a)?r[a].push(o):r[a]=[o]}return r}},aQ=function(t){return function(n){return n.slice().sort(t.compare)}},aX=function(t,n){return function(r){return t<0||t>r.length?rx:r_(aN(t,n,r))}},a0=function(t,n){return a1(t,function(){return n})},a1=function(t,n){return function(r){return aE(t,r)?rx:r_(aP(t,n(r[t]),r))}},a2=aU,a3=function(t){return[t]},a4=function(t,n,r){for(var i=[r(t[0],n[0])],o=Math.min(t.length,n.length),a=1;a<o;a++)i[a]=r(t[a],n[a]);return i},a5=function(t){for(var n=[t[0][0]],r=[t[0][1]],i=1;i<t.length;i++)n[i]=t[i][0],r[i]=t[i][1];return[n,r]},a6=function(t){return function(n){for(var r=[t,n[0]],i=1;i<n.length;i++)r.push(t,n[i]);return r}},a9=function(t){return function(n){var r=uH(n);return aR(r)?rp(r,a6(t),aj(uK(n))):a2(n)}},a8=function(t){return function(n){for(var r=aU(t(0,uK(n))),i=1;i<n.length;i++)r.push.apply(r,t(i,n[i]));return r}},a7=function(t){return function(n){for(var r=t(n),i=r[0],o=r[1],a=[i],u=o;aR(u);){var s=t(u),l=s[0],c=s[1];a.push(l),u=c}return a}},ue=function(t){return function(n){var r=Math.max(1,t);return r>=n.length?[a2(n),[]]:[rp(n.slice(1,r),aj(uK(n))),n.slice(r)]}},ut=function(t){return a7(ue(t))},un=function(t,n){return rp(t,uT(n))},ur=function(t,n){return rp(t,uw(n))},ui=function(t,n){return rp(t,uv(n))},uo=function(t,n){return rp(t,ub(n))},ua=function(t,n){return rp(t,ux(n))},uu=function(t,n,r){return rp(t,uO(n,r))},us=function(t){var n=oY(t);return function(t,r){return rp(t,n(r))}},ul=function(t,n,r){return rp(t,uC(n,r))},uc=function(t){var n=uM(t);return function(t,r){return rp(t,n(r))}},ud=function(t,n){return rp(t,uy(n))},uf=function(t,n,r){return rp(t,uk(n,r))},up=function(t){var n=oX(t);return function(t,r){return rp(t,n(r))}},uh=function(t,n,r){return rp(t,uI(n,r))},um=function(t){var n=uE(t);return function(t,r){return rp(t,n(r))}},ug=function(t){return function(n){return rp(n,aH(t()))}},uy=ug,uv=function(t){return ub(function(n){return rp(t,uT(n))})},ub=function(t){return a8(function(n,r){return t(r)})},ux=function(t){return function(n){for(var r=uH(n),i=[t(n)];aR(r);)i.push(t(r)),r=uH(r);return i}},u_=ux(rn),uS=ub(rn),uT=function(t){return uw(function(n,r){return t(r)})},uw=function(t){return function(n){for(var r=[t(0,uK(n))],i=1;i<n.length;i++)r.push(t(i,n[i]));return r}},uO=oZ,uk=oQ,uC=oJ,uI=o0,uM=function(t){var n=uE(t);return function(t){return n(function(n,r){return t(r)})}},uR=function(t){return uE(t)(function(t,n){return n})},uE=function(t){return function(n){return function(r){for(var i=t.map(n(0,uK(r)),a3),o=1;o<r.length;o++)i=t.ap(t.map(i,function(t){return function(n){return rp(t,aA(n))}}),n(o,r[o]));return i}}},uj="NonEmptyArray",uA=function(){return{concat:aG}},uN=function(t){var n=aD(t);return{concat:function(t,r){return n(r)(t)}}},uP={URI:uj,map:un},uL=rq(uP),uF={URI:uj,map:un,ap:ui},uD=rP(uF),uW=rL(uF),uU={URI:uj,map:un,ap:ui,chain:uo},uz=rQ(uU),uB=a3(rE),uV=rK(uP),u$=rX(uU),uq=rF(uF),uK=ac,uH=function(t){return t.slice(1)},uG=af,uZ=function(t){return t.slice(0,-1)},uY=function(t){return function(n){return n.reduce(t.concat)}},uJ=function(t){return function(n){return t(uK(n),uH(n))}},uQ=function(t){return function(n){return t(uZ(n),uG(n))}},uX=function(t){return function(n){return aM([t(uK(n))],uH(n),!0)}},u0=function(t){return uX(function(){return t})},u1=function(t){return function(n){return rp(uZ(n),aA(t(uG(n))))}},u2=function(t){return u1(function(){return t})},u3=function(t){return function(n){return az(n.filter(function(n,r){return t(r,n)}))}};function u4(t,n){return void 0===n?aj(t):rp(n,aj(t))}var u5=function(t,n){return rp(t,aA(n))};let u6=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:uj,map:un,alt:ud},Applicative:{URI:uj,map:un,ap:ui,of:a3},Apply:uF,Chain:uU,Comonad:{URI:uj,map:un,extend:ua,extract:ac},Do:uB,Foldable:{URI:uj,reduce:uu,foldMap:us,reduceRight:ul},FoldableWithIndex:{URI:uj,reduce:uu,foldMap:us,reduceRight:ul,reduceWithIndex:uf,foldMapWithIndex:up,reduceRightWithIndex:uh},Functor:uP,FunctorWithIndex:{URI:uj,map:un,mapWithIndex:ur},Monad:{URI:uj,map:un,ap:ui,of:a3,chain:uo},Pointed:{URI:uj,of:a3},Traversable:{URI:uj,map:un,reduce:uu,foldMap:us,reduceRight:ul,traverse:uc,sequence:uR},TraversableWithIndex:{URI:uj,map:un,mapWithIndex:ur,reduce:uu,foldMap:us,reduceRight:ul,traverse:uc,sequence:uR,reduceWithIndex:uf,foldMapWithIndex:up,reduceRightWithIndex:uh,traverseWithIndex:um},URI:uj,alt:uy,altW:ug,ap:uv,apFirst:uD,apS:uq,apSecond:uW,append:aA,appendW:aA,bind:u$,bindTo:uV,chain:ub,chainFirst:uz,chainWithIndex:a8,chop:a7,chunksOf:ut,concat:aG,concatAll:uY,concatW:aH,cons:u4,copy:a2,duplicate:u_,extend:ux,extract:ac,filter:function(t){return u3(function(n,r){return t(r)})},filterWithIndex:u3,flap:uL,flatten:uS,fold:ag,foldMap:oY,foldMapWithIndex:oX,fromArray:az,fromReadonlyNonEmptyArray:aU,getEq:o9,getSemigroup:uA,getShow:o5,getUnionSemigroup:uN,group:aY,groupBy:aJ,groupSort:function(t){var n=aQ(t),r=aY(t);return function(t){return aR(t)?r(n(t)):[]}},head:uK,init:uZ,insertAt:aX,intercalate:aT,intersperse:a9,isNonEmpty:aR,isOutOfBound:aE,last:uG,makeBy:aB,map:uT,mapWithIndex:uw,matchLeft:uJ,matchRight:uQ,max:am,min:ah,modifyAt:a1,modifyHead:uX,modifyLast:u1,nonEmptyArray:{URI:uj,of:a3,map:un,mapWithIndex:ur,ap:ui,chain:uo,extend:ua,extract:ac,reduce:uu,foldMap:us,reduceRight:ul,traverse:uc,sequence:uR,reduceWithIndex:uf,foldMapWithIndex:up,reduceRightWithIndex:uh,traverseWithIndex:um,alt:ud},of:a3,prepend:aj,prependAll:a6,prependToAll:a6,prependW:aj,range:a$,reduce:uO,reduceRight:uC,reduceRightWithIndex:uI,reduceWithIndex:uk,replicate:aV,reverse:aZ,rotate:aW,sequence:uR,snoc:u5,sort:aQ,sortBy:aF,splitAt:ue,tail:uH,traverse:uM,traverseWithIndex:uE,unappend:aK,uncons:aq,union:aD,uniq:aL,unprepend:aq,unsafeInsertAt:aN,unsafeUpdateAt:aP,unsnoc:aK,unzip:a5,updateAt:a0,updateHead:u0,updateLast:u2,zip:function t(n,r){return void 0===r?function(r){return t(r,n)}:a4(n,r,function(t,n){return[t,n]})},zipWith:a4},Symbol.toStringTag,{value:"Module"}));var u9=function(t){return"number"==typeof t},u8={equals:function(t,n){return t===n}},u7={equals:u8.equals,compare:function(t,n){return t<n?-1:t>n?1:0}},se={equals:u8.equals,compare:u7.compare,top:1/0,bottom:-1/0},st={concat:function(t,n){return t-n}},sn={concat:function(t,n){return t+n}},sr={concat:function(t,n){return t*n}},si={concat:sn.concat,empty:0},so={concat:sr.concat,empty:1},sa={add:sn.concat,zero:0,mul:sr.concat,one:1,sub:st.concat,degree:function(t){return 1},div:function(t,n){return t/n},mod:function(t,n){return t%n}};let su=Object.freeze(Object.defineProperty({__proto__:null,Bounded:se,Eq:u8,Field:sa,MagmaSub:st,MonoidProduct:so,MonoidSum:si,Ord:u7,SemigroupProduct:sr,SemigroupSum:sn,Show:{show:function(t){return JSON.stringify(t)}},isNumber:u9},Symbol.toStringTag,{value:"Module"}));var ss=function(t,n){return{left:t,right:n}},sl=function(t,n){return rp(t,sf(n))},sc=function(t,n,r){return rp(t,sp(n,r))},sd=function(t){return function(n){return ss(sy(n),t(sv(n)))}},sf=function(t){return function(n){return ss(t(sy(n)),sv(n))}},sp=function(t,n){return function(r){return ss(t(sy(r)),n(sv(r)))}},sh="Separated",sm={URI:sh,map:function(t,n){return rp(t,sd(n))}},sg=rq(sm),sy=function(t){return t.left},sv=function(t){return t.right};let sb=Object.freeze(Object.defineProperty({__proto__:null,Bifunctor:{URI:sh,mapLeft:sl,bimap:sc},Functor:sm,URI:sh,bimap:sp,flap:sg,left:sy,map:sd,mapLeft:sf,right:sv,separated:ss},Symbol.toStringTag,{value:"Module"}));function sx(t,n){return function(r){var i=t.traverse(r);return function(t,o){return r.map(i(t,o),n.separate)}}}function s_(t,n){return function(r){var i=t.traverse(r);return function(t,o){return r.map(i(t,o),n.compact)}}}function sS(t){return function(n){var r=t.wither(n);return function(t){return function(i){return r(i,function(r){return n.map(t(r),function(t){return t?r_(r):rx})})}}}}let sT=Object.freeze(Object.defineProperty({__proto__:null,filterE:sS,wiltDefault:sx,witherDefault:s_},Symbol.toStringTag,{value:"Module"}));function sw(t,n){return function(r){return r?n.of(void 0):t.zero()}}let sO=Object.freeze(Object.defineProperty({__proto__:null,guard:sw},Symbol.toStringTag,{value:"Module"}));var sk=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},sC=function(t){return 0===t.length},sI=function(t,n){return t<=0?cz:or(n)(t)},sM=function(t,n){return sI(t,function(){return n})},sR=function(t){return rv(t)?cz:[t.value]},sE=function(t){return rS(t)?cz:[t.right]},sj=function(t,n){return function(r){return rC(r)?n(r):t()}},sA=function(t,n){return function(r){return rC(r)?n(ac(r),ad(r)):t()}},sN=function(t,n){return function(r){return rC(r)?n(ap(r),af(r)):t()}},sP=function(t){return function(n){if(sC(n))return cz;for(var r=[],i=0;i<n.length;i++)r.push.apply(r,t(i,n[i]));return r}},sL=function(t,n){return function(r){var i=r.length,o=Array(i+1);o[0]=t;for(var a=0;a<i;a++)o[a+1]=n(o[a],r[a]);return o}},sF=function(t,n){return function(r){var i=r.length,o=Array(i+1);o[i]=t;for(var a=i-1;a>=0;a--)o[a]=n(r[a],o[a+1]);return o}},sD=function(t){return t.length};function sW(t,n){return void 0===n?function(n){return sW(t,n)}:i3(t,n)?rx:r_(n[t])}var sU=function(t){return rC(t)?r_(ac(t)):rx},sz=function(t){return rC(t)?r_(af(t)):rx},sB=function(t){return rC(t)?r_(ad(t)):rx},sV=function(t){return rC(t)?r_(ap(t)):rx},s$=function(t){return function(n){return i3(t,n)?n:0===t?cz:n.slice(0,t)}},sq=function(t){return function(n){return i3(t,n)?n:0===t?cz:n.slice(-t)}},sK=function(t,n){for(var r=t.length,i=0;i<r&&n(t[i]);i++);return i},sH=function(t){return function(n){return t<=0||sC(n)?n:t>=n.length?cz:n.slice(t,n.length)}},sG=function(t){return function(n){return t<=0||sC(n)?n:t>=n.length?cz:n.slice(0,n.length-t)}},sZ=function(t){return function(n){for(var r=0;r<n.length;r++)if(t(n[r]))return r_(r);return rx}};function sY(t){return function(n){for(var r=0;r<n.length;r++)if(t(n[r]))return r_(n[r]);return rx}}var sJ=function(t){return function(n){for(var r=0;r<n.length;r++){var i=t(n[r]);if(rb(i))return i}return rx}};function sQ(t){return function(n){for(var r=n.length-1;r>=0;r--)if(t(n[r]))return r_(n[r]);return rx}}var sX=function(t){return function(n){for(var r=n.length-1;r>=0;r--){var i=t(n[r]);if(rb(i))return i}return rx}},s0=function(t){return function(n){for(var r=n.length-1;r>=0;r--)if(t(n[r]))return r_(r);return rx}},s1=function(t,n){return function(r){return t<0||t>r.length?rx:r_(i6(t,n,r))}},s2=function(t,n){return s4(t,function(){return n})},s3=function(t){return function(n){return i3(t,n)?rx:r_(cD(t,n))}},s4=function(t,n){return function(r){return i3(t,r)?rx:r_(cF(t,n(r[t]),r))}},s5=function(t){return t.length<=1?t:t.slice().reverse()},s6=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"Right"===i._tag&&n.push(i.right)}return n},s9=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"Left"===i._tag&&n.push(i.left)}return n},s8=function(t){return function(n){return n.length<=1?n:n.slice().sort(t.compare)}},s7=function(t,n,r){for(var i=[],o=Math.min(t.length,n.length),a=0;a<o;a++)i[a]=r(t[a],n[a]);return i},le=function(t){for(var n=[],r=[],i=0;i<t.length;i++)n[i]=t[i][0],r[i]=t[i][1];return[n,r]},lt=function(t){var n=ox(t);return function(t){return rC(t)?n(t):t}},ln=function(t){var n=o_(t);return function(t){return rC(t)?n(t):t}},lr=function(t){var n=ot(t);return function(t){return rC(t)?n(t):t}};function li(t){return function(n,r){if(void 0===r){var i,o=li(t);return function(t){return o(n,t)}}for(var a=0;a<r.length;a++)if(i=r[a],t.equals(i,n))return!0;return!1}}var lo=function(t){var n=i8(t);return function(t){return rC(t)?n(t):t}},la=function(t){var n=i7(t);return function(t){return rC(t)?n(t):t}},lu=function(t){var n=oT(t);return function(t){return rC(t)?n(t):cz}},ls=function(t){return function(n){return t>=1&&rC(n)?ow(t)(n):sC(n)?[n,cz]:[cz,n]}},ll=function(t){var n=oO(t);return function(t){return rC(t)?n(t):cz}},lc=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return sR(t.apply(void 0,n))}},ld=function(t){return function(n){return sC(n)?t:sC(t)?n:n.concat(t)}};function lf(t){var n=oe(t);return function(r,i){if(void 0===i){var o=lf(t);return function(t){return o(t,r)}}return rC(r)&&rC(i)?n(i)(r):rC(r)?r:i}}function lp(t){var n=li(t);return function(r,i){if(void 0===i){var o=lp(t);return function(t){return o(t,r)}}return r.filter(function(t){return n(t,i)})}}function lh(t){var n=li(t);return function(r,i){if(void 0===i){var o=lh(t);return function(t){return o(t,r)}}return r.filter(function(t){return!n(t,i)})}}var lm=function(t,n){return rp(t,lq(n))},lg=function(t,n){return rp(t,lK(n))},ly=function(t,n){return rp(t,lB(n))},lv=function(t,n){return rp(t,lV(n))},lb=function(t,n){return rp(t,lG(n))},lx=function(t,n){return rp(t,lY(n))},l_=function(t,n){return rp(t,lQ(n))},lS=function(t,n){return rp(t,l0(n))},lT=function(t,n){return rp(t,lX(n))},lw=function(t,n){return rp(t,l1(n))},lO=function(t,n){return rp(t,lz(n))},lk=function(t,n,r){return rp(t,l6(n,r))},lC=function(t){var n=l9(t);return function(t,r){return rp(t,n(r))}},lI=function(t,n,r){return rp(t,l7(n,r))},lM=function(t,n,r){return rp(t,l8(n,r))},lR=function(t){var n=l5(t);return function(t,r){return rp(t,n(r))}},lE=function(t,n,r){return rp(t,ce(n,r))},lj=function(t,n){return rp(t,lZ(n))},lA=function(t,n){return rp(t,l2(n))},lN=function(t,n){return rp(t,l3(n))},lP=function(t){var n=ct(t);return function(t,r){return rp(t,n(r))}},lL=function(t){var n=cr(t);return function(t,r){return rp(t,n(r))}},lF=function(t,n){return rp(t,cM(n))},lD=function(t,n){return rp(t,cR(n))},lW=function(){return cz},lU=function(t){return function(n){return n.concat(t())}},lz=lU,lB=function(t){return lV(function(n){return rp(t,lq(n))})},lV=function(t){return function(n){return rp(n,sP(function(n,r){return t(r)}))}},l$=lV(rn),lq=function(t){return function(n){return n.map(function(n){return t(n)})}},lK=function(t){return function(n){return n.map(function(n,r){return t(r,n)})}},lH=function(t){for(var n=[],r=[],i=0;i<t.length;i++){var o=t[i];"Left"===o._tag?n.push(o.left):r.push(o.right)}return ss(n,r)},lG=function(t){return function(n){return n.filter(t)}},lZ=function(t){return function(n){for(var r=[],i=0;i<n.length;i++){var o=t(i,n[i]);rb(o)&&r.push(o.value)}return r}},lY=function(t){return lZ(function(n,r){return t(r)})},lJ=lY(rn),lQ=function(t){return lX(function(n,r){return t(r)})},lX=function(t){return function(n){for(var r=[],i=[],o=0;o<n.length;o++){var a=n[o];t(o,a)?i.push(a):r.push(a)}return ss(r,i)}},l0=function(t){return l1(function(n,r){return t(r)})},l1=function(t){return function(n){for(var r=[],i=[],o=0;o<n.length;o++){var a=t(o,n[o]);"Left"===a._tag?r.push(a.left):i.push(a.right)}return ss(r,i)}},l2=function(t){return function(n){return n.filter(function(n,r){return t(r,n)})}},l3=function(t){return function(n){return n.map(function(r,i){return t(n.slice(i))})}},l4=l3(rn),l5=function(t){return function(n){return function(r){return r.reduce(function(r,i,o){return t.concat(r,n(o,i))},t.empty)}}},l6=function(t,n){return l8(t,function(t,r,i){return n(r,i)})},l9=function(t){var n=l5(t);return function(t){return n(function(n,r){return t(r)})}},l8=function(t,n){return function(r){for(var i=r.length,o=t,a=0;a<i;a++)o=n(a,o,r[a]);return o}},l7=function(t,n){return ce(t,function(t,r,i){return n(r,i)})},ce=function(t,n){return function(r){return r.reduceRight(function(t,r,i){return n(i,r,t)},t)}},ct=function(t){var n=cr(t);return function(t){return n(function(n,r){return t(r)})}},cn=function(t){return function(n){return lk(n,t.of(lW()),function(n,r){return t.ap(t.map(n,function(t){return function(n){return rp(t,i5(n))}}),r)})}},cr=function(t){return function(n){return l8(t.of(lW()),function(r,i,o){return t.ap(t.map(i,function(t){return function(n){return rp(t,i5(n))}}),n(r,o))})}},ci=function(t){var n=cE(t);return function(t){return function(r){return n(r,t)}}},co=function(t){var n=cj(t);return function(t){return function(r){return n(r,t)}}},ca=function(t,n){for(var r=[],i=t;;){var o=n(i);if(rb(o)){var a=o.value,u=a[0],s=a[1];r.push(u),i=s}else break}return r},cu="ReadonlyArray",cs=function(t){return{show:function(n){return"[".concat(n.map(t.show).join(", "),"]")}}},cl=function(){return{concat:function(t,n){return sC(t)?n:sC(n)?t:t.concat(n)}}},cc=function(){return{concat:cl().concat,empty:cz}},cd=function(t){return ie(function(n,r){return n.length===r.length&&n.every(function(n,i){return t.equals(n,r[i])})})},cf=function(t){return ih(function(n,r){for(var i=n.length,o=r.length,a=Math.min(i,o),u=0;u<a;u++){var s=t.compare(n[u],r[u]);if(0!==s)return s}return u7.compare(i,o)})},cp=function(t){var n=lf(t);return{concat:function(t,r){return n(r)(t)}}},ch=function(t){return{concat:cp(t).concat,empty:cz}},cm=function(t){var n=lp(t);return{concat:function(t,r){return n(r)(t)}}},cg=function(t){var n=lh(t);return{concat:function(t,r){return n(r)(t)}}},cy={URI:cu,map:lm},cv=rq(cy),cb={URI:cu,of:rk},cx={URI:cu,map:lm,ap:ly},c_=rP(cx),cS=rL(cx),cT={URI:cu,map:lm,ap:ly,chain:lv},cw=rQ(cT),cO={URI:cu,zero:lW},ck=sw(cO,cb),cC={URI:cu,compact:lJ,separate:lH},cI={URI:cu,map:lm,reduce:lk,foldMap:lC,reduceRight:lI,traverse:lP,sequence:cn},cM=function(t){return function(n){for(var r=sk([],t(n),!0),i=[];r.length>0;){var o=r.shift();rS(o)?r.unshift.apply(r,t(o.left)):i.push(o.right)}return i}},cR=function(t){return function(n){var r=t(n),i=[],o=[];function a(n){rS(n)?t(n.left).forEach(function(t){return i.push(t)}):o.push(n.right)}for(var u=0;u<r.length;u++)a(r[u]);for(;i.length>0;)a(i.shift());return o}},cE=s_(cI,cC),cj=sx(cI,cC),cA={URI:cu,map:lm,compact:lJ,separate:lH,filter:lb,filterMap:lx,partition:l_,partitionMap:lS,reduce:lk,foldMap:lC,reduceRight:lI,traverse:lP,sequence:cn,wither:cE,wilt:cj},cN=sS(cA),cP={URI:cu,fromEither:sE},cL=r5(cP),cF=function(t,n,r){return rC(r)?i9(t,n,r):r},cD=function(t,n){var r=n.slice();return r.splice(t,1),r},cW=function(t){return t.slice()},cU=function(t){return sC(t)?cz:t.slice()},cz=rR;function cB(t){return function(n){return n.every(t)}}var cV=function(t){return function(n){return n.some(t)}},c$=function(t){var n=aT(t);return function(r){return sj(function(){return t.empty},n(r))}},cq=rk(rE),cK=rK(cy),cH=rX(cT),cG=rF(cx);let cZ=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:cu,map:lm,alt:lO},Alternative:{URI:cu,map:lm,ap:ly,of:rk,alt:lO,zero:lW},Applicative:{URI:cu,map:lm,ap:ly,of:rk},Apply:cx,Chain:cT,ChainRecBreadthFirst:{URI:cu,map:lm,ap:ly,chain:lv,chainRec:lD},ChainRecDepthFirst:{URI:cu,map:lm,ap:ly,chain:lv,chainRec:lF},Compactable:cC,Do:cq,Extend:{URI:cu,map:lm,extend:lN},Filterable:{URI:cu,map:lm,compact:lJ,separate:lH,filter:lb,filterMap:lx,partition:l_,partitionMap:lS},FilterableWithIndex:{URI:cu,map:lm,mapWithIndex:lg,compact:lJ,separate:lH,filter:lb,filterMap:lx,partition:l_,partitionMap:lS,partitionMapWithIndex:lw,partitionWithIndex:lT,filterMapWithIndex:lj,filterWithIndex:lA},Foldable:{URI:cu,reduce:lk,foldMap:lC,reduceRight:lI},FoldableWithIndex:{URI:cu,reduce:lk,foldMap:lC,reduceRight:lI,reduceWithIndex:lM,foldMapWithIndex:lR,reduceRightWithIndex:lE},FromEither:cP,Functor:cy,FunctorWithIndex:{URI:cu,map:lm,mapWithIndex:lg},Monad:{URI:cu,map:lm,ap:ly,of:rk,chain:lv},Pointed:cb,Traversable:cI,TraversableWithIndex:{URI:cu,map:lm,mapWithIndex:lg,reduce:lk,foldMap:lC,reduceRight:lI,reduceWithIndex:lM,foldMapWithIndex:lR,reduceRightWithIndex:lE,traverse:lP,sequence:cn,traverseWithIndex:lL},URI:cu,Unfoldable:{URI:cu,unfold:ca},Witherable:cA,Zero:cO,_chainRecBreadthFirst:lD,_chainRecDepthFirst:lF,alt:lz,altW:lU,ap:lB,apFirst:c_,apS:cG,apSecond:cS,append:i5,appendW:i5,bind:cH,bindTo:cK,chain:lV,chainFirst:cw,chainRecBreadthFirst:cR,chainRecDepthFirst:cM,chainWithIndex:sP,chop:lu,chunksOf:ll,compact:lJ,comprehension:function(t,n,r){void 0===r&&(r=function(){return!0});var i=function(t,o){return rC(o)?rp(ac(o),lV(function(n){return i(rp(t,i5(n)),ad(o))})):r.apply(void 0,t)?[n.apply(void 0,t)]:cz};return i(cz,t)},concat:ld,concatW:ld,cons:aO,deleteAt:s3,difference:lh,dropLeft:sH,dropLeftWhile:function(t){return function(n){var r=sK(n,t);return 0===r?n:r===n.length?cz:n.slice(r)}},dropRight:sG,duplicate:l4,elem:li,empty:cz,every:cB,exists:cV,extend:l3,filter:lG,filterE:cN,filterMap:lY,filterMapWithIndex:lZ,filterWithIndex:l2,findFirst:sY,findFirstMap:sJ,findIndex:sZ,findLast:sQ,findLastIndex:s0,findLastMap:sX,flap:cv,flatten:l$,foldLeft:sA,foldMap:l9,foldMapWithIndex:l5,foldRight:sN,fromArray:cU,fromEither:sE,fromEitherK:cL,fromOption:sR,fromOptionK:lc,fromPredicate:function(t){return function(n){return t(n)?[n]:cz}},getDifferenceMagma:cg,getEq:cd,getIntersectionSemigroup:cm,getMonoid:cc,getOrd:cf,getSemigroup:cl,getShow:cs,getUnionMonoid:ch,getUnionSemigroup:cp,guard:ck,head:sU,init:sV,insertAt:s1,intercalate:c$,intersection:lp,intersperse:ln,isEmpty:sC,isNonEmpty:rC,isOutOfBound:i3,last:sz,lefts:s9,lookup:sW,makeBy:sI,map:lq,mapWithIndex:lK,match:sj,matchLeft:sA,matchLeftW:sA,matchRight:sN,matchRightW:sN,matchW:sj,modifyAt:s4,of:rk,partition:lQ,partitionMap:l0,partitionMapWithIndex:l1,partitionWithIndex:lX,prepend:i4,prependAll:lt,prependToAll:lt,prependW:i4,range:oo,readonlyArray:{URI:cu,compact:lJ,separate:lH,map:lm,ap:ly,of:rk,chain:lv,filter:lb,filterMap:lx,partition:l_,partitionMap:lS,mapWithIndex:lg,partitionMapWithIndex:lw,partitionWithIndex:lT,filterMapWithIndex:lj,filterWithIndex:lA,alt:lO,zero:lW,unfold:ca,reduce:lk,foldMap:lC,reduceRight:lI,traverse:lP,sequence:cn,reduceWithIndex:lM,foldMapWithIndex:lR,reduceRightWithIndex:lE,traverseWithIndex:lL,extend:lN,wither:cE,wilt:cj},reduce:l6,reduceRight:l7,reduceRightWithIndex:ce,reduceWithIndex:l8,replicate:sM,reverse:s5,rights:s6,rotate:lr,scanLeft:sL,scanRight:sF,separate:lH,sequence:cn,size:sD,snoc:ak,some:cV,sort:s8,sortBy:la,spanLeft:function(t){return function(n){var r,i=ls(sK(n,t))(n);return{init:i[0],rest:i[1]}}},splitAt:ls,tail:sB,takeLeft:s$,takeLeftWhile:function(t){return function(n){for(var r=[],i=0;i<n.length;i++){var o=n[i];if(!t(o))break;r.push(o)}var a=r.length;return a===n.length?n:0===a?cz:r}},takeRight:sq,toArray:cW,traverse:ct,traverseWithIndex:cr,unfold:ca,union:lf,uniq:lo,unsafeDeleteAt:cD,unsafeInsertAt:i6,unsafeUpdateAt:cF,unzip:le,updateAt:s2,wilt:co,wither:ci,zero:lW,zip:function t(n,r){return void 0===r?function(r){return t(r,n)}:s7(n,r,function(t,n){return[t,n]})},zipWith:s7},Symbol.toStringTag,{value:"Module"}));var cY=function(t){return 0===t.length},cJ=function(t,n){return t<=0?[]:aB(n)(t)},cQ=function(t,n){return cJ(t,function(){return n})},cX=function(t){return rv(t)?[]:[t.value]},c0=function(t){return rS(t)?[]:[t.right]},c1=function(t,n){return function(r){return aR(r)?n(r):t()}},c2=function(t,n){return function(r){return aR(r)?n(uK(r),uH(r)):t()}},c3=function(t,n){return function(r){return aR(r)?n(uZ(r),uG(r)):t()}},c4=function(t){return function(n){for(var r=[],i=0;i<n.length;i++)r.push.apply(r,t(i,n[i]));return r}},c5=function(t,n){return function(r){var i=r.length,o=Array(i+1);o[0]=t;for(var a=0;a<i;a++)o[a+1]=n(o[a],r[a]);return o}},c6=function(t,n){return function(r){var i=r.length,o=Array(i+1);o[i]=t;for(var a=i-1;a>=0;a--)o[a]=n(r[a],o[a+1]);return o}},c9=function(t){return t.length},c8=function(t){return aR(t)?r_(uH(t)):rx},c7=function(t){return aR(t)?r_(uZ(t)):rx},de=function(t){return function(n){return aE(t,n)?ds(n):n.slice(0,t)}},dt=function(t){return function(n){return aE(t,n)?ds(n):0===t?[]:n.slice(-t)}},dn=function(t,n){for(var r=t.length,i=0;i<r&&n(t[i]);i++);return i},dr=function(t){return function(n){return t<=0||cY(n)?ds(n):t>=n.length?[]:n.slice(t,n.length)}},di=function(t){return function(n){return t<=0||cY(n)?ds(n):t>=n.length?[]:n.slice(0,n.length-t)}};function da(t){return sY(t)}function du(t){return sQ(t)}var ds=function(t){return t.slice()},dl=function(t,n){return function(r){return t<0||t>r.length?rx:r_(fG(t,n,r))}},dc=function(t,n){return df(t,function(){return n})},dd=function(t){return function(n){return aE(t,n)?rx:r_(fY(t,n))}},df=function(t,n){return function(r){return aE(t,r)?rx:r_(fZ(t,n(r[t]),r))}},dp=function(t){return cY(t)?[]:t.slice().reverse()},dh=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"Right"===i._tag&&n.push(i.right)}return n},dm=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"Left"===i._tag&&n.push(i.left)}return n},dg=function(t){return function(n){return n.length<=1?ds(n):n.slice().sort(t.compare)}},dy=function(t,n,r){for(var i=[],o=Math.min(t.length,n.length),a=0;a<o;a++)i[a]=r(t[a],n[a]);return i},dv=function(t){for(var n=[],r=[],i=0;i<t.length;i++)n[i]=t[i][0],r[i]=t[i][1];return[n,r]},db=function(t){var n=a6(t);return function(t){return aR(t)?n(t):[]}},dx=function(t){var n=a9(t);return function(t){return aR(t)?n(t):ds(t)}},d_=function(t){var n=aW(t);return function(t){return aR(t)?n(t):ds(t)}},dS=function(t){var n=aL(t);return function(t){return aR(t)?n(t):ds(t)}},dT=function(t){var n=aF(t);return function(t){return aR(t)?n(t):ds(t)}},dw=function(t){var n=a7(t);return function(t){return aR(t)?n(t):[]}},dO=function(t){return function(n){return t>=1&&aR(n)?ue(t)(n):cY(n)?[ds(n),[]]:[[],ds(n)]}},dk=function(t){var n=ut(t);return function(t){return aR(t)?n(t):[]}},dC=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return cX(t.apply(void 0,n))}},dI=function(t){return function(n){return cY(n)?ds(t):cY(t)?ds(n):n.concat(t)}};function dM(t){var n=aD(t);return function(r,i){if(void 0===i){var o=dM(t);return function(t){return o(t,r)}}return aR(r)&&aR(i)?n(i)(r):aR(r)?ds(r):ds(i)}}function dR(t){var n=li(t);return function(r,i){if(void 0===i){var o=dR(t);return function(t){return o(t,r)}}return r.filter(function(t){return n(t,i)})}}function dE(t){var n=li(t);return function(r,i){if(void 0===i){var o=dE(t);return function(t){return o(t,r)}}return r.filter(function(t){return!n(t,i)})}}var dj=function(t,n){return rp(t,d1(n))},dA=function(t,n){return rp(t,d5(n))},dN=function(t,n){return rp(t,d2(n))},dP=function(t,n){return rp(t,d3(n))},dL=function(t,n){return rp(t,fe(n))},dF=function(t,n){return rp(t,d9(n))},dD=function(t,n){return rp(t,ft(n))},dW=function(t,n){return rp(t,fr(n))},dU=function(t,n){return rp(t,fn(n))},dz=function(t,n){return rp(t,fi(n))},dB=function(t,n){return rp(t,fa(n))},dV=function(t,n,r){return rp(t,ff(n,r))},d$=function(t){var n=fc(t);return function(t,r){return rp(t,n(r))}},dq=function(t,n,r){return rp(t,fh(n,r))},dK=function(t,n,r){return rp(t,fp(n,r))},dH=function(t){var n=fd(t);return function(t,r){return rp(t,n(r))}},dG=function(t,n,r){return rp(t,fm(n,r))},dZ=function(t,n){return rp(t,d6(n))},dY=function(t,n){return rp(t,fu(n))},dJ=function(t,n){return rp(t,fs(n))},dQ=function(t){var n=fg(t);return function(t,r){return rp(t,n(r))}},dX=function(t){var n=fv(t);return function(t,r){return rp(t,n(r))}},d0=function(){return[]},d1=function(t){return function(n){return n.map(function(n){return t(n)})}},d2=function(t){return d3(function(n){return rp(t,d1(n))})},d3=function(t){return function(n){return rp(n,c4(function(n,r){return t(r)}))}},d4=d3(rn),d5=function(t){return function(n){return n.map(function(n,r){return t(r,n)})}},d6=function(t){return function(n){for(var r=[],i=0;i<n.length;i++){var o=t(i,n[i]);rb(o)&&r.push(o.value)}return r}},d9=function(t){return d6(function(n,r){return t(r)})},d8=d9(rn),d7=function(t){for(var n=[],r=[],i=0;i<t.length;i++){var o=t[i];"Left"===o._tag?n.push(o.left):r.push(o.right)}return ss(n,r)},fe=function(t){return function(n){return n.filter(t)}},ft=function(t){return fn(function(n,r){return t(r)})},fn=function(t){return function(n){for(var r=[],i=[],o=0;o<n.length;o++){var a=n[o];t(o,a)?i.push(a):r.push(a)}return ss(r,i)}},fr=function(t){return fi(function(n,r){return t(r)})},fi=function(t){return function(n){for(var r=[],i=[],o=0;o<n.length;o++){var a=t(o,n[o]);"Left"===a._tag?r.push(a.left):i.push(a.right)}return ss(r,i)}},fo=function(t){return function(n){return n.concat(t())}},fa=fo,fu=function(t){return function(n){return n.filter(function(n,r){return t(r,n)})}},fs=function(t){return function(n){return n.map(function(r,i){return t(n.slice(i))})}},fl=fs(rn),fc=l9,fd=l5,ff=l6,fp=l8,fh=l7,fm=ce,fg=function(t){var n=fv(t);return function(t){return n(function(n,r){return t(r)})}},fy=function(t){return function(n){return dV(n,t.of(d0()),function(n,r){return t.ap(t.map(n,function(t){return function(n){return rp(t,aA(n))}}),r)})}},fv=function(t){return function(n){return fp(t.of(d0()),function(r,i,o){return t.ap(t.map(i,function(t){return function(n){return rp(t,aA(n))}}),n(r,o))})}},fb=function(t){var n=fB(t);return function(t){return function(r){return n(r,t)}}},fx=function(t){var n=fV(t);return function(t){return function(r){return n(r,t)}}},f_=function(t,n){for(var r=[],i=t;;){var o=n(i);if(rb(o)){var a=o.value,u=a[0],s=a[1];r.push(u),i=s}else break}return r},fS="Array",fT=function(){return{concat:function(t,n){return t.concat(n)}}},fw=function(){return{concat:fT().concat,empty:[]}},fO=function(t){var n=dM(t);return{concat:function(t,r){return n(r)(t)}}},fk=function(t){return{concat:fO(t).concat,empty:[]}},fC=function(t){var n=dR(t);return{concat:function(t,r){return n(r)(t)}}},fI=function(t){var n=dE(t);return{concat:function(t,r){return n(r)(t)}}},fM={URI:fS,map:dj},fR=rq(fM),fE={URI:fS,of:a3},fj={URI:fS,map:dj,ap:dN},fA=rP(fj),fN=rL(fj),fP={URI:fS,map:dj,ap:dN,chain:dP},fL=rQ(fP),fF={URI:fS,zero:d0},fD=sw(fF,fE),fW={URI:fS,compact:d8,separate:d7},fU={URI:fS,reduce:dV,foldMap:d$,reduceRight:dq},fz={URI:fS,map:dj,reduce:dV,foldMap:d$,reduceRight:dq,traverse:dQ,sequence:fy},fB=s_(fz,fW),fV=sx(fz,fW),f$={URI:fS,map:dj,compact:d8,separate:d7,filter:dL,filterMap:dF,partition:dD,partitionMap:dW,reduce:dV,foldMap:d$,reduceRight:dq,traverse:dQ,sequence:fy,wither:fB,wilt:fV},fq=sS(f$),fK={URI:fS,fromEither:c0},fH=r5(fK),fG=aN,fZ=function(t,n,r){return aR(r)?aP(t,n,r):[]},fY=function(t,n){var r=n.slice();return r.splice(t,1),r},fJ=function(t){return function(n){return n.some(t)}},fQ=a3(rE),fX=rK(fM),f0=rX(fP),f1=rF(fj);let f2=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:fS,map:dj,alt:dB},Alternative:{URI:fS,map:dj,ap:dN,of:a3,alt:dB,zero:d0},Applicative:{URI:fS,map:dj,ap:dN,of:a3},Apply:fj,Chain:fP,ChainRecBreadthFirst:{URI:fS,map:dj,ap:dN,chain:dP,chainRec:lD},ChainRecDepthFirst:{URI:fS,map:dj,ap:dN,chain:dP,chainRec:lF},Compactable:fW,Do:fQ,Extend:{URI:fS,map:dj,extend:dJ},Filterable:{URI:fS,map:dj,compact:d8,separate:d7,filter:dL,filterMap:dF,partition:dD,partitionMap:dW},FilterableWithIndex:{URI:fS,map:dj,mapWithIndex:dA,compact:d8,separate:d7,filter:dL,filterMap:dF,partition:dD,partitionMap:dW,partitionMapWithIndex:dz,partitionWithIndex:dU,filterMapWithIndex:dZ,filterWithIndex:dY},Foldable:fU,FoldableWithIndex:{URI:fS,reduce:dV,foldMap:d$,reduceRight:dq,reduceWithIndex:dK,foldMapWithIndex:dH,reduceRightWithIndex:dG},FromEither:fK,Functor:fM,FunctorWithIndex:{URI:fS,map:dj,mapWithIndex:dA},Monad:{URI:fS,map:dj,ap:dN,of:a3,chain:dP},Pointed:fE,Traversable:fz,TraversableWithIndex:{URI:fS,map:dj,mapWithIndex:dA,reduce:dV,foldMap:d$,reduceRight:dq,reduceWithIndex:dK,foldMapWithIndex:dH,reduceRightWithIndex:dG,traverse:dQ,sequence:fy,traverseWithIndex:dX},URI:fS,Unfoldable:{URI:fS,unfold:f_},Witherable:f$,Zero:fF,alt:fa,altW:fo,ap:d2,apFirst:fA,apS:f1,apSecond:fN,append:aA,appendW:aA,array:{URI:fS,compact:d8,separate:d7,map:dj,ap:dN,of:a3,chain:dP,filter:dL,filterMap:dF,partition:dD,partitionMap:dW,mapWithIndex:dA,partitionMapWithIndex:dz,partitionWithIndex:dU,filterMapWithIndex:dZ,filterWithIndex:dY,alt:dB,zero:d0,unfold:f_,reduce:dV,foldMap:d$,reduceRight:dq,traverse:dQ,sequence:fy,reduceWithIndex:dK,foldMapWithIndex:dH,reduceRightWithIndex:dG,traverseWithIndex:dX,extend:dJ,wither:fB,wilt:fV},bind:f0,bindTo:fX,chain:d3,chainFirst:fL,chainRecBreadthFirst:cR,chainRecDepthFirst:cM,chainWithIndex:c4,chop:dw,chunksOf:dk,compact:d8,comprehension:function(t,n,r){void 0===r&&(r=function(){return!0});var i=function(t,o){return aR(o)?rp(uK(o),d3(function(n){return i(rp(t,aA(n)),uH(o))})):r.apply(void 0,t)?[n.apply(void 0,t)]:[]};return i([],t)},concat:dI,concatW:dI,cons:u4,copy:ds,deleteAt:dd,difference:dE,dropLeft:dr,dropLeftWhile:function(t){return function(n){return n.slice(dn(n,t))}},dropRight:di,duplicate:fl,elem:li,empty:[],every:cB,exists:fJ,extend:fs,filter:fe,filterE:fq,filterMap:d9,filterMapWithIndex:d6,filterWithIndex:fu,findFirst:da,findFirstMap:sJ,findIndex:sZ,findLast:du,findLastIndex:s0,findLastMap:sX,flap:fR,flatten:d4,foldLeft:c2,foldMap:fc,foldMapWithIndex:fd,foldRight:c3,fromEither:c0,fromEitherK:fH,fromOption:cX,fromOptionK:dC,fromPredicate:function(t){return function(n){return t(n)?[n]:[]}},getDifferenceMagma:fI,getEq:cd,getIntersectionSemigroup:fC,getMonoid:fw,getOrd:cf,getSemigroup:fT,getShow:cs,getUnionMonoid:fk,getUnionSemigroup:fO,guard:fD,head:sU,init:c7,insertAt:dl,intercalate:c$,intersection:dR,intersperse:dx,isEmpty:cY,isNonEmpty:aR,isOutOfBound:aE,last:sz,lefts:dm,lookup:sW,makeBy:cJ,map:d1,mapWithIndex:d5,match:c1,matchLeft:c2,matchLeftW:c2,matchRight:c3,matchRightW:c3,matchW:c1,modifyAt:df,of:a3,partition:ft,partitionMap:fr,partitionMapWithIndex:fi,partitionWithIndex:fn,prepend:aj,prependAll:db,prependToAll:db,prependW:aj,range:a$,reduce:ff,reduceRight:fh,reduceRightWithIndex:fm,reduceWithIndex:fp,replicate:cQ,reverse:dp,rights:dh,rotate:d_,scanLeft:c5,scanRight:c6,separate:d7,sequence:fy,size:c9,snoc:u5,some:fJ,sort:dg,sortBy:dT,spanLeft:function(t){return function(n){var r,i=dO(dn(n,t))(n);return{init:i[0],rest:i[1]}}},splitAt:dO,tail:c8,takeLeft:de,takeLeftWhile:function(t){return function(n){for(var r=[],i=0;i<n.length;i++){var o=n[i];if(!t(o))break;r.push(o)}return r}},takeRight:dt,traverse:fg,traverseWithIndex:fv,unfold:f_,union:dM,uniq:dS,unsafeDeleteAt:fY,unsafeInsertAt:fG,unsafeUpdateAt:fZ,unzip:dv,updateAt:dc,wilt:fx,wither:fb,zero:d0,zip:function t(n,r){return void 0===r?function(r){return t(r,n)}:dy(n,r,function(t,n){return[t,n]})},zipWith:dy},Symbol.toStringTag,{value:"Module"})),f3=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var f4=function(t){return"boolean"==typeof t},f5=function(t,n){return function(r){return r?n():t()}},f6={equals:function(t,n){return t===n}},f9={concat:function(t,n){return t&&n}},f8={concat:function(t,n){return t||n}},f7={concat:f9.concat,empty:!0},pe={concat:f8.concat,empty:!1},pt={equals:f6.equals,compare:function(t,n){return t<n?-1:t>n?1:0}};let pn=Object.freeze(Object.defineProperty({__proto__:null,BooleanAlgebra:{meet:function(t,n){return t&&n},join:function(t,n){return t||n},zero:!1,one:!0,implies:function(t,n){return!t||n},not:function(t){return!t}},Eq:f6,MonoidAll:f7,MonoidAny:pe,Ord:pt,SemigroupAll:f9,SemigroupAny:f8,Show:{show:function(t){return JSON.stringify(t)}},fold:f5,foldW:f5,isBoolean:f4,match:f5,matchW:f5},Symbol.toStringTag,{value:"Module"}));var pr=function(t){return{meet:function(n,r){return t.join(n,r)},join:function(n,r){return t.meet(n,r)},zero:t.one,one:t.zero,implies:function(n,r){return t.join(t.not(n),r)},not:t.not}};let pi=Object.freeze(Object.defineProperty({__proto__:null,booleanAlgebraBoolean:{meet:function(t,n){return t&&n},join:function(t,n){return t||n},zero:!1,one:!0,implies:function(t,n){return!t||n},not:function(t){return!t}},booleanAlgebraVoid:{meet:function(){},join:function(){},zero:void 0,one:void 0,implies:function(){},not:function(){}},getDualBooleanAlgebra:pr,getFunctionBooleanAlgebra:n6,reverse:pr},Symbol.toStringTag,{value:"Module"}));var po=function(t){return iM(t)(t.bottom,t.top)},pa=function(t){var n=ig(t);return{equals:n.equals,compare:n.compare,top:t.bottom,bottom:t.top}},pu={equals:iE.equals,compare:iE.compare,top:1/0,bottom:-1/0};let ps=Object.freeze(Object.defineProperty({__proto__:null,boundedNumber:pu,clamp:po,reverse:pa},Symbol.toStringTag,{value:"Module"}));function pl(t){return{meet:iC(t),join:iI(t)}}let pc=Object.freeze(Object.defineProperty({__proto__:null,getMinMaxDistributiveLattice:pl},Symbol.toStringTag,{value:"Module"})),pd=Object.freeze(Object.defineProperty({__proto__:null,getMinMaxBoundedDistributiveLattice:function(t){var n=pl(t);return function(t,r){return{join:n.join,meet:n.meet,zero:t,one:r}}}},Symbol.toStringTag,{value:"Module"})),pf=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),pp=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ph=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),pm=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var pg=function(t,n){for(var r=n(t);"Left"===r._tag;)r=n(r.left);return r.right};let py=Object.freeze(Object.defineProperty({__proto__:null,tailRec:pg},Symbol.toStringTag,{value:"Module"}));function pv(t,n){return function(r,i){return n.compose(t.right(i),t.left(r))}}function pb(t,n){var r=pv(t,n);return function(i,o){return n.compose(t.promap(n.id(),function(t){return"Left"===t._tag?t.left:t.right},rn),r(i,o))}}let px=Object.freeze(Object.defineProperty({__proto__:null,fanIn:pb,fanin:function(t){return pb(t,t)},split:pv,splitChoice:function(t){return pv(t,t)}},Symbol.toStringTag,{value:"Module"})),p_=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var pS=function(t,n){return rp(t,pT(n))},pT=function(t){return function(n){return rs(t,n)}},pw="Predicate",pO=function(){return{concat:function(t,n){return rp(t,pR(n))}}},pk=function(){return{concat:pO().concat,empty:ro}},pC=function(){return{concat:function(t,n){return rp(t,pE(n))}}},pI=function(){return{concat:pC().concat,empty:ri}},pM=function(t){return function(n){return!t(n)}},pR=function(t){return function(n){return function(r){return n(r)||t(r)}}},pE=function(t){return function(n){return function(r){return n(r)&&t(r)}}};let pj=Object.freeze(Object.defineProperty({__proto__:null,Contravariant:{URI:pw,contramap:pS},URI:pw,and:pE,contramap:pT,getMonoidAll:pI,getMonoidAny:pk,getSemigroupAll:pC,getSemigroupAny:pO,not:pM,or:pR},Symbol.toStringTag,{value:"Module"}));function pA(t){return function(n){return t(n)?r_(n):rx}}var pN=function(t){return"Right"===t._tag?rx:r_(t.left)},pP=function(t){return"Left"===t._tag?rx:r_(t.right)},pL=function(t,n){return rp(t,p0(n))},pF=function(t,n){return rp(t,p3(n))},pD=function(t,n){return rp(t,p6(n))},pW=function(t,n,r){return rp(t,p8(n,r))},pU=function(t){var n=p7(t);return function(t,r){return rp(t,n(r))}},pz=function(t,n,r){return rp(t,he(n,r))},pB=function(t){var n=hg(t);return function(t,r){return rp(t,n(r))}},pV=function(t,n){return rp(t,hn(n))},p$=function(t,n){return rp(t,hd(n))},pq=function(t,n){return rp(t,hf(n))},pK=function(t,n){return rp(t,ha(n))},pH=function(t,n){return rp(t,hp(n))},pG=function(t,n){return rp(t,hh(n))},pZ="Option",pY=function(t){return{show:function(n){return hk(n)?"none":"some(".concat(t.show(n.value),")")}}},pJ=function(t){return{equals:function(n,r){return n===r||(hk(n)?hk(r):!hk(r)&&t.equals(n.value,r.value))}}},pQ=function(t){return{equals:pJ(t).equals,compare:function(n,r){return n===r?0:hO(n)?hO(r)?t.compare(n.value,r.value):1:-1}}},pX=function(t){return{concat:function(n,r){return hk(n)?r:hk(r)?n:r_(t.concat(n.value,r.value))},empty:rx}},p0=function(t){return function(n){return hk(n)?rx:r_(t(n.value))}},p1={URI:pZ,map:pL},p2={URI:pZ,of:r_},p3=function(t){return function(n){return hk(n)||hk(t)?rx:r_(n.value(t.value))}},p4={URI:pZ,map:pL,ap:pF},p5={URI:pZ,map:pL,ap:pF,of:r_},p6=function(t){return function(n){return hk(n)?rx:t(n.value)}},p9={URI:pZ,map:pL,ap:pF,chain:pD},p8=function(t,n){return function(r){return hk(r)?t:n(t,r.value)}},p7=function(t){return function(n){return function(r){return hk(r)?t.empty:n(r.value)}}},he=function(t,n){return function(r){return hk(r)?t:n(r.value,t)}},ht=function(t){return function(n){return hk(n)?t():n}},hn=ht,hr=function(){return rx},hi={URI:pZ,zero:hr},ho=sw(hi,p2),ha=function(t){return function(n){return hk(n)?rx:r_(t(n))}},hu=p6(rn),hs=ss(rx,rx),hl=function(t){return hk(t)?hs:ss(pN(t.value),pP(t.value))},hc={URI:pZ,compact:hu,separate:hl},hd=function(t){return function(n){return hk(n)?rx:t(n.value)?n:rx}},hf=function(t){return function(n){return hk(n)?rx:t(n.value)}},hp=function(t){return function(n){return ss(p$(n,pM(t)),p$(n,t))}},hh=function(t){return rs(p0(t),hl)},hm={URI:pZ,map:pL,compact:hu,separate:hl,filter:p$,filterMap:pq,partition:pH,partitionMap:pG},hg=function(t){return function(n){return function(r){return hk(r)?t.of(rx):t.map(n(r.value),r_)}}},hy=function(t){return function(n){return hk(n)?t.of(rx):t.map(n.value,r_)}},hv={URI:pZ,map:pL,reduce:pW,foldMap:pU,reduceRight:pz,traverse:pB,sequence:hy},hb=s_(hv,hc),hx=sx(hv,hc),h_=function(t){var n=hb(t);return function(t){return function(r){return n(r,t)}}},hS=function(t){var n=hx(t);return function(t){return function(r){return n(r,t)}}},hT=function(){return rx},hw={URI:pZ,fromEither:pP},hO=rb,hk=function(t){return"None"===t._tag},hC=function(t,n){return function(r){return hk(r)?t():n(r.value)}},hI=function(t){return function(n){return hk(n)?t():n.value}},hM=rq(p1),hR=rP(p4),hE=rL(p4),hj=rQ(p9),hA=ha(rn),hN=r5(hw),hP=r6(hw,p9),hL=r9(hw,p9),hF=function(t){return null==t?rx:r_(t)},hD=function(t){try{return r_(t())}catch{return rx}},hW=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return hD(function(){return t.apply(void 0,n)})}},hU=function(t){return rs(t,hF)},hz=function(t){return function(n){return hk(n)?rx:hF(t(n.value))}},hB=hC(ra,rn),hV=hC(ru,rn),h$=function(t){return function(n){return!hk(n)&&t(n.value)}},hq=r_(rE),hK=rK(p1),hH=rX(p9),hG=rF(p4),hZ=r_(rR),hY=function(t){return function(n){var r=t(0,rI(n));if(hk(r))return rx;for(var i=[r.value],o=1;o<n.length;o++){var a=t(o,n[o]);if(hk(a))return rx;i.push(a.value)}return r_(i)}},hJ=function(t){var n=hY(t);return function(t){return rC(t)?n(t):hZ}},hQ=function(t){return hJ(function(n,r){return t(r)})},hX=hQ(rn),h0={URI:pZ,map:pL,of:r_,ap:pF,chain:pD,reduce:pW,foldMap:pU,reduceRight:pz,traverse:pB,sequence:hy,zero:hr,alt:pV,extend:pK,compact:hu,separate:hl,filter:p$,filterMap:pq,partition:pH,partitionMap:pG,wither:hb,wilt:hx,throwError:hT},h1=rD(p4),h2=rZ(p5),h3=function(){return pX(iK())},h4=function(){return pX(iH())};let h5=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:pZ,map:pL,alt:pV},Alternative:{URI:pZ,map:pL,ap:pF,of:r_,alt:pV,zero:hr},ApT:hZ,Applicative:p5,Apply:p4,Chain:p9,Compactable:hc,Do:hq,Extend:{URI:pZ,map:pL,extend:pK},Filterable:hm,Foldable:{URI:pZ,reduce:pW,foldMap:pU,reduceRight:pz},FromEither:hw,Functor:p1,Monad:{URI:pZ,map:pL,ap:pF,of:r_,chain:pD},MonadThrow:{URI:pZ,map:pL,ap:pF,of:r_,chain:pD,throwError:hT},Pointed:p2,Traversable:hv,URI:pZ,Witherable:{URI:pZ,map:pL,reduce:pW,foldMap:pU,reduceRight:pz,traverse:pB,sequence:hy,compact:hu,separate:hl,filter:p$,filterMap:pq,partition:pH,partitionMap:pG,wither:hb,wilt:hx},Zero:hi,alt:hn,altW:ht,ap:p3,apFirst:hR,apS:hG,apSecond:hE,bind:hH,bindTo:hK,chain:p6,chainEitherK:hP,chainFirst:hj,chainFirstEitherK:hL,chainNullableK:hz,compact:hu,duplicate:hA,elem:function t(n){return function(r,i){if(void 0===i){var o=t(n);return function(t){return o(r,t)}}return!hk(i)&&n.equals(r,i.value)}},exists:h$,extend:ha,filter:hd,filterMap:hf,flap:hM,flatten:hu,fold:hC,foldMap:p7,foldW:hC,fromEither:pP,fromEitherK:hN,fromNullable:hF,fromNullableK:hU,fromPredicate:pA,getApplyMonoid:h2,getApplySemigroup:h1,getEq:pJ,getFirstMonoid:h3,getLastMonoid:h4,getLeft:pN,getMonoid:pX,getOrElse:hI,getOrElseW:hI,getOrd:pQ,getRefinement:function(t){return function(n){return hO(t(n))}},getRight:pP,getShow:pY,guard:ho,isNone:hk,isSome:hO,map:p0,mapNullable:hz,match:hC,matchW:hC,none:rx,of:r_,option:h0,partition:hp,partitionMap:hh,reduce:p8,reduceRight:he,separate:hl,sequence:hy,sequenceArray:hX,some:r_,throwError:hT,toNullable:hB,toUndefined:hV,traverse:hg,traverseArray:hQ,traverseArrayWithIndex:hJ,traverseReadonlyArrayWithIndex:hJ,traverseReadonlyNonEmptyArrayWithIndex:hY,tryCatch:hD,tryCatchK:hW,wilt:hS,wither:h_,zero:hr},Symbol.toStringTag,{value:"Module"}));function h6(t,n){return function(r){return t.map(r,n.compact)}}function h9(t,n,r){var i=h6(t,n),o=r$(t,r);return function(t){return ss(i(rp(t,o(pN))),i(rp(t,o(pP))))}}let h8=Object.freeze(Object.defineProperty({__proto__:null,compact:h6,getCompactableComposition:function(t,n){return{map:rH(t,n).map,compact:h6(t,n),separate:h9(t,n,n)}},separate:h9},Symbol.toStringTag,{value:"Module"}));var h7=function(t){return function(){return console.log(t)}},me=function(t){return function(){return console.warn(t)}},mt=function(t){return function(){return console.error(t)}},mn=function(t){return function(){return console.info(t)}};let mr=Object.freeze(Object.defineProperty({__proto__:null,error:mt,info:mn,log:h7,warn:me},Symbol.toStringTag,{value:"Module"}));function mi(t){return{URI:mh,_E:void 0,map:mu,ap:function(n,r){return rn(t.concat(n,r))}}}function mo(t){var n=mi(t);return{URI:mh,_E:void 0,map:n.map,ap:n.ap,of:function(){return rn(t.empty)}}}var ma=function(t,n){return rp(t,mc())},mu=function(t,n){return rp(t,md())},ms=function(t,n,r){return rp(t,mf(n))},ml=function(t,n){return rp(t,mp(n))},mc=function(){return rn},md=function(){return rn},mf=function(t){return function(n){return rn(t(n))}},mp=function(t){return function(n){return rn(t(n))}},mh="Const",mm={URI:mh,map:mu},mg=rq(mm);let my=Object.freeze(Object.defineProperty({__proto__:null,Bifunctor:{URI:mh,bimap:ms,mapLeft:ml},Contravariant:{URI:mh,contramap:ma},Functor:mm,URI:mh,bimap:mf,const_:{URI:mh,map:mu,contramap:ma,bimap:ms,mapLeft:ml},contramap:mc,flap:mg,getApplicative:mo,getApply:mi,getBooleanAlgebra:rn,getBounded:rn,getEq:rn,getHeytingAlgebra:rn,getMonoid:rn,getOrd:rn,getRing:rn,getSemigroup:rn,getSemiring:rn,getShow:function(t){return{show:function(n){return"make(".concat(t.show(n),")")}}},make:rn,map:md,mapLeft:mp},Symbol.toStringTag,{value:"Module"})),mv=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var mb=rp(u7,iy(function(t){return t.valueOf()})),mx=function(){return new Date},m_=function(){return new Date().getTime()};let mS=Object.freeze(Object.defineProperty({__proto__:null,Eq:{equals:function(t,n){return t.valueOf()===n.valueOf()}},Ord:mb,create:mx,eqDate:{equals:function(t,n){return t.getDate()===n.getDate()}},eqMonth:{equals:function(t,n){return t.getMonth()===n.getMonth()}},eqYear:{equals:function(t,n){return t.getFullYear()===n.getFullYear()}},now:m_},Symbol.toStringTag,{value:"Module"}));var mT=function(t,n){return rp(t,m$(n))},mw=function(t,n){return rp(t,mG(n))},mO=function(t,n){return rp(t,mQ(n))},mk=function(t,n,r){return rp(t,m0(n,r))},mC=function(t){return function(n,r){var i=m1(t);return rp(n,i(r))}},mI=function(t,n,r){return rp(t,m2(n,r))},mM=function(t){var n=m3(t);return function(t,r){return rp(t,n(r))}},mR=function(t,n,r){return rp(t,m6(n,r))},mE=function(t,n){return rp(t,m9(n))},mj=function(t,n){return rp(t,m7(n))},mA=function(t,n){return rp(t,ge(n))},mN=function(t,n){return pg(n(t),function(t){return gi(t)?rO(rw(t.left)):gi(t.right)?rw(n(t.right.left)):rO(rO(t.right.right))})},mP="Either",mL=function(t,n){return{show:function(r){return gi(r)?"left(".concat(t.show(r.left),")"):"right(".concat(n.show(r.right),")")}}},mF=function(t,n){return{equals:function(r,i){return r===i||(gi(r)?gi(i)&&t.equals(r.left,i.left):go(i)&&n.equals(r.right,i.right))}}},mD=function(t){return{concat:function(n,r){return gi(r)?n:gi(n)?r:rO(t.concat(n.right,r.right))}}},mW=function(t){var n=rw(t.empty);return{URI:mP,_E:void 0,compact:function(t){return gi(t)?t:"None"===t.right._tag?n:rO(t.right.value)},separate:function(t){return gi(t)?ss(t,t):gi(t.right)?ss(rO(t.right.left),n):ss(n,rO(t.right.right))}}},mU=function(t){var n,r=rw(t.empty),i=mW(t),o=i.compact;return{URI:mP,_E:void 0,map:mT,compact:o,separate:i.separate,filter:function(t,n){return gi(t)||n(t.right)?t:r},filterMap:function(t,n){if(gi(t))return t;var i=n(t.right);return"None"===i._tag?r:rO(i.value)},partition:function(t,n){return gi(t)?ss(t,t):n(t.right)?ss(r,rO(t.right)):ss(rO(t.right),r)},partitionMap:function(t,n){if(gi(t))return ss(t,t);var i=n(t.right);return gi(i)?ss(rO(i.left),r):ss(r,rO(i.right))}}},mz=function(t){var n=mU(t),r=mW(t);return{URI:mP,_E:void 0,map:mT,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:mM,sequence:m4,reduce:mk,foldMap:mC,reduceRight:mI,wither:s_(m5,r),wilt:sx(m5,r)}},mB=function(t){return{URI:mP,_E:void 0,map:mT,ap:function(n,r){return gi(n)?gi(r)?rw(t.concat(n.left,r.left)):n:gi(r)?r:rO(n.right(r.right))},of:mK}},mV=function(t){return{URI:mP,_E:void 0,map:mT,alt:function(n,r){if(go(n))return n;var i=r();return gi(i)?rw(t.concat(n.left,i.left)):i}}},m$=function(t){return function(n){return gi(n)?n:rO(t(n.right))}},mq={URI:mP,map:mT},mK=rO,mH=function(t){return function(n){return gi(n)?n:gi(t)?t:rO(n.right(t.right))}},mG=mH,mZ={URI:mP,map:mT,ap:mw},mY={URI:mP,map:mT,ap:mw,of:mK},mJ=function(t){return function(n){return gi(n)?n:t(n.right)}},mQ=mJ,mX={URI:mP,map:mT,ap:mw,chain:mO},m0=function(t,n){return function(r){return gi(r)?t:n(t,r.right)}},m1=function(t){return function(n){return function(r){return gi(r)?t.empty:n(r.right)}}},m2=function(t,n){return function(r){return gi(r)?t:n(r.right,t)}},m3=function(t){return function(n){return function(r){return gi(r)?t.of(rw(r.left)):t.map(n(r.right),rO)}}},m4=function(t){return function(n){return gi(n)?t.of(rw(n.left)):t.map(n.right,rO)}},m5={URI:mP,map:mT,reduce:mk,foldMap:mC,reduceRight:mI,traverse:mM,sequence:m4},m6=function(t,n){return function(r){return gi(r)?rw(t(r.left)):rO(n(r.right))}},m9=function(t){return function(n){return gi(n)?rw(t(n.left)):n}},m8=function(t){return function(n){return gi(n)?t():n}},m7=m8,ge=function(t){return function(n){return gi(n)?n:rO(t(n))}},gt={URI:mP,fromEither:rn},gn=r2(gt),gr=r1(gt),gi=rS,go=rT,ga=function(t,n){return function(r){return gi(r)?t(r.left):n(r.right)}},gu=function(t){return function(n){return gi(n)?t(n.left):n.right}},gs=rq(mq),gl=rP(mZ),gc=rL(mZ),gd=rQ(mX),gf=mJ(rn),gp=ge(rn),gh=r3(gt),gm=r4(gt,mX),gg=r8(gt,mX),gy=function(t){return gi(t)?rO(t.left):rw(t.right)},gv=function(t){return function(n){return gi(n)?t(n.left):n}},gb=function(t){return function(n){return null==n?rw(t):rO(n)}},gx=function(t,n){try{return rO(t())}catch(r){return rw(n(r))}},g_=function(t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return gx(function(){return t.apply(void 0,r)},n)}},gS=function(t){var n=gb(t);return function(t){return rs(t,n)}},gT=function(t){var n=gS(t);return function(t){return mQ(n(t))}},gw=ga(rn,rn),gO=function(t){return function(n){return!gi(n)&&t(n.right)}},gk=mK(rE),gC=rK(mq),gI=rX(mX),gM=rF(mZ),gR=mK(rR),gE=function(t){return function(n){var r=t(0,rI(n));if(gi(r))return r;for(var i=[r.right],o=1;o<n.length;o++){var a=t(o,n[o]);if(gi(a))return a;i.push(a.right)}return rO(i)}},gj=function(t){var n=gE(t);return function(t){return rC(t)?n(t):gR}},gA=function(t){return gj(function(n,r){return t(r)})},gN=gA(rn),gP=function(t,n){return gx(function(){var n=JSON.stringify(t);if("string"!=typeof n)throw Error("Converting unsupported structure to JSON");return n},n)},gL=rD(mZ),gF=rZ(mY),gD=function(t,n){return rD(mB(t))(n)},gW=function(t,n){return rZ(mB(t))(n)};let gU=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:mP,map:mT,alt:mj},ApT:gR,Applicative:mY,Apply:mZ,Bifunctor:{URI:mP,bimap:mR,mapLeft:mE},Chain:mX,ChainRec:{URI:mP,map:mT,ap:mw,chain:mO,chainRec:mN},Do:gk,Extend:{URI:mP,map:mT,extend:mA},Foldable:{URI:mP,reduce:mk,foldMap:mC,reduceRight:mI},FromEither:gt,Functor:mq,Monad:{URI:mP,map:mT,ap:mw,of:mK,chain:mO},MonadThrow:{URI:mP,map:mT,ap:mw,of:mK,chain:mO,throwError:rw},Pointed:{URI:mP,of:mK},Traversable:m5,URI:mP,alt:m7,altW:m8,ap:mG,apFirst:gl,apFirstW:gl,apS:gM,apSW:gM,apSecond:gc,apSecondW:gc,apW:mH,bimap:m6,bind:gI,bindTo:gC,bindW:gI,chain:mQ,chainFirst:gd,chainFirstW:gd,chainNullableK:gT,chainOptionK:gm,chainW:mJ,duplicate:gp,either:{URI:mP,map:mT,of:mK,ap:mw,chain:mO,reduce:mk,foldMap:mC,reduceRight:mI,traverse:mM,sequence:m4,bimap:mR,mapLeft:mE,alt:mj,extend:mA,chainRec:mN,throwError:rw},elem:function t(n){return function(r,i){if(void 0===i){var o=t(n);return function(t){return o(r,t)}}return!gi(i)&&n.equals(r,i.right)}},exists:gO,extend:ge,filterOrElse:gg,filterOrElseW:gg,flap:gs,flatten:gf,flattenW:gf,fold:ga,foldMap:m1,foldW:ga,fromNullable:gb,fromNullableK:gS,fromOption:gr,fromOptionK:gh,fromPredicate:gn,getAltValidation:mV,getApplicativeValidation:mB,getApplyMonoid:gF,getApplySemigroup:gL,getCompactable:mW,getEq:mF,getFilterable:mU,getOrElse:gu,getOrElseW:gu,getSemigroup:mD,getShow:mL,getValidation:function(t){var n=mB(t).ap,r=mV(t).alt;return{URI:mP,_E:void 0,map:mT,of:mK,chain:mO,bimap:mR,mapLeft:mE,reduce:mk,foldMap:mC,reduceRight:mI,extend:mA,traverse:mM,sequence:m4,chainRec:mN,throwError:rw,ap:n,alt:r}},getValidationMonoid:gW,getValidationSemigroup:gD,getWitherable:mz,isLeft:gi,isRight:go,left:rw,map:m$,mapLeft:m9,match:ga,matchW:ga,of:mK,orElse:gv,orElseW:gv,parseJSON:function(t,n){return gx(function(){return JSON.parse(t)},n)},reduce:m0,reduceRight:m2,right:rO,sequence:m4,sequenceArray:gN,stringifyJSON:gP,swap:gy,throwError:rw,toError:function(t){return t instanceof Error?t:Error(String(t))},toUnion:gw,traverse:m3,traverseArray:gA,traverseArrayWithIndex:gj,traverseReadonlyArrayWithIndex:gj,traverseReadonlyNonEmptyArrayWithIndex:gE,tryCatch:gx,tryCatchK:g_},Symbol.toStringTag,{value:"Module"}));function gz(t){return rs(rO,t.of)}function gB(t){return rs(rw,t.of)}function gV(t){return function(n){return t.map(n,rO)}}function g$(t){return function(n){return t.map(n,rw)}}function gq(t){return function(n){return rs(gb(n),t.of)}}function gK(t){var n=gq(t);return function(t){var r=n(t);return function(t){return rs(t,r)}}}function gH(t){var n=gY(t),r=gK(t);return function(t){var i=r(t);return function(t){return n(i(t))}}}function gG(t){return r$(t,mq)}function gZ(t){return rN(t,mZ)}function gY(t){return function(n){return function(r){return t.chain(r,function(r){return gi(r)?t.of(r):n(r.right)})}}}function gJ(t){return function(n){return function(r){return t.chain(r,function(r){return gi(r)?n():t.of(r)})}}}function gQ(t){return function(n,r){return function(i){return t.map(i,m6(n,r))}}}function gX(t){return function(n){return function(r){return t.map(r,m9(n))}}}function g0(t,n){return function(r){return function(i){return t.chain(i,ga(function(i){return t.map(r(),m9(function(t){return n.concat(i,t)}))},gz(t)))}}}function g1(t){return function(n,r){return function(i){return t.map(i,ga(n,r))}}}function g2(t){return function(n,r){return function(i){return t.chain(i,ga(n,r))}}}function g3(t){return function(n){return function(r){return t.chain(r,ga(n,t.of))}}}function g4(t){return function(n){return function(r){return t.chain(r,function(r){return gi(r)?n(r.left):t.of(r)})}}}function g5(t){var n=g4(t);return function(r){return n(function(n){return t.map(r(n),function(t){return gi(t)?t:rw(n)})})}}function g6(t){return function(n){return function(r){return t.chain(r,ga(function(r){return t.map(n(r),rw)},function(n){return t.of(rO(n))}))}}}function g9(t){return function(n){return t.map(n,gy)}}function g8(t){return function(n){return t.map(n,gw)}}let g7=Object.freeze(Object.defineProperty({__proto__:null,alt:gJ,altValidation:g0,ap:gZ,bimap:gQ,chain:gY,chainNullableK:gH,fromNullable:gq,fromNullableK:gK,getEitherM:function(t){var n=gZ(t),r=gG(t),i=gY(t),o=gJ(t),a=gQ(t),u=gX(t),s=g2(t),l=g3(t),c=g4(t);return{map:function(t,n){return rp(t,r(n))},ap:function(t,r){return rp(t,n(r))},of:gz(t),chain:function(t,n){return rp(t,i(n))},alt:function(t,n){return rp(t,o(n))},bimap:function(t,n,r){return rp(t,a(n,r))},mapLeft:function(t,n){return rp(t,u(n))},fold:function(t,n,r){return rp(t,s(n,r))},getOrElse:function(t,n){return rp(t,l(n))},orElse:function(t,n){return rp(t,c(n))},swap:g9(t),rightM:gV(t),leftM:g$(t),left:gB(t)}},getOrElse:g3,left:gB,leftF:g$,map:gG,mapLeft:gX,match:g1,matchE:g2,orElse:g4,orElseFirst:g5,orLeft:g6,right:gz,rightF:gV,swap:g9,toUnion:g8},Symbol.toStringTag,{value:"Module"}));var ye=function(){return{concat:function(t,n){return rs(t,n)}}},yt=function(){return{concat:ye().concat,empty:rn}};let yn=Object.freeze(Object.defineProperty({__proto__:null,URI:"Endomorphism",getMonoid:yt,getSemigroup:ye},Symbol.toStringTag,{value:"Module"})),yr=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function yi(t,n){var r=n.zero,i=function(o,a){return t.equals(a,r)?o:i(a,n.mod(o,a))};return i}let yo=Object.freeze(Object.defineProperty({__proto__:null,fieldNumber:{add:function(t,n){return t+n},zero:0,mul:function(t,n){return t*n},one:1,sub:function(t,n){return t-n},degree:function(t){return 1},div:function(t,n){return t/n},mod:function(t,n){return t%n}},gcd:yi,lcm:function(t,n){var r=n.zero,i=yi(t,n);return function(o,a){return t.equals(o,r)||t.equals(a,r)?r:n.div(n.mul(o,a),i(o,a))}}},Symbol.toStringTag,{value:"Module"}));function ya(t,n){return function(r){return function(i){return t.map(i,function(t){return n.filter(t,r)})}}}function yu(t,n){return function(r){return function(i){return t.map(i,function(t){return n.filterMap(t,r)})}}}function ys(t,n){var r=ya(t,n);return function(t){var n=r(pM(t)),i=r(t);return function(t){return ss(n(t),i(t))}}}function yl(t,n){var r=yu(t,n);return function(t){return function(n){return ss(rp(n,r(function(n){return pN(t(n))})),rp(n,r(function(n){return pP(t(n))})))}}}let yc=Object.freeze(Object.defineProperty({__proto__:null,filter:ya,filterMap:yu,getFilterableComposition:function(t,n){var r=rH(t,n).map,i=h6(t,n),o=h9(t,n,n),a=ya(t,n),u=yu(t,n),s=ys(t,n),l=yl(t,n);return{map:r,compact:i,separate:o,filter:function(t,n){return rp(t,a(n))},filterMap:function(t,n){return rp(t,u(n))},partition:function(t,n){return rp(t,s(n))},partitionMap:function(t,n){return rp(t,l(n))}}},partition:ys,partitionMap:yl},Symbol.toStringTag,{value:"Module"})),yd=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function yf(t,n){return function(r,i){return function(o){return t.reduce(o,r,function(t,r){return n.reduce(r,t,i)})}}}function yp(t,n){return function(r){var i=t.foldMap(r),o=n.foldMap(r);return function(t){return function(n){return i(n,function(n){return o(n,t)})}}}}function yh(t,n){return function(r,i){return function(o){return t.reduceRight(o,r,function(t,r){return n.reduceRight(t,r,i)})}}}function ym(t){return function(n){return t.reduce(n,[],function(t,n){return t.push(n),t})}}function yg(t,n){var r=yf(t,n),i=yp(t,n),o=yh(t,n);return{reduce:function(t,n,i){return rp(t,r(n,i))},foldMap:function(t){var n=i(t);return function(t,r){return rp(t,n(r))}},reduceRight:function(t,n,r){return rp(t,o(n,r))}}}let yy=Object.freeze(Object.defineProperty({__proto__:null,foldM:function(t,n){return function(r,i,o){return n.reduce(r,t.of(i),function(n,r){return t.chain(n,function(t){return o(t,r)})})}},foldMap:yp,getFoldableComposition:yg,intercalate:function(t,n){return function(r,i){var o=function(n,i){var o=n.init,a=n.acc;return o?{init:!1,acc:i}:{init:!1,acc:t.concat(t.concat(a,r),i)}};return n.reduce(i,{init:!0,acc:t.empty},o).acc}},reduce:yf,reduceM:function(t,n){return function(r,i){return function(o){return n.reduce(o,t.of(r),function(n,r){return t.chain(n,function(t){return i(t,r)})})}}},reduceRight:yh,toArray:ym,toReadonlyArray:ym,traverse_:function(t,n){var r=t.of(void 0);return function(i,o){return n.reduce(i,r,function(n,r){var i,a;return a=o(r),t.ap(t.map(n,rr),a)})}}},Symbol.toStringTag,{value:"Module"}));function yv(t,n){return function(r,i){return function(o){return t.reduceWithIndex(o,r,function(t,r,o){return n.reduceWithIndex(o,r,function(n,r,o){return i([t,n],r,o)})})}}}function yb(t,n){return function(r){var i=t.foldMapWithIndex(r),o=n.foldMapWithIndex(r);return function(t){return function(n){return i(n,function(n,r){return o(r,function(r,i){return t([n,r],i)})})}}}}function yx(t,n){return function(r,i){return function(o){return t.reduceRightWithIndex(o,r,function(t,r,o){return n.reduceRightWithIndex(r,o,function(n,r,o){return i([t,n],r,o)})})}}}let y_=Object.freeze(Object.defineProperty({__proto__:null,foldMapWithIndex:yb,getFoldableWithIndexComposition:function(t,n){var r=yg(t,n),i=yv(t,n),o=yb(t,n),a=yx(t,n);return{reduce:r.reduce,foldMap:r.foldMap,reduceRight:r.reduceRight,reduceWithIndex:function(t,n,r){return rp(t,i(n,r))},foldMapWithIndex:function(t){var n=o(t);return function(t,r){return rp(t,n(r))}},reduceRightWithIndex:function(t,n,r){return rp(t,a(n,r))}}},reduceRightWithIndex:yx,reduceWithIndex:yv},Symbol.toStringTag,{value:"Module"}));function yS(t){return function(n){return rs(n,t.fromIO)}}function yT(t,n){return function(r){var i=rs(r,t.fromIO);return function(t){return n.chain(t,i)}}}function yw(t,n){var r=rQ(n);return function(n){return r(rs(n,t.fromIO))}}let yO=Object.freeze(Object.defineProperty({__proto__:null,chainFirstIOK:yw,chainIOK:yT,fromIOK:yS},Symbol.toStringTag,{value:"Module"}));var yk=function(){return rn},yC=function(t){return function(n){return function(r){return n(t(r))}}},yI=function(t){return function(n){return t(n)(n)}},yM=function(t,n){return rp(t,yN(n))},yR=function(t,n){return rp(t,yL(n))},yE=function(t,n){return rp(t,yD(n))},yj=function(t,n){return rp(t,yU(n))},yA=function(t,n,r){return rp(t,yz(n,r))},yN=function(t){return function(n){return function(r){return t(n(r))}}},yP=function(t){return function(n){return function(r){return n(r)(t(r))}}},yL=yP,yF=function(t){return function(n){return function(r){return t(n(r))(r)}}},yD=yF,yW=yF(rn),yU=function(t){return function(n){return rs(t,n)}},yz=function(t,n){return function(r){return function(i){return n(r(t(i)))}}},yB=function(){return rn},yV=function(t){return function(n){var r=n[0],i=n[1];return[t(r),i]}},y$=function(t){return function(n){var r;return[n[0],t(n[1])]}},yq=function(t){return ga(function(n){return rw(t(n))},rO)},yK=function(t){return ga(rw,function(n){return rO(t(n))})},yH="Reader",yG={URI:yH,map:yM},yZ=rq(yG),yY={URI:yH,of:rr},yJ={URI:yH,map:yM,ap:yR},yQ=rP(yJ),yX=rL(yJ),y0={URI:yH,map:yM,ap:yR,of:rr},y1={URI:yH,map:yM,ap:yR,chain:yE},y2={URI:yH,map:yM,of:rr,ap:yR,chain:yE},y3=rQ(y1),y4=rK(yG),y5=rX(y1),y6=rr(rE),y9=rF(yJ),y8=rr(rR),y7=function(t){return function(n){return function(r){for(var i=[t(0,rI(n))(r)],o=1;o<n.length;o++)i.push(t(o,n[o])(r));return i}}},ve=function(t){var n=y7(t);return function(t){return rC(t)?n(t):y8}},vt=function(t){return ve(function(n,r){return t(r)})},vn=vt(rn),vr=rD(yJ),vi=rZ(y0);let vo=Object.freeze(Object.defineProperty({__proto__:null,ApT:y8,Applicative:y0,Apply:yJ,Category:{URI:yH,compose:yj,id:yB},Chain:y1,Choice:{URI:yH,map:yM,promap:yA,left:yq,right:yK},Do:y6,Functor:yG,Monad:y2,Pointed:yY,Profunctor:{URI:yH,map:yM,promap:yA},Strong:{URI:yH,map:yM,promap:yA,first:yV,second:y$},URI:yH,ap:yL,apFirst:yQ,apFirstW:yQ,apS:y9,apSW:y9,apSecond:yX,apSecondW:yX,apW:yP,ask:yk,asks:rn,asksReader:yI,asksReaderW:yI,bind:y5,bindTo:y4,bindW:y5,chain:yD,chainFirst:y3,chainFirstW:y3,chainW:yF,compose:yU,first:yV,flap:yZ,flatten:yW,flattenW:yW,getMonoid:vi,getSemigroup:vr,id:yB,left:yq,local:yC,map:yN,of:rr,promap:yz,reader:{URI:yH,map:yM,of:rr,ap:yR,chain:yE,promap:yA,compose:yj,id:yB,first:yV,second:y$,left:yq,right:yK},right:yK,second:y$,sequenceArray:vn,traverseArray:vt,traverseArrayWithIndex:ve,traverseReadonlyArrayWithIndex:ve,traverseReadonlyNonEmptyArrayWithIndex:y7},Symbol.toStringTag,{value:"Module"}));function va(t){return function(){return t.fromReader(yk())}}function vu(t){return t.fromReader}function vs(t){return function(n){return rs(n,t.fromReader)}}function vl(t,n){var r=vs(t);return function(t){return function(i){return n.chain(i,r(t))}}}function vc(t,n){return rs(vs(t),rQ(n))}let vd=Object.freeze(Object.defineProperty({__proto__:null,ask:va,asks:vu,chainFirstReaderK:vc,chainReaderK:vl,fromReaderK:vs},Symbol.toStringTag,{value:"Module"}));var vf=function(){return function(t){return[t,t]}},vp=function(t){return function(){return[void 0,t]}},vh=function(t){return function(n){return[void 0,t(n)]}},vm=function(t){return function(n){return[t(n),n]}},vg=function(t,n){return rp(t,vb(n))},vy=function(t,n){return rp(t,vx(n))},vv=function(t,n){return rp(t,vS(n))},vb=function(t){return function(n){return function(r){var i=n(r),o=i[0],a=i[1];return[t(o),a]}}},vx=function(t){return function(n){return function(r){var i=n(r),o=i[0],a=t(i[1]),u=a[0],s=a[1];return[o(u),s]}}},v_=function(t){return function(n){return[t,n]}},vS=function(t){return function(n){return function(r){var i=n(r),o=i[0],a=i[1];return t(o)(a)}}},vT=vS(rn),vw="State",vO={URI:vw,map:vg},vk=rq(vO),vC={URI:vw,map:vg,ap:vy},vI=rP(vC),vM=rL(vC),vR={URI:vw,map:vg,ap:vy,chain:vv},vE={URI:vw,map:vg,ap:vy,of:v_,chain:vv},vj=rQ(vR),vA=function(t){return function(n){return n(t)[0]}},vN=function(t){return function(n){return n(t)[1]}},vP=rK(vO),vL=rX(vR),vF=rF(vC),vD=function(t){return function(n){return function(r){for(var i=t(0,rI(n))(r),o=i[0],a=i[1],u=[o],s=a,l=1;l<n.length;l++){var c=t(l,n[l])(s),d=c[0],f=c[1];u.push(d),s=f}return[u,s]}}},vW=function(t){var n=vD(t);return function(t){return rC(t)?n(t):v_(rR)}},vU=function(t){return vW(function(n,r){return t(r)})},vz=vU(rn),vB=function(t,n){return t(n)[0]},vV=function(t,n){return t(n)[1]};let v$=Object.freeze(Object.defineProperty({__proto__:null,Applicative:{URI:vw,map:vg,ap:vy,of:v_},Apply:vC,Chain:vR,FromState:{URI:vw,fromState:rn},Functor:vO,Monad:vE,Pointed:{URI:vw,of:v_},URI:vw,ap:vx,apFirst:vI,apS:vF,apSecond:vM,bind:vL,bindTo:vP,chain:vS,chainFirst:vj,evalState:vB,evaluate:vA,execState:vV,execute:vN,flap:vk,flatten:vT,get:vf,gets:vm,map:vb,modify:vh,of:v_,put:vp,sequenceArray:vz,state:vE,traverseArray:vU,traverseArrayWithIndex:vW,traverseReadonlyArrayWithIndex:vW,traverseReadonlyNonEmptyArrayWithIndex:vD},Symbol.toStringTag,{value:"Module"}));function vq(t){return function(){return t.fromState(vf())}}function vK(t){return function(n){return t.fromState(vp(n))}}function vH(t){return rs(vh,t.fromState)}function vG(t){return rs(vm,t.fromState)}function vZ(t){return function(n){return rs(n,t.fromState)}}function vY(t,n){var r=vZ(t);return function(t){return function(i){return n.chain(i,r(t))}}}let vJ=Object.freeze(Object.defineProperty({__proto__:null,chainStateK:vY,fromStateK:vZ,get:vq,gets:vG,modify:vH,put:vK},Symbol.toStringTag,{value:"Module"}));function vQ(t){return function(n){return rs(n,t.fromTask)}}function vX(t,n){return function(r){var i=rs(r,t.fromTask);return function(t){return n.chain(t,i)}}}function v0(t,n){var r=rQ(n);return function(n){return r(rs(n,t.fromTask))}}let v1=Object.freeze(Object.defineProperty({__proto__:null,chainFirstTaskK:v0,chainTaskK:vX,fromTaskK:vQ},Symbol.toStringTag,{value:"Module"}));function v2(t){return function(n){return rs(n,t.fromThese)}}let v3=Object.freeze(Object.defineProperty({__proto__:null,fromTheseK:v2},Symbol.toStringTag,{value:"Module"}));function v4(t,n){return function(r){return function(i){return t.mapWithIndex(i,function(t,i){return n.mapWithIndex(i,function(n,i){return r([t,n],i)})})}}}let v5=Object.freeze(Object.defineProperty({__proto__:null,getFunctorWithIndexComposition:function(t,n){var r=rH(t,n).map,i=v4(t,n);return{map:r,mapWithIndex:function(t,n){return rp(t,i(n))}}},mapWithIndex:v4},Symbol.toStringTag,{value:"Module"})),v6=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),v9=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),v8=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var v7=function(t,n){return rp(t,bs(n))},be=function(t,n){return rp(t,bl(n))},bt=function(t,n){return rp(t,bc(n))},bn=function(t,n,r){return rp(t,bh(n,r))},br=function(t){return function(t,n){return rp(t,bm()(n))}},bi=function(t,n,r){return rp(t,bg(n,r))},bo=function(t,n){return rp(t,bx())},ba=function(t,n){return rp(t,bd(n))},bu=function(t){var n=by(t);return function(t,r){return rp(t,n(r))}},bs=function(t){return function(n){return t(n)}},bl=function(t){return function(n){return n(t)}},bc=function(t){return function(n){return t(n)}},bd=function(t){return function(n){return t(n)}},bf=bd(rn),bp=bc(rn),bh=function(t,n){return function(r){return n(t,r)}},bm=function(){return function(t){return function(n){return t(n)}}},bg=function(t,n){return function(r){return n(r,t)}},by=function(t){return function(n){return function(r){return t.map(n(r),rn)}}},bv=function(t){return function(n){return t.map(n,rn)}},bb=function(){return rn},bx=bb,b_="Identity",bS={URI:b_,map:v7},bT=rq(bS),bw={URI:b_,map:v7,ap:be},bO=rP(bw),bk=rL(bw),bC={URI:b_,map:v7,ap:be,chain:bt},bI=rQ(bC),bM=rn(rE),bR=rK(bS),bE=rX(bC),bj=rF(bw);let bA=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:b_,map:v7,alt:bo},Applicative:{URI:b_,map:v7,ap:be,of:rn},Apply:bw,Chain:bC,ChainRec:{URI:b_,map:v7,ap:be,chain:bt,chainRec:pg},Comonad:{URI:b_,map:v7,extend:ba,extract:rn},Do:bM,Foldable:{URI:b_,reduce:bn,foldMap:br,reduceRight:bi},Functor:bS,Monad:{URI:b_,map:v7,ap:be,of:rn,chain:bt},Pointed:{URI:b_,of:rn},Traversable:{URI:b_,map:v7,reduce:bn,foldMap:br,reduceRight:bi,traverse:bu,sequence:bv},URI:b_,alt:bx,altW:bb,ap:bl,apFirst:bO,apS:bj,apSecond:bk,bind:bE,bindTo:bR,chain:bc,chainFirst:bI,duplicate:bf,extend:bd,extract:rn,flap:bT,flatten:bp,foldMap:bm,getEq:rn,getShow:rn,identity:{URI:b_,map:v7,ap:be,of:rn,chain:bt,reduce:bn,foldMap:br,reduceRight:bi,traverse:bu,sequence:bv,alt:bo,extract:rn,extend:ba,chainRec:pg},map:bs,of:rn,reduce:bh,reduceRight:bg,sequence:bv,traverse:by},Symbol.toStringTag,{value:"Module"})),bN=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var bP=function(t,n){return function(){return n(t())}},bL=function(t,n){return function(){return t()(n())}},bF=function(t,n){return function(){return n(t())()}},bD=function(t,n){return function(){for(var r=n(t)();"Left"===r._tag;)r=n(r.left)();return r.right}},bW=function(t){return function(n){return bP(n,t)}},bU=function(t){return function(n){return bL(n,t)}},bz=function(t){return function(n){return bF(n,t)}},bB=bz(rn),bV={URI:"IO",map:bP},b$=rq(bV),bq={URI:"IO",of:rr},bK={URI:"IO",map:bP,ap:bL},bH=rP(bK),bG=rL(bK),bZ={URI:"IO",map:bP,ap:bL,of:rr},bY={URI:"IO",map:bP,ap:bL,chain:bF},bJ={URI:"IO",map:bP,ap:bL,of:rr,chain:bF},bQ=rQ(bY),bX=rr(rE),b0=rK(bV),b1=rX(bY),b2=rF(bK),b3=rr(rR),b4=function(t){return function(n){return function(){for(var r=[t(0,rI(n))()],i=1;i<n.length;i++)r.push(t(i,n[i])());return r}}},b5=function(t){var n=b4(t);return function(t){return rC(t)?n(t):b3}},b6=function(t){return b5(function(n,r){return t(r)})},b9=b6(rn),b8=rD(bK),b7=rZ(bZ);let xe=Object.freeze(Object.defineProperty({__proto__:null,ApT:b3,Applicative:bZ,Apply:bK,Chain:bY,ChainRec:{URI:"IO",map:bP,ap:bL,chain:bF,chainRec:bD},Do:bX,FromIO:{URI:"IO",fromIO:rn},Functor:bV,Monad:bJ,MonadIO:{URI:"IO",map:bP,ap:bL,of:rr,chain:bF,fromIO:rn},Pointed:bq,URI:"IO",ap:bU,apFirst:bH,apS:b2,apSecond:bG,bind:b1,bindTo:b0,chain:bz,chainFirst:bQ,flap:b$,flatten:bB,fromIO:rn,getMonoid:b7,getSemigroup:b8,io:{URI:"IO",map:bP,of:rr,ap:bL,chain:bF,fromIO:rn,chainRec:bD},map:bW,of:rr,sequenceArray:b9,traverseArray:b6,traverseArrayWithIndex:b5,traverseReadonlyArrayWithIndex:b5,traverseReadonlyNonEmptyArrayWithIndex:b4},Symbol.toStringTag,{value:"Module"}));var xt=gB(bq),xn=gz(bq),xr=gV(bV),xi=g$(bV),xo=g1(bV),xa=g2(bJ),xu=g3(bJ),xs=function(t,n){return function(){return gx(t,n)}},xl=function(t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return xs(function(){return t.apply(void 0,r)},n)}},xc=g8(bV),xd=g4(bJ),xf=g5(bJ),xp=function(t){return xf(xV(t))},xh=g6(bJ),xm=g9(bV),xg=function(t,n){return rp(t,xT(n))},xy=function(t,n){return rp(t,xk(n))},xv=function(t,n){return rp(t,xC(function(t){return rp(n,xT(t))}))},xb=function(t,n){return rp(t,xC(n))},xx=function(t,n,r){return rp(t,xw(n,r))},x_=function(t,n){return rp(t,xO(n))},xS=function(t,n){return rp(t,xM(n))},xT=gG(bV),xw=gQ(bV),xO=gX(bV),xk=gZ(bK),xC=gY(bJ),xI=xC(rn),xM=gJ(bJ),xR="IOEither";function xE(t){var n=rN(bK,mB(t));return{URI:xR,_E:void 0,map:xg,ap:function(t,r){return rp(t,n(r))},of:xn}}function xj(t){var n=g0(bJ,t);return{URI:xR,_E:void 0,map:xg,alt:function(t,r){return rp(t,n(r))}}}var xA=function(t){var n=mW(t);return{URI:xR,_E:void 0,compact:h6(bV,n),separate:h9(bV,n,mq)}},xN={URI:xR,map:xg},xP=rq(xN),xL={URI:xR,map:xg,ap:xy},xF=rP(xL),xD=rL(xL),xW={URI:xR,map:xg,ap:xy,of:xn},xU={URI:xR,map:xg,ap:xy,chain:xb},xz=rQ(xU),xB={URI:xR,fromIO:xr},xV=yS(xB),x$=yT(xB,xU),xq=yw(xB,xU),xK={URI:xR,fromEither:rr},xH=r1(xK),xG=r3(xK),xZ=r4(xK,xU),xY=r6(xK,xU),xJ=r9(xK,xU),xQ=r2(xK),xX=r8(xK,xU),x0=r5(xK),x1=function(t,n,r){return x2(t,n,r)},x2=function(t,n,r){return rp(t,xC(function(t){return rp(n(t),bz(function(n){return rp(r(t,n),xC(function(){return rr(n)}))}))}))},x3=xn(rE),x4=rK(xN),x5=rX(xU),x6=rF(xL),x9=xn(rR),x8=function(t){return rs(b4(t),bW(gE(rh)))},x7=function(t){var n=x8(t);return function(t){return rC(t)?n(t):x9}},_e=function(t){return function(n){return function(){var r=t(0,rI(n))();if(rS(r))return r;for(var i=[r.right],o=1;o<n.length;o++){var a=t(o,n[o])();if(rS(a))return a;i.push(a.right)}return rO(i)}}},_t=function(t){var n=_e(t);return function(t){return rC(t)?n(t):x9}},_n=function(t){return x7(function(n,r){return t(r)})},_r=_n(rn),_i=function(t){return _t(function(n,r){return t(r)})},_o=_i(rn),_a=rD(xL),_u=rZ(xW),_s=function(t){return rD(bK)(mD(t))};let _l=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:xR,map:xg,alt:xS},ApT:x9,Applicative:xW,ApplicativePar:xW,ApplicativeSeq:{URI:xR,map:xg,ap:xv,of:xn},ApplyPar:xL,Bifunctor:{URI:xR,bimap:xx,mapLeft:x_},Chain:xU,Do:x3,FromEither:xK,FromIO:xB,Functor:xN,Monad:{URI:xR,map:xg,ap:xy,of:xn,chain:xb},MonadIO:{URI:xR,map:xg,ap:xy,of:xn,chain:xb,fromIO:xr},MonadThrow:{URI:xR,map:xg,ap:xy,of:xn,chain:xb,throwError:xt},Pointed:{URI:xR,of:xn},URI:xR,alt:xM,altW:xM,ap:xk,apFirst:xF,apFirstW:xF,apS:x6,apSW:x6,apSecond:xD,apSecondW:xD,apW:xk,bimap:xw,bind:x5,bindTo:x4,bindW:x5,bracket:x1,bracketW:x2,chain:xC,chainEitherK:xY,chainEitherKW:xY,chainFirst:xz,chainFirstEitherK:xJ,chainFirstEitherKW:xJ,chainFirstIOK:xq,chainFirstW:xz,chainIOK:x$,chainOptionK:xZ,chainW:xC,filterOrElse:xX,filterOrElseW:xX,flap:xP,flatten:xI,flattenW:xI,fold:xa,foldW:xa,fromEither:rr,fromEitherK:x0,fromIO:xr,fromIOK:xV,fromOption:xH,fromOptionK:xG,fromPredicate:xQ,getAltIOValidation:xj,getApplicativeIOValidation:xE,getApplyMonoid:_u,getApplySemigroup:_a,getCompactable:xA,getFilterable:function(t){var n=mU(t),r=xA(t),i=ya(bV,n),o=yu(bV,n),a=ys(bV,n),u=yl(bV,n);return{URI:xR,_E:void 0,map:xg,compact:r.compact,separate:r.separate,filter:function(t,n){return rp(t,i(n))},filterMap:function(t,n){return rp(t,o(n))},partition:function(t,n){return rp(t,a(n))},partitionMap:function(t,n){return rp(t,u(n))}}},getIOValidation:function(t){var n=xE(t),r=xj(t);return{URI:xR,_E:void 0,map:xg,ap:n.ap,of:xn,chain:xb,bimap:xx,mapLeft:x_,alt:r.alt,fromIO:xr,throwError:xt}},getOrElse:xu,getOrElseW:xu,getSemigroup:_s,ioEither:{URI:xR,bimap:xx,mapLeft:x_,map:xg,of:xn,ap:xy,chain:xb,alt:xS,fromIO:xr,throwError:xt},left:xt,leftIO:xi,map:xT,mapLeft:xO,match:xo,matchE:xa,matchEW:xa,matchW:xo,of:xn,orElse:xd,orElseFirst:xf,orElseFirstIOK:xp,orElseFirstW:xf,orElseW:xd,orLeft:xh,right:xn,rightIO:xr,sequenceArray:_r,sequenceSeqArray:_o,swap:xm,throwError:xt,toUnion:xc,traverseArray:_n,traverseArrayWithIndex:x7,traverseReadonlyArrayWithIndex:x7,traverseReadonlyArrayWithIndexSeq:_t,traverseReadonlyNonEmptyArrayWithIndex:x8,traverseReadonlyNonEmptyArrayWithIndexSeq:_e,traverseSeqArray:_i,traverseSeqArrayWithIndex:_t,tryCatch:xs,tryCatchK:xl},Symbol.toStringTag,{value:"Module"}));function _c(t){return rs(r_,t.of)}function _d(t){return rr(t.of(rx))}function _f(t){return function(n){return t.map(n,r_)}}function _p(t){return rs(hF,t.of)}function _h(t){var n=_p(t);return function(t){return rs(t,n)}}function _m(t){var n=_O(t),r=_h(t);return function(t){return n(r(t))}}function _g(t){return function(n){return rs(n,t.of)}}function _y(t){var n=_O(t),r=_g(t);return function(t){return n(r(t))}}function _v(t){return function(n){return function(r){return t.of(pA(n)(r))}}}function _b(t){return rs(pP,t.of)}function _x(t){return function(n,r){return function(i){return t.map(i,hC(n,r))}}}function __(t){return function(n,r){return function(i){return t.chain(i,hC(n,r))}}}function _S(t){return function(n){return function(r){return t.chain(r,hC(n,t.of))}}}function _T(t){return r$(t,p1)}function _w(t){return rN(t,p4)}function _O(t){var n=_d(t);return function(r){return function(i){return t.chain(i,hC(function(){return n()},r))}}}function _k(t){var n=_c(t);return function(r){return function(i){return t.chain(i,hC(r,n))}}}let _C=Object.freeze(Object.defineProperty({__proto__:null,alt:_k,ap:_w,chain:_O,chainNullableK:_m,chainOptionK:_y,fromEither:_b,fromF:_f,fromNullable:_p,fromNullableK:_h,fromOptionK:_g,fromPredicate:_v,getOptionM:function(t){var n=_w(t),r=_T(t),i=_O(t),o=_k(t),a=__(t),u=_S(t),s=_d(t);return{map:function(t,n){return rp(t,r(n))},ap:function(t,r){return rp(t,n(r))},of:_c(t),chain:function(t,n){return rp(t,i(n))},alt:function(t,n){return rp(t,o(n))},fold:function(t,n,r){return rp(t,a(n,r))},getOrElse:function(t,n){return rp(t,u(n))},fromM:_f(t),none:function(){return s()}}},getOrElse:_S,map:_T,match:_x,matchE:__,some:_c,zero:_d},Symbol.toStringTag,{value:"Module"}));var _I=_c(bq),_M=_v(bq),_R=_b(bq),_E=_f(bV),_j=bW(pP),_A=_x(bV),_N=__(bY),_P=_S(bJ),_L=bW(hV),_F=bW(hB),_D=_p(bq),_W=_h(bq),_U=_m(bJ),_z=_g(bq),_B=_y(bJ),_V=_T(bV),_$=_w(bK),_q=_O(bJ),_K=_q(rn),_H=_k(bJ),_G=_d(bq),_Z=_G(),_Y=h6(bV,hc),_J=h9(bV,hc,p1),_Q=ya(bV,hm),_X=yu(bV,hm),_0=ys(bV,hm),_1=yl(bV,hm),_2=function(t,n){return rp(t,_V(n))},_3=function(t,n){return rp(t,_$(n))},_4=function(t,n){return rp(t,_q(n))},_5=function(t,n){return rp(t,_H(n))},_6=function(t,n){return rp(t,_Q(n))},_9=function(t,n){return rp(t,_X(n))},_8=function(t,n){return rp(t,_0(n))},_7=function(t,n){return rp(t,_1(n))},Se="IOOption",St={URI:Se,map:_2},Sn=rq(St),Sr={URI:Se,of:_I},Si={URI:Se,map:_2,ap:_3},So=rP(Si),Sa=rL(Si),Su={URI:Se,map:_2,ap:_3,chain:_4},Ss=rQ(Su),Sl={URI:Se,zero:_G},Sc=sw(Sl,Sr),Sd={URI:Se,fromIO:_E},Sf=yS(Sd),Sp=yT(Sd,Su),Sh=yw(Sd,Su),Sm={URI:Se,fromEither:_R},Sg=r5(Sm),Sy=r6(Sm,Su),Sv=r9(Sm,Su),Sb=_I(rE),Sx=rK(St),S_=rX(Su),SS=rF(Si),ST=_I(rR),Sw=function(t){return rs(b4(t),bW(hY(rh)))},SO=function(t){var n=Sw(t);return function(t){return rC(t)?n(t):ST}};let Sk=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:Se,map:_2,alt:_5},Alternative:{URI:Se,map:_2,ap:_3,of:_I,alt:_5,zero:_G},ApT:ST,Applicative:{URI:Se,map:_2,ap:_3,of:_I},Apply:Si,Chain:Su,Compactable:{URI:Se,compact:_Y,separate:_J},Do:Sb,Filterable:{URI:Se,map:_2,compact:_Y,separate:_J,filter:_6,filterMap:_9,partition:_8,partitionMap:_7},FromEither:Sm,FromIO:Sd,Functor:St,Monad:{URI:Se,map:_2,ap:_3,of:_I,chain:_4},MonadIO:{URI:Se,map:_2,ap:_3,of:_I,chain:_4,fromIO:_E},Pointed:Sr,Zero:Sl,alt:_H,altW:_H,ap:_$,apFirst:So,apS:SS,apSecond:Sa,bind:S_,bindTo:Sx,chain:_q,chainEitherK:Sy,chainFirst:Ss,chainFirstEitherK:Sv,chainFirstIOK:Sh,chainIOK:Sp,chainNullableK:_U,chainOptionK:_B,compact:_Y,filter:_Q,filterMap:_X,flap:Sn,flatten:_K,fold:_N,fromEither:_R,fromEitherK:Sg,fromIO:_E,fromIOEither:_j,fromIOK:Sf,fromNullable:_D,fromNullableK:_W,fromOption:rr,fromOptionK:_z,fromPredicate:_M,getOrElse:_P,getOrElseW:_P,guard:Sc,map:_V,match:_A,matchE:_N,matchEW:_N,matchW:_A,none:_Z,of:_I,partition:_0,partitionMap:_1,separate:_J,some:_I,toNullable:_F,toUndefined:_L,traverseReadonlyArrayWithIndex:SO,traverseReadonlyNonEmptyArrayWithIndex:Sw,zero:_G},Symbol.toStringTag,{value:"Module"}));var SC=function(){function t(t){var n=this;this.value=t,this.read=function(){return n.value},this.write=this.write.bind(this),this.modify=this.modify.bind(this)}return t.prototype.write=function(t){var n=this;return function(){n.value=t}},t.prototype.modify=function(t){var n=this;return function(){n.value=t(n.value)}},t}();let SI=Object.freeze(Object.defineProperty({__proto__:null,IORef:SC,newIORef:function(t){return function(){return new SC(t)}}},Symbol.toStringTag,{value:"Module"})),SM=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var SR=function(t){return gx(function(){return JSON.parse(t)},rn)},SE=function(t){return gx(function(){var n=JSON.stringify(t);if("string"!=typeof n)throw Error("Converting unsupported structure to JSON");return n},rn)};let Sj=Object.freeze(Object.defineProperty({__proto__:null,parse:SR,stringify:SE},Symbol.toStringTag,{value:"Module"})),SA=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var SN=function(t){return new Map(t)};function SP(t,n){return{show:function(r){var i=[];return r.forEach(function(r,o){i.push("[".concat(t.show(o),", ").concat(n.show(r),"]"))}),"new Map([".concat(i.sort().join(", "),"])")}}}var SL=function(t){return t.size},SF=function(t){return 0===t.size};function SD(t){var n=SZ(t);return function(r,i){if(void 0===i){var o=SD(t);return function(t){return o(r,t)}}return rb(n(r,i))}}function SW(t){return function(n,r){if(void 0===r){var i=SW(t);return function(t){return i(n,t)}}for(var o,a=r.values();!(o=a.next()).done;){var u=o.value;if(t.equals(n,u))return!0}return!1}}var SU=function(t){return function(n){return Array.from(n.keys()).sort(t.compare)}},Sz=function(t){return function(n){return Array.from(n.values()).sort(t.compare)}};function SB(t){var n=SU(t);return function(t){return function(r){for(var i=[],o=n(r),a=0;a<o.length;a++){var u=o[a];i.push(t(u,r.get(u)))}return i}}}var SV=function(t){return SB(t)(function(t,n){return[t,n]})},S$=function(t){var n=SG(t);return function(t,r){var i=n(t);return function(n){var o=i(n);if(rv(o)){var a=new Map(n);return a.set(t,r),a}if(o.value[1]!==r){var a=new Map(n);return a.set(o.value[0],r),a}return n}}},Sq=function(t){var n=SG(t);return function(t){return function(r){var i=n(t,r);if(rb(i)){var o=new Map(r);return o.delete(i.value[0]),o}return r}}},SK=function(t){var n=SH(t);return function(t,r){return n(t,function(){return r})}},SH=function(t){var n=SG(t);return function(t,r){return function(i){var o=n(t,i);if(rv(o))return rx;var a=o.value,u=a[0],s=a[1],l=r(s);if(l===s)return r_(i);var c=new Map(i);return c.set(u,l),r_(c)}}};function SG(t){return function(n,r){if(void 0===r){var i=SG(t);return function(t){return i(n,t)}}for(var o,a=r.entries();!(o=a.next()).done;){var u=o.value,s=u[0],l=u[1];if(t.equals(s,n))return r_([s,l])}return rx}}function SZ(t){var n=SG(t);return function(r,i){if(void 0===i){var o=SZ(t);return function(t){return o(r,t)}}return rp(n(r,i),p0(function(t){return t[0],t[1]}))}}function SY(t,n){var r=SG(t);return function(i,o){if(void 0===o){var a=SY(t,n);return function(t){return a(t,i)}}for(var u,s=i.entries();!(u=s.next()).done;){var l=u.value,c=l[0],d=l[1],f=r(c,o);if(rv(f)||!t.equals(c,f.value[0])||!n.equals(d,f.value[1]))return!1}return!0}}var SJ=new Map;function SQ(t,n){var r=SY(t,n);return ie(function(t,n){return r(t,n)&&r(n,t)})}var SX=function(t,n){return new Map([[t,n]])},S0=function(t,n){for(var r,i=new Map,o=t.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=a[1];i.set(u,n(u,s))}return i},S1=function(t){return function(n){for(var r,i=new Map,o=new Map,a=n.entries();!(r=a.next()).done;){var u=r.value,s=u[0],l=t(s,u[1]);rS(l)?i.set(s,l.left):o.set(s,l.right)}return ss(i,o)}};function S2(t){return function(n){for(var r,i=new Map,o=new Map,a=n.entries();!(r=a.next()).done;){var u=r.value,s=u[0],l=u[1];t(s,l)?o.set(s,l):i.set(s,l)}return ss(i,o)}}var S3=function(t){return function(n){for(var r,i=new Map,o=n.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=t(u,a[1]);rb(s)&&i.set(u,s.value)}return i}};function S4(t){return function(n){for(var r,i=new Map,o=n.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=a[1];t(u,s)&&i.set(u,s)}return i}}var S5=function(t,n){return S0(t,function(t,r){return n(r)})},S6=function(t,n){return Te(t,function(t,r){return n(r)})},S9=function(t,n){return Tt(t,function(t,r){return n(r)})},S8=function(t,n){return Tn(t,function(t,r){return n(r)})},S7=function(t,n){return Tr(t,function(t,r){return n(r)})},Te=function(t,n){return rp(t,S4(n))},Tt=function(t,n){return rp(t,S3(n))},Tn=function(t,n){return rp(t,S2(n))},Tr=function(t,n){return rp(t,S1(n))},Ti=function(t){for(var n,r=new Map,i=t.entries();!(n=i.next()).done;){var o=n.value,a=o[0],u=o[1];rb(u)&&r.set(a,u.value)}return r},To=function(t){return function(n){return S6(n,t)}},Ta=function(t){return function(n){return S9(n,t)}},Tu=function(t){return function(n){return S5(n,t)}},Ts=function(t){return function(n){return S0(n,t)}},Tl=function(t){return function(n){return S8(n,t)}},Tc=function(t){return function(n){return S7(n,t)}},Td=function(t){for(var n,r=new Map,i=new Map,o=t.entries();!(n=o.next()).done;){var a=n.value,u=a[0],s=a[1];rS(s)?r.set(u,s.left):i.set(u,s.right)}return ss(r,i)},Tf="ReadonlyMap",Tp=function(t,n){var r=TE(t,n);return{concat:function(t,n){return r(n)(t)}}},Th=function(t,n){return{concat:Tp(t,n).concat,empty:SJ}},Tm=function(t,n){var r=Tj(t,n);return{concat:function(t,n){return r(n)(t)}}},Tg=function(t){return function(){var n=TA(t);return{concat:function(t,r){return n(r)(t)}}}},Ty={URI:Tf,map:S5},Tv=rq(Ty),Tb=function(){return{URI:Tf,_E:void 0,map:S5,mapWithIndex:S0}},Tx={URI:Tf,compact:Ti,separate:Td},T_=function(t){var n=TO(t);return function(t,r){return n(t,function(t,n,i){return r(n,i)})}},TS=function(t){var n=Tk(t);return function(t){var r=n(t);return function(t){return r(function(n,r){return t(r)})}}},TT=function(t){var n=TC(t);return function(t,r){return n(t,function(t,n,i){return r(n,i)})}},Tw=function(t){var n=T_(t),r=TS(t),i=TT(t);return{URI:Tf,_E:void 0,reduce:function(t,r,i){return rp(t,n(r,i))},foldMap:function(t){var n=r(t);return function(t,r){return rp(t,n(r))}},reduceRight:function(t,n,r){return rp(t,i(n,r))}}},TO=function(t){var n=SU(t);return function(t,r){return function(i){for(var o=t,a=0,u=n(i);a<u.length;a++){var s=u[a];o=r(s,o,i.get(s))}return o}}},Tk=function(t){var n=SU(t);return function(t){return function(r){return function(i){for(var o=t.empty,a=0,u=n(i);a<u.length;a++){var s=u[a];o=t.concat(o,r(s,i.get(s)))}return o}}}},TC=function(t){var n=SU(t);return function(t,r){return function(i){for(var o=t,a=n(i),u=a.length,s=u-1;s>=0;s--){var l=a[s];o=r(l,i.get(l),o)}return o}}},TI=function(t){var n=Tw(t),r=TO(t),i=Tk(t),o=TC(t);return{URI:Tf,_E:void 0,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,reduceWithIndex:function(t,n,i){return rp(t,r(n,i))},foldMapWithIndex:function(t){var n=i(t);return function(t,r){return rp(t,n(r))}},reduceRightWithIndex:function(t,n,r){return rp(t,o(n,r))}}},TM=function(t){var n=TR(t),r=Tw(t);return{URI:Tf,_E:void 0,map:S5,reduce:r.reduce,foldMap:r.foldMap,reduceRight:r.reduceRight,traverse:n.traverse,sequence:n.sequence}},TR=function(t){var n=TI(t),r=SU(t),i=function(t){return function(n,i){for(var o=t.of(new Map),a=r(n),u=a.length,s=0;s<u;s++)!function(r){var u=a[r],s=n.get(u);o=t.ap(t.map(o,function(t){return function(n){return t.set(u,n)}}),i(u,s))}(s);return o}},o=function(t){var n=i(t);return function(t,r){return n(t,function(t,n){return r(n)})}},a=function(t){var n=i(t);return function(t){return n(t,rh)}};return{URI:Tf,_E:void 0,map:S5,mapWithIndex:S0,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,reduceWithIndex:n.reduceWithIndex,foldMapWithIndex:n.foldMapWithIndex,reduceRightWithIndex:n.reduceRightWithIndex,traverse:o,sequence:a,traverseWithIndex:i}},TE=function(t,n){var r=SZ(t);return function(t){return function(i){if(SF(i))return t;if(SF(t))return i;for(var o,a=new Map,u=i.entries();!(o=u.next()).done;){var s=o.value,l=s[0],c=s[1],d=r(l)(t);rb(d)?a.set(l,n.concat(c,d.value)):a.set(l,c)}for(var f=t.entries();!(o=f.next()).done;){var p=o.value,l=p[0],c=p[1],d=r(l)(a);rv(d)&&a.set(l,c)}return a}}},Tj=function(t,n){var r=SZ(t);return function(t){return function(i){if(SF(i)||SF(t))return SJ;for(var o,a=new Map,u=i.entries();!(o=u.next()).done;){var s=o.value,l=s[0],c=s[1],d=r(l)(t);rb(d)&&a.set(l,n.concat(c,d.value))}return a}}},TA=function(t){var n=SD(t);return function(t){return function(r){if(SF(r))return t;if(SF(t))return r;for(var i,o=new Map,a=r.entries();!(i=a.next()).done;){var u=i.value,s=u[0],l=u[1];n(s)(t)||o.set(s,l)}for(var c=t.entries();!(i=c.next()).done;){var d=i.value,s=d[0],l=d[1];n(s)(r)||o.set(s,l)}return o}}};let TN=Object.freeze(Object.defineProperty({__proto__:null,Compactable:Tx,Filterable:{URI:Tf,map:S5,compact:Ti,separate:Td,filter:S6,filterMap:S9,partition:S8,partitionMap:S7},Functor:Ty,URI:Tf,collect:SB,compact:Ti,deleteAt:Sq,difference:TA,elem:SW,empty:SJ,filter:To,filterMap:Ta,filterMapWithIndex:S3,filterWithIndex:S4,flap:Tv,foldMap:TS,foldMapWithIndex:Tk,fromFoldable:function(t,n,r){return function(i){var o=SG(t);return r.reduce(i,new Map,function(t,r){var i=r[0],a=r[1],u=o(i,t);return rb(u)?t.set(u.value[0],n.concat(u.value[1],a)):t.set(i,a),t})}},fromMap:SN,getDifferenceMagma:Tg,getEq:SQ,getFilterableWithIndex:function(){return{URI:Tf,_E:void 0,map:S5,mapWithIndex:S0,compact:Ti,separate:Td,filter:S6,filterMap:S9,partition:S8,partitionMap:S7,partitionMapWithIndex:Tr,partitionWithIndex:Tn,filterMapWithIndex:Tt,filterWithIndex:Te}},getFoldable:Tw,getFoldableWithIndex:TI,getFunctorWithIndex:Tb,getIntersectionSemigroup:Tm,getMonoid:function(t,n){var r=SG(t);return{concat:function(t,i){if(SF(t))return i;if(SF(i))return t;for(var o,a=new Map(t),u=i.entries();!(o=u.next()).done;){var s=o.value,l=s[0],c=s[1],d=r(l,t);rb(d)?a.set(d.value[0],n.concat(d.value[1],c)):a.set(l,c)}return a},empty:SJ}},getShow:SP,getTraversable:TM,getTraversableWithIndex:TR,getUnionMonoid:Th,getUnionSemigroup:Tp,getWitherable:function(t){var n=TR(t);return{URI:Tf,_E:void 0,map:S5,compact:Ti,separate:Td,filter:S6,filterMap:S9,partition:S8,partitionMap:S7,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,traverse:n.traverse,sequence:n.sequence,mapWithIndex:S0,reduceWithIndex:n.reduceWithIndex,foldMapWithIndex:n.foldMapWithIndex,reduceRightWithIndex:n.reduceRightWithIndex,traverseWithIndex:n.traverseWithIndex,wilt:sx(n,Tx),wither:s_(n,Tx)}},insertAt:S$,intersection:Tj,isEmpty:SF,isSubmap:SY,keys:SU,lookup:SZ,lookupWithKey:SG,map:Tu,mapWithIndex:Ts,member:SD,modifyAt:SH,partition:Tl,partitionMap:Tc,partitionMapWithIndex:S1,partitionWithIndex:S2,pop:function(t){var n=SZ(t),r=Sq(t);return function(t){var i=r(t);return function(r){return rp(n(t,r),p0(function(t){return[t,i(r)]}))}}},readonlyMap:{URI:Tf,map:S5,compact:Ti,separate:Td,filter:S6,filterMap:S9,partition:S8,partitionMap:S7},reduce:T_,reduceRight:TT,reduceRightWithIndex:TC,reduceWithIndex:TO,separate:Td,singleton:SX,size:SL,toMap:function(t){return new Map(t)},toReadonlyArray:SV,toUnfoldable:function(t,n){var r=SV(t);return function(t){var i=r(t),o=i.length;return n.unfold(0,function(t){return t<o?r_([i[t],t+1]):rx})}},union:TE,updateAt:SK,upsertAt:S$,values:Sz},Symbol.toStringTag,{value:"Module"}));var TP=globalThis&&globalThis.__assign||function(){return(TP=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},TL=function(t){return function(n){return Array.from(n.keys()).sort(t.compare)}},TF=function(t){return function(n){return Array.from(n.values()).sort(t.compare)}};function TD(t){var n=TL(t);return function(t){return function(r){for(var i=[],o=n(r),a=0;a<o.length;a++){var u=o[a];i.push(t(u,r.get(u)))}return i}}}function TW(t){return TD(t)(function(t,n){return[t,n]})}var TU=function(t){var n=T$(t);return function(t,r){var i=n(t);return function(n){var o=i(n);if(rv(o)){var a=new Map(n);return a.set(t,r),a}if(o.value[1]!==r){var a=new Map(n);return a.set(o.value[0],r),a}return n}}},Tz=function(t){var n=T$(t);return function(t){return function(r){var i=n(t,r);if(rb(i)){var o=new Map(r);return o.delete(i.value[0]),o}return r}}},TB=function(t){var n=TV(t);return function(t,r){return n(t,function(){return r})}},TV=function(t){var n=T$(t);return function(t,r){return function(i){var o=n(t,i);if(rv(o))return rx;var a=new Map(i);return a.set(o.value[0],r(o.value[1])),r_(a)}}};function T$(t){return function(n,r){if(void 0===r){var i=T$(t);return function(t){return i(n,t)}}for(var o,a=r.entries();!(o=a.next()).done;){var u=o.value,s=u[0],l=u[1];if(t.equals(s,n))return r_([s,l])}return rx}}var Tq=function(t,n){return new Map([[t,n]])},TK=function(t,n){for(var r,i=new Map,o=t.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=a[1];i.set(u,n(u,s))}return i},TH=function(t){return function(n){for(var r,i=new Map,o=new Map,a=n.entries();!(r=a.next()).done;){var u=r.value,s=u[0],l=t(s,u[1]);rS(l)?i.set(s,l.left):o.set(s,l.right)}return ss(i,o)}};function TG(t){return function(n){for(var r,i=new Map,o=new Map,a=n.entries();!(r=a.next()).done;){var u=r.value,s=u[0],l=u[1];t(s,l)?o.set(s,l):i.set(s,l)}return ss(i,o)}}var TZ=function(t){return function(n){for(var r,i=new Map,o=n.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=t(u,a[1]);rb(s)&&i.set(u,s.value)}return i}};function TY(t){return function(n){for(var r,i=new Map,o=n.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=a[1];t(u,s)&&i.set(u,s)}return i}}var TJ=function(t,n){return TK(t,function(t,r){return n(r)})},TQ=function(t,n){return T2(t,function(t,r){return n(r)})},TX=function(t,n){return T3(t,function(t,r){return n(r)})},T0=function(t,n){return T4(t,function(t,r){return n(r)})},T1=function(t,n){return T5(t,function(t,r){return n(r)})},T2=function(t,n){return rp(t,TY(n))},T3=function(t,n){return rp(t,TZ(n))},T4=function(t,n){return rp(t,TG(n))},T5=function(t,n){return rp(t,TH(n))},T6=function(t){for(var n,r=new Map,i=t.entries();!(n=i.next()).done;){var o=n.value,a=o[0],u=o[1];rb(u)&&r.set(a,u.value)}return r},T9=function(t){return function(n){return TQ(n,t)}},T8=function(t){return function(n){return TX(n,t)}},T7=function(t){return function(n){return TJ(n,t)}},we=function(t){return function(n){return TK(n,t)}},wt=function(t){return function(n){return T0(n,t)}},wn=function(t){return function(n){return T1(n,t)}},wr=function(t){for(var n,r=new Map,i=new Map,o=t.entries();!(n=o.next()).done;){var a=n.value,u=a[0],s=a[1];rS(s)?r.set(u,s.left):i.set(u,s.right)}return ss(r,i)},wi=function(t,n){var r=wg(t,n);return{concat:function(t,n){return r(n)(t)}}},wo=function(t,n){return{concat:wi(t,n).concat,empty:new Map}},wa=function(t,n){var r=wy(t,n);return{concat:function(t,n){return r(n)(t)}}},wu=function(t){return function(){var n=wv(t);return{concat:function(t,r){return n(r)(t)}}}},ws=function(t){return TP(TP({},Tw(t)),{URI:"Map"})},wl=function(t){return TP(TP({},TI(t)),{URI:"Map"})},wc=function(t){var n=wl(t),r=TL(t),i=function(t){return function(n,i){for(var o=t.of(new Map),a=r(n),u=a.length,s=0;s<u;s++)!function(r){var u=a[r],s=n.get(u);o=t.ap(t.map(o,function(t){return function(n){return t.set(u,n)}}),i(u,s))}(s);return o}},o=function(t){var n=i(t);return function(t,r){return n(t,function(t,n){return r(n)})}},a=function(t){var n=i(t);return function(t){return n(t,function(t,n){return n})}};return{URI:"Map",_E:void 0,map:TJ,mapWithIndex:TK,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,reduceWithIndex:n.reduceWithIndex,foldMapWithIndex:n.foldMapWithIndex,reduceRightWithIndex:n.reduceRightWithIndex,traverse:o,sequence:a,traverseWithIndex:i}},wd={URI:"Map",map:TJ},wf=rq(wd),wp={URI:"Map",compact:T6,separate:wr},wh={URI:"Map",map:TJ,compact:T6,separate:wr,filter:TQ,filterMap:TX,partition:T0,partitionMap:T1},wm=function(t){return new Map(t)},wg=function(t,n){var r=TE(t,n);return function(t){return function(n){return SF(n)?wm(t):SF(t)?wm(n):r(t)(n)}}},wy=function(t,n){var r=Tj(t,n);return function(t){return function(n){return SF(n)||SF(t)?new Map:r(t)(n)}}},wv=function(t){var n=TA(t);return function(t){return function(r){return SF(r)?wm(t):SF(t)?wm(r):n(t)(r)}}},wb=new Map;let wx=Object.freeze(Object.defineProperty({__proto__:null,Compactable:wp,Filterable:wh,Functor:wd,URI:"Map",collect:TD,compact:T6,deleteAt:Tz,difference:wv,elem:SW,empty:wb,filter:T9,filterMap:T8,filterMapWithIndex:TZ,filterWithIndex:TY,flap:wf,foldMap:TS,foldMapWithIndex:Tk,fromFoldable:function(t,n,r){return function(i){var o=T$(t);return r.reduce(i,new Map,function(t,r){var i=r[0],a=r[1],u=o(i,t);return rb(u)?t.set(u.value[0],n.concat(u.value[1],a)):t.set(i,a),t})}},getDifferenceMagma:wu,getEq:SQ,getFilterableWithIndex:function(){return{URI:"Map",_E:void 0,map:TJ,mapWithIndex:TK,compact:T6,separate:wr,filter:TQ,filterMap:TX,partition:T0,partitionMap:T1,partitionMapWithIndex:T5,partitionWithIndex:T4,filterMapWithIndex:T3,filterWithIndex:T2}},getFoldable:ws,getFoldableWithIndex:wl,getIntersectionSemigroup:wa,getMonoid:function(t,n){var r=T$(t);return{concat:function(t,i){if(SF(t))return i;if(SF(i))return t;for(var o,a=new Map(t),u=i.entries();!(o=u.next()).done;){var s=o.value,l=s[0],c=s[1],d=r(l,t);rb(d)?a.set(d.value[0],n.concat(d.value[1],c)):a.set(l,c)}return a},empty:new Map}},getShow:SP,getTraversableWithIndex:wc,getUnionMonoid:wo,getUnionSemigroup:wi,getWitherable:function(t){var n=wc(t);return{URI:"Map",_E:void 0,map:TJ,compact:T6,separate:wr,filter:TQ,filterMap:TX,partition:T0,partitionMap:T1,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,traverse:n.traverse,sequence:n.sequence,mapWithIndex:TK,reduceWithIndex:n.reduceWithIndex,foldMapWithIndex:n.foldMapWithIndex,reduceRightWithIndex:n.reduceRightWithIndex,traverseWithIndex:n.traverseWithIndex,wilt:sx(n,wp),wither:s_(n,wp)}},insertAt:TU,intersection:wy,isEmpty:SF,isSubmap:SY,keys:TL,lookup:SZ,lookupWithKey:T$,map:T7,mapWithIndex:we,map_:wh,member:SD,modifyAt:TV,partition:wt,partitionMap:wn,partitionMapWithIndex:TH,partitionWithIndex:TG,pop:function(t){var n=SZ(t),r=Tz(t);return function(t){var i=r(t);return function(r){return rp(n(t,r),p0(function(t){return[t,i(r)]}))}}},reduce:T_,reduceRight:TT,reduceRightWithIndex:TC,reduceWithIndex:TO,separate:wr,singleton:Tq,size:SL,toArray:TW,toUnfoldable:function(t,n){var r=TW(t);return function(t){var i=r(t),o=i.length;return n.unfold(0,function(t){return t<o?r_([i[t],t+1]):rx})}},union:wg,updateAt:TB,upsertAt:TU,values:TF},Symbol.toStringTag,{value:"Module"})),w_=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),wS=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),wT=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ww=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),wO=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var wk=function(t){return{concat:iU(t).concat,empty:t.top}},wC=function(t){return{concat:iz(t).concat,empty:t.bottom}},wI=function(t){return{concat:iN(t).concat,empty:t.empty}},wM=function(t){var n={};for(var r in t)rj.call(t,r)&&(n[r]=t[r].empty);return{concat:iV(t).concat,empty:n}},wR=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{concat:i$.apply(i1,t).concat,empty:t.map(function(t){return t.empty})}},wE=function(t){return iD(t)(t.empty)},wj={concat:iG.concat,empty:void 0},wA={concat:iY.concat,empty:!0},wN={concat:iJ.concat,empty:!1},wP=function(){return wI(yt())},wL={concat:iQ.concat,empty:""},wF={concat:iX.concat,empty:0},wD={concat:i0.concat,empty:1};let wW=Object.freeze(Object.defineProperty({__proto__:null,concatAll:wE,fold:wE,getDualMonoid:wI,getEndomorphismMonoid:wP,getFunctionMonoid:n8,getJoinMonoid:wC,getMeetMonoid:wk,getStructMonoid:wM,getTupleMonoid:wR,max:wC,min:wk,monoidAll:wA,monoidAny:wN,monoidProduct:wD,monoidString:wL,monoidSum:wF,monoidVoid:wj,reverse:wI,struct:wM,tuple:wR},Symbol.toStringTag,{value:"Module"})),wU=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var wz=function(t,n,r){return function(i){return -1===i?t():0===i?n():r()}},wB=function(t){return -1===t?1:1===t?-1:0},wV={equals:function(t,n){return t===n}},w$={concat:function(t,n){return 0!==t?t:n}},wq={concat:w$.concat,empty:0},wK=function(t){return t<=-1?-1:t>=1?1:0};let wH=Object.freeze(Object.defineProperty({__proto__:null,Eq:wV,Monoid:wq,Semigroup:w$,eqOrdering:wV,invert:wB,match:wz,matchW:wz,monoidOrdering:wq,reverse:wB,semigroupOrdering:w$,sign:wK},Symbol.toStringTag,{value:"Module"})),wG=Object.freeze(Object.defineProperty({__proto__:null,pipe:rp,pipeable:function(t){var n,r,i,o,a,u,s,l,c,d,f,p,h,m,g,y={};if("function"==typeof t.map){var v=function(n){return function(r){return t.map(r,n)}};y.map=v}if("function"==typeof t.contramap){var b=function(n){return function(r){return t.contramap(r,n)}};y.contramap=b}if("function"==typeof t.mapWithIndex){var x=function(n){return function(r){return t.mapWithIndex(r,n)}};y.mapWithIndex=x}if("function"==typeof t.ap){var _=function(n){return function(r){return t.ap(r,n)}},S=function(n){return function(r){return t.ap(t.map(r,function(t){return function(){return t}}),n)}};y.ap=_,y.apFirst=S,y.apSecond=function(n){return function(r){return t.ap(t.map(r,function(){return function(t){return t}}),n)}}}if("function"==typeof t.chain){var T=function(n){return function(r){return t.chain(r,n)}},w=function(n){return function(r){return t.chain(r,function(r){return t.map(n(r),function(){return r})})}},O=function(n){return t.chain(n,rn)};y.chain=T,y.chainFirst=w,y.flatten=O}if("function"==typeof t.bimap){var k=function(n,r){return function(i){return t.bimap(i,n,r)}},C=function(n){return function(r){return t.mapLeft(r,n)}};y.bimap=k,y.mapLeft=C}if("function"==typeof t.extend){var I=function(n){return function(r){return t.extend(r,n)}},M=function(n){return t.extend(n,rn)};y.extend=I,y.duplicate=M}if("function"==typeof t.reduce){var R=function(n,r){return function(i){return t.reduce(i,n,r)}},E=function(n){var r=t.foldMap(n);return function(t){return function(n){return r(n,t)}}},j=function(n,r){return function(i){return t.reduceRight(i,n,r)}};y.reduce=R,y.foldMap=E,y.reduceRight=j}if("function"==typeof t.reduceWithIndex){var A=function(n,r){return function(i){return t.reduceWithIndex(i,n,r)}},N=function(n){var r=t.foldMapWithIndex(n);return function(t){return function(n){return r(n,t)}}},P=function(n,r){return function(i){return t.reduceRightWithIndex(i,n,r)}};y.reduceWithIndex=A,y.foldMapWithIndex=N,y.reduceRightWithIndex=P}if("function"==typeof t.alt){var L=function(n){return function(r){return t.alt(r,n)}};y.alt=L}if("function"==typeof t.compact&&(y.compact=t.compact,y.separate=t.separate),"function"==typeof t.filter){var F=function(n){return function(r){return t.filter(r,n)}},D=function(n){return function(r){return t.filterMap(r,n)}},W=function(n){return function(r){return t.partition(r,n)}},U=function(n){return function(r){return t.partitionMap(r,n)}};y.filter=F,y.filterMap=D,y.partition=W,y.partitionMap=U}if("function"==typeof t.filterWithIndex){var z=function(n){return function(r){return t.filterWithIndex(r,n)}},B=function(n){return function(r){return t.filterMapWithIndex(r,n)}},V=function(n){return function(r){return t.partitionWithIndex(r,n)}},$=function(n){return function(r){return t.partitionMapWithIndex(r,n)}};y.filterWithIndex=z,y.filterMapWithIndex=B,y.partitionWithIndex=V,y.partitionMapWithIndex=$}if("function"==typeof t.promap){var q=function(n,r){return function(i){return t.promap(i,n,r)}};y.promap=q}if("function"==typeof t.compose){var K=function(n){return function(r){return t.compose(r,n)}};y.compose=K}if("function"==typeof t.throwError){var H=function(n){return function(r){return"None"===r._tag?t.throwError(n()):t.of(r.value)}},G=function(n){return"Left"===n._tag?t.throwError(n.left):t.of(n.right)},Z=function(n,r){return function(i){return n(i)?t.of(i):t.throwError(r(i))}},Y=function(n,r){return function(i){return t.chain(i,function(i){return n(i)?t.of(i):t.throwError(r(i))})}};y.fromOption=H,y.fromEither=G,y.fromPredicate=Z,y.filterOrElse=Y}return y}},Symbol.toStringTag,{value:"Module"})),wZ=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),wY=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var wJ=function(){return Math.random()};function wQ(t,n){return rp(wJ,bW(function(r){return Math.floor((n-t+1)*r+t)}))}var wX=rp(wJ,bW(function(t){return t<.5})),w0=function(t){return rp(wQ(0,t.length-1),bW(function(n){return t[n]}))};let w1=Object.freeze(Object.defineProperty({__proto__:null,random:wJ,randomBool:wX,randomElem:w0,randomInt:wQ,randomRange:function(t,n){return rp(wJ,bW(function(r){return(n-t)*r+t}))}},Symbol.toStringTag,{value:"Module"}));var w2=gB(yY),w3=gz(yY),w4=gV(yG),w5=g$(yG),w6=g1(yG),w9=g2(y2),w8=g3(y2),w7=g8(yG),Oe=g4(y2),Ot=g5(y2),On=g6(y2),Or=g9(yG),Oi=function(t,n){return rp(t,Oc(n))},Oo=function(t,n,r){return rp(t,Od(n,r))},Oa=function(t,n){return rp(t,Of(n))},Ou=function(t,n){return rp(t,Op(n))},Os=function(t,n){return rp(t,Oh(n))},Ol=function(t,n){return rp(t,Og(n))},Oc=gG(yG),Od=gQ(yG),Of=gX(yG),Op=gZ(yJ),Oh=gY(y2),Om=Oh(rn),Og=gJ(y2),Oy="ReaderEither",Ov=function(t){var n=mW(t);return{URI:Oy,_E:void 0,compact:h6(yG,n),separate:h9(yG,n,mq)}};function Ob(t){var n=rN(yJ,mB(t));return{URI:Oy,_E:void 0,map:Oi,ap:function(t,r){return rp(t,n(r))},of:w3}}function Ox(t){var n=g0(y2,t);return{URI:Oy,_E:void 0,map:Oi,alt:function(t,r){return rp(t,n(r))}}}var O_={URI:Oy,map:Oi},OS=rq(O_),OT={URI:Oy,map:Oi,ap:Ou},Ow=rP(OT),OO=rL(OT),Ok={URI:Oy,map:Oi,ap:Ou,of:w3},OC={URI:Oy,map:Oi,ap:Ou,chain:Os},OI=rQ(OC),OM={URI:Oy,fromReader:w4},OR=va(OM),OE=vu(OM),Oj=vs(OM),OA=vl(OM,OC),ON=vc(OM,OC),OP={URI:Oy,fromEither:rr},OL=r1(OP),OF=r3(OP),OD=r4(OP,OC),OW=r6(OP,OC),OU=r9(OP,OC),Oz=r2(OP),OB=r8(OP,OC),OV=r5(OP),O$=w3(rE),Oq=rK(O_),OK=rX(OC),OH=rF(OT),OG=w3(rR),OZ=function(t){return rs(y7(t),yN(gE(rh)))},OY=function(t){var n=OZ(t);return function(t){return rC(t)?n(t):OG}},OJ=function(t){return OY(function(n,r){return t(r)})},OQ=OJ(rn),OX=rD(OT),O0=rZ(Ok),O1=function(t){return rD(yJ)(mD(t))};let O2=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:Oy,map:Oi,alt:Ol},ApT:OG,Applicative:Ok,Apply:OT,Bifunctor:{URI:Oy,bimap:Oo,mapLeft:Oa},Chain:OC,Do:O$,FromEither:OP,FromReader:OM,Functor:O_,Monad:{URI:Oy,map:Oi,ap:Ou,of:w3,chain:Os},MonadThrow:{URI:Oy,map:Oi,ap:Ou,of:w3,chain:Os,throwError:w2},Pointed:{URI:Oy,of:w3},URI:Oy,alt:Og,altW:Og,ap:Op,apFirst:Ow,apFirstW:Ow,apS:OH,apSW:OH,apSecond:OO,apSecondW:OO,apW:Op,ask:OR,asks:OE,asksReaderEither:yI,asksReaderEitherW:yI,bimap:Od,bind:OK,bindTo:Oq,bindW:OK,chain:Oh,chainEitherK:OW,chainEitherKW:OW,chainFirst:OI,chainFirstEitherK:OU,chainFirstEitherKW:OU,chainFirstReaderK:ON,chainFirstReaderKW:ON,chainFirstW:OI,chainOptionK:OD,chainReaderK:OA,chainReaderKW:OA,chainW:Oh,filterOrElse:OB,filterOrElseW:OB,flap:OS,flatten:Om,flattenW:Om,fold:w9,foldW:w9,fromEither:rr,fromEitherK:OV,fromOption:OL,fromOptionK:OF,fromPredicate:Oz,fromReader:w4,fromReaderK:Oj,getAltReaderValidation:Ox,getApplicativeReaderValidation:Ob,getApplyMonoid:O0,getApplySemigroup:OX,getCompactable:Ov,getFilterable:function(t){var n=mU(t),r=Ov(t),i=ya(yG,n),o=yu(yG,n),a=ys(yG,n),u=yl(yG,n);return{URI:Oy,_E:void 0,map:Oi,compact:r.compact,separate:r.separate,filter:function(t,n){return rp(t,i(n))},filterMap:function(t,n){return rp(t,o(n))},partition:function(t,n){return rp(t,a(n))},partitionMap:function(t,n){return rp(t,u(n))}}},getOrElse:w8,getOrElseW:w8,getReaderValidation:function(t){var n=Ob(t),r=Ox(t);return{URI:Oy,_E:void 0,map:Oi,ap:n.ap,of:w3,chain:Os,bimap:Oo,mapLeft:Oa,alt:r.alt,throwError:w2}},getSemigroup:O1,left:w2,leftReader:w5,local:yC,map:Oc,mapLeft:Of,match:w6,matchE:w9,matchEW:w9,matchW:w6,of:w3,orElse:Oe,orElseFirst:Ot,orElseFirstW:Ot,orElseW:Oe,orLeft:On,readerEither:{URI:Oy,bimap:Oo,mapLeft:Oa,map:Oi,of:w3,ap:Ou,chain:Os,alt:Ol,throwError:w2},right:w3,rightReader:w4,sequenceArray:OQ,swap:Or,throwError:w2,toUnion:w7,traverseArray:OJ,traverseArrayWithIndex:OY,traverseReadonlyArrayWithIndex:OY,traverseReadonlyNonEmptyArrayWithIndex:OZ},Symbol.toStringTag,{value:"Module"}));function O3(t){return function(n){return function(){return t.of(n)}}}function O4(t){return function(n){return function(r){return function(i){return t.map(r(i),n)}}}}function O5(t){return function(n){return function(r){return function(i){return t.ap(r(i),n(i))}}}}function O6(t){return function(n){return function(r){return function(i){return t.chain(r(i),function(t){return n(t)(i)})}}}}function O9(t){return function(n){return rs(n,t.of)}}let O8=Object.freeze(Object.defineProperty({__proto__:null,ap:O5,chain:O6,fromNaturalTransformation:function(t){return function(n){return rs(n,t)}},fromReader:O9,getReaderM:function(t){var n=O5(t),r=O4(t),i=O6(t);return{map:function(t,n){return rp(t,r(n))},ap:function(t,r){return rp(t,n(r))},of:O3(t),chain:function(t,n){return rp(t,i(n))},ask:function(){return t.of},asks:function(n){return rs(n,t.of)},local:function(t,n){return function(r){return t(n(r))}},fromReader:O9(t),fromM:function(t){return function(){return t}}}},map:O4,of:O3},Symbol.toStringTag,{value:"Module"}));var O7=function(t){return function(){return Promise.resolve().then(t)}},ke=function(t,n){return rp(t,ki(n))},kt=function(t,n){return rp(t,ko(n))},kn=function(t,n){return rp(t,ku(function(t){return rp(n,ki(t))}))},kr=function(t,n){return rp(t,ku(n))},ki=function(t){return function(n){return function(){return Promise.resolve().then(n).then(t)}}},ko=function(t){return function(n){return function(){return Promise.all([Promise.resolve().then(n),Promise.resolve().then(t)]).then(function(t){var n;return(0,t[0])(t[1])})}}},ka=function(t){return function(){return Promise.resolve(t)}},ku=function(t){return function(n){return function(){return Promise.resolve().then(n).then(function(n){return t(n)()})}}},ks=ku(rn),kl="Task",kc={URI:kl,map:ke},kd=rq(kc),kf={URI:kl,of:ka},kp={URI:kl,map:ke,ap:kt},kh=rP(kp),km=rL(kp),kg={URI:kl,map:ke,ap:kt,of:ka},ky={URI:kl,map:ke,ap:kn},kv={URI:kl,map:ke,ap:kn,of:ka},kb={URI:kl,map:ke,ap:kt,chain:kr},kx={URI:kl,map:ke,of:ka,ap:kt,chain:kr},k_=rQ(kb),kS={URI:kl,fromIO:O7},kT=yS(kS),kw=yT(kS,kb),kO=yw(kS,kb),kk=function(){return new Promise(function(t){})},kC=ka(rE),kI=rK(kc),kM=rX(kb),kR=rF(kp),kE=ka(rR),kj=function(t){return function(n){return function(){return Promise.all(n.map(function(n,r){return Promise.resolve().then(function(){return t(r,n)()})}))}}},kA=function(t){var n=kj(t);return function(t){return rC(t)?n(t):kE}},kN=function(t){return function(n){return function(){return rM(n).reduce(function(n,r,i){return n.then(function(n){return Promise.resolve().then(t(i+1,r)).then(function(t){return n.push(t),n})})},Promise.resolve().then(t(0,rI(n))).then(rk))}}},kP=function(t){var n=kN(t);return function(t){return rC(t)?n(t):kE}},kL=function(t){return kA(function(n,r){return t(r)})},kF=kL(rn),kD=function(t){return kP(function(n,r){return t(r)})},kW=kD(rn),kU=rD(ky),kz=rZ(kv);let kB=Object.freeze(Object.defineProperty({__proto__:null,ApT:kE,ApplicativePar:kg,ApplicativeSeq:kv,ApplyPar:kp,ApplySeq:ky,Chain:kb,Do:kC,FromIO:kS,FromTask:{URI:kl,fromIO:O7,fromTask:rn},Functor:kc,Monad:kx,MonadIO:{URI:kl,map:ke,of:ka,ap:kt,chain:kr,fromIO:O7},MonadTask:{URI:kl,map:ke,of:ka,ap:kt,chain:kr,fromIO:O7,fromTask:rn},Pointed:kf,URI:kl,ap:ko,apFirst:kh,apS:kR,apSecond:km,bind:kM,bindTo:kI,chain:ku,chainFirst:k_,chainFirstIOK:kO,chainIOK:kw,delay:function(t){return function(n){return function(){return new Promise(function(r){setTimeout(function(){Promise.resolve().then(n).then(r)},t)})}}},flap:kd,flatten:ks,fromIO:O7,fromIOK:kT,fromTask:rn,getMonoid:kz,getRaceMonoid:function(){return{concat:function(t,n){return function(){return Promise.race([Promise.resolve().then(t),Promise.resolve().then(n)])}},empty:kk}},getSemigroup:kU,map:ki,never:kk,of:ka,sequenceArray:kF,sequenceSeqArray:kW,task:{URI:kl,map:ke,of:ka,ap:kt,chain:kr,fromIO:O7,fromTask:rn},taskSeq:{URI:kl,map:ke,of:ka,ap:kn,chain:kr,fromIO:O7,fromTask:rn},traverseArray:kL,traverseArrayWithIndex:kA,traverseReadonlyArrayWithIndex:kA,traverseReadonlyArrayWithIndexSeq:kP,traverseReadonlyNonEmptyArrayWithIndex:kj,traverseReadonlyNonEmptyArrayWithIndexSeq:kN,traverseSeqArray:kD,traverseSeqArrayWithIndex:kP},Symbol.toStringTag,{value:"Module"}));var kV=O9(kf),k$=rs(O7,rr),kq=function(t,n){return rp(t,kZ(n))},kK=function(t,n){return rp(t,kY(n))},kH=function(t,n){return rp(t,kQ(function(t){return rp(n,kZ(t))}))},kG=function(t,n){return rp(t,kQ(n))},kZ=O4(kc),kY=O5(kp),kJ=O3(kf),kQ=O6(kx),kX=kQ(rn),k0="ReaderTask",k1={URI:k0,map:kq},k2=rq(k1),k3={URI:k0,of:kJ},k4={URI:k0,map:kq,ap:kK},k5=rP(k4),k6=rL(k4),k9={URI:k0,map:kq,ap:kH},k8={URI:k0,map:kq,ap:kH,of:kJ},k7={URI:k0,map:kq,ap:kK,chain:kG},Ce={URI:k0,map:kq,of:kJ,ap:kK,chain:kG},Ct=rQ(k7),Cn={URI:k0,fromIO:k$},Cr=yS(Cn),Ci=yT(Cn,k7),Co=yw(Cn,k7),Ca={URI:k0,fromReader:kV},Cu=va(Ca),Cs=vu(Ca),Cl=vs(Ca),Cc=vl(Ca,k7),Cd=vc(Ca,k7),Cf={URI:k0,fromIO:k$,fromTask:rr},Cp=vQ(Cf),Ch=vX(Cf,k7),Cm=v0(Cf,k7),Cg=kJ(rE),Cy=rK(k1),Cv=rX(k7),Cb=rF(k4),Cx=kJ(rR),C_=function(t){return rs(y7(t),yN(kj(rh)))},CS=function(t){var n=C_(t);return function(t){return rC(t)?n(t):Cx}},CT=function(t){return rs(y7(t),yN(kN(rh)))},Cw=function(t){var n=CT(t);return function(t){return rC(t)?n(t):Cx}},CO=function(t){return CS(function(n,r){return t(r)})},Ck=CO(rn),CC=function(t){return Cw(function(n,r){return t(r)})},CI=CC(rn),CM=rD(k9),CR=rZ(k8);function CE(t,n){return t(n)()}let Cj=Object.freeze(Object.defineProperty({__proto__:null,ApT:Cx,ApplicativePar:{URI:k0,map:kq,ap:kK,of:kJ},ApplicativeSeq:k8,ApplyPar:k4,ApplySeq:k9,Chain:k7,Do:Cg,FromIO:Cn,FromReader:Ca,FromTask:Cf,Functor:k1,Monad:Ce,MonadIO:{URI:k0,map:kq,of:kJ,ap:kK,chain:kG,fromIO:k$},MonadTask:{URI:k0,map:kq,of:kJ,ap:kK,chain:kG,fromIO:k$,fromTask:rr},Pointed:k3,URI:k0,ap:kY,apFirst:k5,apS:Cb,apSW:Cb,apSecond:k6,apW:kY,ask:Cu,asks:Cs,asksReaderTask:yI,asksReaderTaskW:yI,bind:Cv,bindTo:Cy,bindW:Cv,chain:kQ,chainFirst:Ct,chainFirstIOK:Co,chainFirstReaderK:Cd,chainFirstReaderKW:Cd,chainFirstTaskK:Cm,chainFirstW:Ct,chainIOK:Ci,chainReaderK:Cc,chainReaderKW:Cc,chainTaskK:Ch,chainW:kQ,flap:k2,flatten:kX,flattenW:kX,fromIO:k$,fromIOK:Cr,fromReader:kV,fromReaderK:Cl,fromTask:rr,fromTaskK:Cp,getMonoid:CR,getSemigroup:CM,local:yC,map:kZ,of:kJ,readerTask:{URI:k0,map:kq,of:kJ,ap:kK,chain:kG,fromIO:k$,fromTask:rr},readerTaskSeq:{URI:k0,map:kq,of:kJ,ap:kH,chain:kG,fromIO:k$,fromTask:rr},run:CE,sequenceArray:Ck,sequenceSeqArray:CI,traverseArray:CO,traverseArrayWithIndex:CS,traverseReadonlyArrayWithIndex:CS,traverseReadonlyArrayWithIndexSeq:Cw,traverseReadonlyNonEmptyArrayWithIndex:C_,traverseReadonlyNonEmptyArrayWithIndexSeq:CT,traverseSeqArray:CC,traverseSeqArrayWithIndex:Cw},Symbol.toStringTag,{value:"Module"}));var CA=globalThis&&globalThis.__awaiter||function(t,n,r,i){return new(r||(r=Promise))(function(o,a){function u(t){try{l(i.next(t))}catch(n){a(n)}}function s(t){try{l(i.throw(t))}catch(n){a(n)}}function l(t){var n;t.done?o(t.value):((n=t.value)instanceof r?n:new r(function(t){t(n)})).then(u,s)}l((i=i.apply(t,n||[])).next())})},CN=globalThis&&globalThis.__generator||function(t,n){var r,i,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw TypeError("Generator is already executing.");for(;u;)try{if(r=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,i=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(t,u)}catch(s){a=[6,s],i=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},CP=gB(kf),CL=gz(kf),CF=gV(kc),CD=g$(kc),CW=rs(O7,CF),CU=rs(O7,CD),Cz=function(t){return ki(gr(t))},CB=g1(kc),CV=g2(kx),C$=g3(kx),Cq=function(t,n){return function(){return CA(void 0,void 0,void 0,function(){var r;return CN(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t().then(rO)];case 1:return[2,r.sent()];case 2:return[2,rw(n(r.sent()))];case 3:return[2]}})})}},CK=function(t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Cq(function(){return t.apply(void 0,r)},n)}},CH=g8(kc),CG=gq(kf),CZ=gK(kf),CY=gH(kx),CJ=g4(kx),CQ=g5(kx),CX=function(t){return CQ(IP(t))},C0=function(t){return CQ(IW(t))},C1=g6(kx),C2=g9(kc),C3=function(t){var n=Cz(t);return function(t){return rs(t,n)}},C4=function(t){return function(n){return function(r){return rp(r,Is(C3(t)(n)))}}},C5=function(t){return rs(t,O7)},C6=function(t){return Il(C5(t))},C9=function(t,n){return rp(t,Ii(n))},C8=function(t,n){return rp(t,Iu(n))},C7=function(t,n){return rp(t,Is(function(t){return rp(n,Ii(t))}))},Ie=function(t,n){return rp(t,Is(n))},It=function(t,n,r){return rp(t,Io(n,r))},In=function(t,n){return rp(t,Ia(n))},Ir=function(t,n){return rp(t,Id(n))},Ii=gG(kc),Io=gQ(kc),Ia=gX(kc),Iu=gZ(kp),Is=gY(kx),Il=Is,Ic=Il(rn),Id=gJ(kx),If="TaskEither";function Ip(t,n){var r=rN(t,mB(n));return{URI:If,_E:void 0,map:C9,ap:function(t,n){return rp(t,r(n))},of:CL}}function Ih(t){var n=g0(kx,t);return{URI:If,_E:void 0,map:C9,alt:function(t,r){return rp(t,n(r))}}}var Im=function(t){var n=mW(t);return{URI:If,_E:void 0,compact:h6(kc,n),separate:h9(kc,n,mq)}},Ig={URI:If,map:C9},Iy=rq(Ig),Iv={URI:If,map:C9,ap:C8},Ib=rP(Iv),Ix=rL(Iv),I_={URI:If,map:C9,ap:C7},IS={URI:If,map:C9,ap:C7,of:CL},IT={URI:If,map:C9,ap:C8,chain:Ie},Iw=rQ(IT),IO={URI:If,fromEither:ka},Ik=r1(IO),IC=r3(IO),II=r4(IO,IT),IM=r6(IO,IT),IR=r9(IO,IT),IE=r2(IO),Ij=r8(IO,IT),IA=r5(IO),IN={URI:If,fromIO:CW},IP=yS(IN),IL=yT(IN,IT),IF=yw(IN,IT),ID={URI:If,fromIO:CW,fromTask:CF},IW=vQ(ID),IU=vX(ID,IT),Iz=v0(ID,IT),IB=function(t,n,r){return IV(t,n,r)},IV=function(t,n,r){return rp(t,Il(function(t){return rp(n(t),ku(function(n){return rp(r(t,n),Il(function(){return ka(n)}))}))}))},I$=CL(rE),Iq=rK(Ig),IK=rX(IT),IH=rF(Iv),IG=CL(rR),IZ=function(t){return rs(kj(t),ki(gE(rh)))},IY=function(t){var n=IZ(t);return function(t){return rC(t)?n(t):IG}},IJ=function(t){return function(n){return function(){return rM(n).reduce(function(n,r,i){return n.then(function(o){return rS(o)?n:t(i+1,r)().then(function(t){return rS(t)?t:(o.right.push(t.right),o)})})},t(0,rI(n))().then(m$(rk)))}}},IQ=function(t){var n=IJ(t);return function(t){return rC(t)?n(t):IG}},IX=function(t){return IY(function(n,r){return t(r)})},I0=IX(rn),I1=function(t){return IQ(function(n,r){return t(r)})},I2=I1(rn),I3=rD(I_),I4=rZ(IS),I5=function(t){return rD(ky)(mD(t))};let I6=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:If,map:C9,alt:Ir},ApT:IG,ApplicativePar:{URI:If,map:C9,ap:C8,of:CL},ApplicativeSeq:IS,ApplyPar:Iv,ApplySeq:I_,Bifunctor:{URI:If,bimap:It,mapLeft:In},Chain:IT,Do:I$,FromEither:IO,FromIO:IN,FromTask:ID,Functor:Ig,Monad:{URI:If,map:C9,ap:C8,chain:Ie,of:CL},MonadIO:{URI:If,map:C9,ap:C8,chain:Ie,of:CL,fromIO:CW},MonadTask:{URI:If,map:C9,ap:C8,chain:Ie,of:CL,fromIO:CW,fromTask:CF},MonadThrow:{URI:If,map:C9,ap:C8,chain:Ie,of:CL,throwError:CP},Pointed:{URI:If,of:CL},URI:If,alt:Id,altW:Id,ap:Iu,apFirst:Ib,apFirstW:Ib,apS:IH,apSW:IH,apSecond:Ix,apSecondW:Ix,apW:Iu,bimap:Io,bind:IK,bindTo:Iq,bindW:IK,bracket:IB,bracketW:IV,chain:Is,chainEitherK:IM,chainEitherKW:IM,chainFirst:Iw,chainFirstEitherK:IR,chainFirstEitherKW:IR,chainFirstIOK:IF,chainFirstTaskK:Iz,chainFirstW:Iw,chainIOEitherK:C6,chainIOEitherKW:C6,chainIOK:IL,chainNullableK:CY,chainOptionK:II,chainTaskK:IU,chainTaskOptionK:C4,chainTaskOptionKW:C4,chainW:Il,filterOrElse:Ij,filterOrElseW:Ij,flap:Iy,flatten:Ic,flattenW:Ic,fold:CV,foldW:CV,fromEither:ka,fromEitherK:IA,fromIO:CW,fromIOEither:O7,fromIOEitherK:C5,fromIOK:IP,fromNullable:CG,fromNullableK:CZ,fromOption:Ik,fromOptionK:IC,fromPredicate:IE,fromTask:CF,fromTaskK:IW,fromTaskOption:Cz,fromTaskOptionK:C3,getAltTaskValidation:Ih,getApplicativeTaskValidation:Ip,getApplyMonoid:I4,getApplySemigroup:I3,getCompactable:Im,getFilterable:function(t){var n=mU(t),r=Im(t),i=ya(kc,n),o=yu(kc,n),a=ys(kc,n),u=yl(kc,n);return{URI:If,_E:void 0,map:C9,compact:r.compact,separate:r.separate,filter:function(t,n){return rp(t,i(n))},filterMap:function(t,n){return rp(t,o(n))},partition:function(t,n){return rp(t,a(n))},partitionMap:function(t,n){return rp(t,u(n))}}},getOrElse:C$,getOrElseW:C$,getSemigroup:I5,getTaskValidation:function(t){var n=Ip(kg,t),r=Ih(t);return{URI:If,_E:void 0,map:C9,ap:n.ap,of:CL,chain:Ie,bimap:It,mapLeft:In,alt:r.alt,fromIO:CW,fromTask:CF,throwError:CP}},left:CP,leftIO:CU,leftTask:CD,map:Ii,mapLeft:Ia,match:CB,matchE:CV,matchEW:CV,matchW:CB,of:CL,orElse:CJ,orElseFirst:CQ,orElseFirstIOK:CX,orElseFirstTaskK:C0,orElseFirstW:CQ,orElseW:CJ,orLeft:C1,right:CL,rightIO:CW,rightTask:CF,sequenceArray:I0,sequenceSeqArray:I2,swap:C2,taskEither:{URI:If,bimap:It,mapLeft:In,map:C9,of:CL,ap:C8,chain:Ie,alt:Ir,fromIO:CW,fromTask:CF,throwError:CP},taskEitherSeq:{URI:If,bimap:It,mapLeft:In,map:C9,of:CL,ap:C7,chain:Ie,alt:Ir,fromIO:CW,fromTask:CF,throwError:CP},taskify:function(t){return function(){var n=Array.prototype.slice.call(arguments);return function(){return new Promise(function(r){var i=function(t,n){return null!=t?r(rw(t)):r(rO(n))};t.apply(null,n.concat(i))})}}},throwError:CP,toUnion:CH,traverseArray:IX,traverseArrayWithIndex:IY,traverseReadonlyArrayWithIndex:IY,traverseReadonlyArrayWithIndexSeq:IQ,traverseReadonlyNonEmptyArrayWithIndex:IZ,traverseReadonlyNonEmptyArrayWithIndexSeq:IJ,traverseSeqArray:I1,traverseSeqArrayWithIndex:IQ,tryCatch:Cq,tryCatchK:CK},Symbol.toStringTag,{value:"Module"}));var I9=gB(k3),I8=gz(k3),I7=rs(CF,rr),Me=rs(CD,rr),Mt=function(t){return rs(t,CL)},Mn=function(t){return rs(t,CP)},Mr=gV(k1),Mi=g$(k1),Mo=rs(CW,rr),Ma=rs(CU,rr),Mu=rs(O7,rr),Ms=function(t){return rs(t,ka)},Ml=g1(k1),Mc=g2(k7),Md=g3(Ce),Mf=g8(k1),Mp=gq(k3),Mh=gK(k3),Mm=gH(Ce),Mg=g4(Ce),My=g5(Ce),Mv=g6(Ce),Mb=g9(k1),Mx=function(t){return rs(t,Mu)},M_=function(t){return MU(Mx(t))},MS=function(t){return rs(t,rr)},MT=function(t){return MU(MS(t))},Mw=function(t){return M3(MS(t))},MO=function(t){return rs(t,Ms)},Mk=function(t){return MU(MO(t))},MC=function(t){return M3(MO(t))},MI=function(t,n){return rp(t,MP(n))},MM=function(t,n){return rp(t,MD(n))},MR=function(t,n){return rp(t,MW(function(t){return rp(n,MP(t))}))},ME=function(t,n){return rp(t,MW(n))},Mj=function(t,n){return rp(t,MB(n))},MA=function(t,n,r){return rp(t,ML(n,r))},MN=function(t,n){return rp(t,MF(n))},MP=gG(k1),ML=gQ(k1),MF=gX(k1),MD=gZ(k4),MW=gY(Ce),MU=MW,Mz=MU(rn),MB=gJ(Ce),MV="ReaderTaskEither",M$=function(t){var n=mW(t);return{URI:MV,_E:void 0,compact:h6(k1,n),separate:h9(k1,n,mq)}};function Mq(t,n){var r=rN(yJ,Ip(t,n));return{URI:MV,_E:void 0,map:MI,ap:function(t,n){return rp(t,r(n))},of:I8}}function MK(t){var n=g0(Ce,t);return{URI:MV,_E:void 0,map:MI,alt:function(t,r){return rp(t,n(r))}}}var MH={URI:MV,map:MI},MG=rq(MH),MZ={URI:MV,of:I8},MY={URI:MV,map:MI,ap:MM},MJ=rP(MY),MQ=rL(MY),MX={URI:MV,map:MI,ap:MR},M0={URI:MV,map:MI,ap:MR,of:I8},M1={URI:MV,map:MI,ap:MM,chain:ME},M2=rQ(M1),M3=M2,M4={URI:MV,fromReader:Mt},M5=va(M4),M6=vu(M4),M9=vs(M4),M8=vl(M4,M1),M7=vc(M4,M1),Re=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Mr(t.apply(void 0,n))}},Rt=function(t){return MU(Re(t))},Rn=function(t){return M3(Re(t))},Rr={URI:MV,fromEither:kJ},Ri=r1(Rr),Ro=r3(Rr),Ra=r4(Rr,M1),Ru=r6(Rr,M1),Rs=r9(Rr,M1),Rl=r2(Rr),Rc=r8(Rr,M1),Rd=r5(Rr),Rf={URI:MV,fromIO:Mo},Rp=yS(Rf),Rh=yT(Rf,M1),Rm=yw(Rf,M1),Rg={URI:MV,fromIO:Mo,fromTask:I7},Ry=vQ(Rg),Rv=vX(Rg,M1),Rb=v0(Rg,M1);function Rx(t,n,r){return R_(t,n,r)}function R_(t,n,r){return function(i){return IV(t(i),function(t){return n(t)(i)},function(t,n){return r(t,n)(i)})}}var RS=I8(rE),RT=rK(MH),Rw=rX(M1),RO=rF(MY),Rk=I8(rR),RC=function(t){return rs(y7(t),yN(IZ(rh)))},RI=function(t){var n=RC(t);return function(t){return rC(t)?n(t):Rk}},RM=function(t){return rs(y7(t),yN(IJ(rh)))},RR=function(t){var n=RM(t);return function(t){return rC(t)?n(t):Rk}},RE=function(t){return RI(function(n,r){return t(r)})},Rj=RE(rn),RA=function(t){return RR(function(n,r){return t(r)})},RN=RA(rn),RP=rD(MX),RL=rZ(M0),RF=function(t){return rD(k9)(mD(t))};function RD(t,n){return t(n)()}let RW=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:MV,map:MI,alt:Mj},ApT:Rk,ApplicativePar:{URI:MV,map:MI,ap:MM,of:I8},ApplicativeSeq:M0,ApplyPar:MY,ApplySeq:MX,Bifunctor:{URI:MV,bimap:MA,mapLeft:MN},Chain:M1,Do:RS,FromEither:Rr,FromIO:Rf,FromReader:M4,FromTask:Rg,Functor:MH,Monad:{URI:MV,map:MI,ap:MM,chain:ME,of:I8},MonadIO:{URI:MV,map:MI,ap:MM,chain:ME,of:I8,fromIO:Mo},MonadTask:{URI:MV,map:MI,ap:MM,chain:ME,of:I8,fromIO:Mo,fromTask:I7},MonadThrow:{URI:MV,map:MI,ap:MM,chain:ME,of:I8,throwError:I9},Pointed:MZ,URI:MV,alt:MB,altW:MB,ap:MD,apFirst:MJ,apFirstW:MJ,apS:RO,apSW:RO,apSecond:MQ,apSecondW:MQ,apW:MD,ask:M5,asks:M6,asksReaderTaskEither:yI,asksReaderTaskEitherW:yI,bimap:ML,bind:Rw,bindTo:RT,bindW:Rw,bracket:Rx,bracketW:R_,chain:MW,chainEitherK:Ru,chainEitherKW:Ru,chainFirst:M2,chainFirstEitherK:Rs,chainFirstEitherKW:Rs,chainFirstIOK:Rm,chainFirstReaderEitherK:MC,chainFirstReaderEitherKW:MC,chainFirstReaderK:M7,chainFirstReaderKW:M7,chainFirstReaderTaskK:Rn,chainFirstReaderTaskKW:Rn,chainFirstTaskEitherK:Mw,chainFirstTaskEitherKW:Mw,chainFirstTaskK:Rb,chainFirstW:M3,chainIOEitherK:M_,chainIOEitherKW:M_,chainIOK:Rh,chainNullableK:Mm,chainOptionK:Ra,chainReaderEitherK:Mk,chainReaderEitherKW:Mk,chainReaderK:M8,chainReaderKW:M8,chainReaderTaskK:Rt,chainReaderTaskKW:Rt,chainTaskEitherK:MT,chainTaskEitherKW:MT,chainTaskK:Rv,chainW:MU,filterOrElse:Rc,filterOrElseW:Rc,flap:MG,flatten:Mz,flattenW:Mz,fold:Mc,foldW:Mc,fromEither:kJ,fromEitherK:Rd,fromIO:Mo,fromIOEither:Mu,fromIOEitherK:Mx,fromIOK:Rp,fromNullable:Mp,fromNullableK:Mh,fromOption:Ri,fromOptionK:Ro,fromPredicate:Rl,fromReader:Mt,fromReaderEither:Ms,fromReaderEitherK:MO,fromReaderK:M9,fromReaderTaskK:Re,fromTask:I7,fromTaskEither:rr,fromTaskEitherK:MS,fromTaskK:Ry,getAltReaderTaskValidation:MK,getApplicativeReaderTaskValidation:Mq,getApplyMonoid:RL,getApplySemigroup:RP,getCompactable:M$,getFilterable:function(t){var n=mU(t),r=M$(t),i=ya(k1,n),o=yu(k1,n),a=ys(k1,n),u=yl(k1,n);return{URI:MV,_E:void 0,map:MI,compact:r.compact,separate:r.separate,filter:function(t,n){return rp(t,i(n))},filterMap:function(t,n){return rp(t,o(n))},partition:function(t,n){return rp(t,a(n))},partitionMap:function(t,n){return rp(t,u(n))}}},getOrElse:Md,getOrElseW:Md,getReaderTaskValidation:function(t){var n=Mq(kg,t),r=MK(t);return{URI:MV,_E:void 0,map:MI,of:I8,chain:ME,bimap:MA,mapLeft:MN,ap:n.ap,alt:r.alt,fromIO:Mo,fromTask:I7,throwError:I9}},getSemigroup:RF,left:I9,leftIO:Ma,leftReader:Mn,leftReaderTask:Mi,leftTask:Me,local:yC,map:MP,mapLeft:MF,match:Ml,matchE:Mc,matchEW:Mc,matchW:Ml,of:I8,orElse:Mg,orElseFirst:My,orElseFirstW:My,orElseW:Mg,orLeft:Mv,readerTaskEither:{URI:MV,map:MI,of:I8,ap:MM,chain:ME,alt:Mj,bimap:MA,mapLeft:MN,fromIO:Mo,fromTask:I7,throwError:I9},readerTaskEitherSeq:{URI:MV,map:MI,of:I8,ap:MR,chain:ME,alt:Mj,bimap:MA,mapLeft:MN,fromIO:Mo,fromTask:I7,throwError:I9},right:I8,rightIO:Mo,rightReader:Mt,rightReaderTask:Mr,rightTask:I7,run:RD,sequenceArray:Rj,sequenceSeqArray:RN,swap:Mb,throwError:I9,toUnion:Mf,traverseArray:RE,traverseArrayWithIndex:RI,traverseReadonlyArrayWithIndex:RI,traverseReadonlyArrayWithIndexSeq:RR,traverseReadonlyNonEmptyArrayWithIndex:RC,traverseReadonlyNonEmptyArrayWithIndexSeq:RM,traverseSeqArray:RA,traverseSeqArrayWithIndex:RR},Symbol.toStringTag,{value:"Module"}));var RU={equals:function(t,n){return t===n}},Rz={concat:function(t,n){return t+n}},RB={concat:Rz.concat,empty:""},RV={equals:RU.equals,compare:function(t,n){return t<n?-1:t>n?1:0}},R$=function(t){return"string"==typeof t},Rq=function(t){return t.toUpperCase()},RK=function(t){return t.toLowerCase()},RH=function(t,n){return function(r){return r.replace(t,n)}},RG=function(t){return t.trim()},RZ=function(t){return t.trimLeft()},RY=function(t){return t.trimRight()},RJ=function(t,n){return function(r){return r.slice(t,n)}},RQ=function(t){return 0===t.length},RX=function(t){return t.length},R0=function(t){return function(n){var r=n.split(t);return rC(r)?r:[n]}},R1=function(t,n){return function(r){return r.includes(t,n)}},R2=function(t,n){return function(r){return r.startsWith(t,n)}},R3=function(t,n){return function(r){return r.endsWith(t,n)}};let R4=Object.freeze(Object.defineProperty({__proto__:null,Eq:RU,Monoid:RB,Ord:RV,Semigroup:Rz,Show:{show:function(t){return JSON.stringify(t)}},empty:"",endsWith:R3,includes:R1,isEmpty:RQ,isString:R$,replace:RH,size:RX,slice:RJ,split:R0,startsWith:R2,toLowerCase:RK,toUpperCase:Rq,trim:RG,trimLeft:RZ,trimRight:RY},Symbol.toStringTag,{value:"Module"}));var R5=function(t){return Object.assign({},t)},R6=function(t){return Object.assign({},t)},R9=function(t){return Object.keys(t).length},R8=function(t){for(var n in t)if(rj.call(t,n))return!1;return!0},R7=function(t){return function(n){return Object.keys(n).sort(t.compare)}},Ee=R7(RV);function Et(t){if("function"==typeof t)return Et(RV)(t);var n=R7(t);return function(t){return function(r){for(var i=[],o=0,a=n(r);o<a.length;o++){var u=a[o];i.push(t(u,r[u]))}return i}}}var En=Et(RV)(function(t,n){return[t,n]}),Er=function(t,n){return function(r){if(rj.call(r,t)&&r[t]===n)return r;var i=Object.assign({},r);return i[t]=n,i}},Ei=function(t,n){return rj.call(n,t)};function Eo(t){return function(n){if(!rj.call(n,t))return n;var r=Object.assign({},n);return delete r[t],r}}var Ea=function(t,n){return function(r){if(!Ei(t,r))return rx;if(r[t]===n)return r_(r);var i=Object.assign({},r);return i[t]=n,r_(i)}},Eu=function(t,n){return function(r){if(!Ei(t,r))return rx;var i=n(r[t]);if(i===r[t])return r_(r);var o=Object.assign({},r);return o[t]=i,r_(o)}};function Es(t){return function(n,r){if(void 0===r){var i=Es(t);return function(t){return i(t,n)}}for(var o in n)if(!rj.call(r,o)||!t.equals(n[o],r[o]))return!1;return!0}}function El(t,n){return void 0===n?function(n){return El(t,n)}:rj.call(n,t)?r_(n[t]):rx}var Ec={};function Ed(t){return function(n){var r={};for(var i in n)rj.call(n,i)&&(r[i]=t(i,n[i]));return r}}function Ef(t){return Ed(function(n,r){return t(r)})}function Ep(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(2===t.length)return Ep(RV).apply(void 0,t);var r=R7(t[0]);return function(t,n){return function(i){for(var o=t,a=r(i),u=a.length,s=0;s<u;s++){var l=a[s];o=n(l,o,i[l])}return o}}}function Eh(t){if("compare"in t){var n=R7(t);return function(t){return function(r){return function(i){for(var o=t.empty,a=n(i),u=a.length,s=0;s<u;s++){var l=a[s];o=t.concat(o,r(l,i[l]))}return o}}}}return Eh(RV)(t)}function Em(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(2===t.length)return Em(RV).apply(void 0,t);var r=R7(t[0]);return function(t,n){return function(i){for(var o=t,a=r(i),u=a.length,s=u-1;s>=0;s--){var l=a[s];o=n(l,i[l],o)}return o}}}var Eg=function(t,n){var r;return(r={})[t]=n,r};function Ey(t){var n=EX(RV)(t);return function(t){return function(r){return n(r,t)}}}function Ev(t){var n=EJ(RV)(t);return function(t){return function(r){return n(r,t)}}}function Eb(t){return EQ(RV)(t)}var Ex=function(t){var n=Ev(t);return function(r){return function(i){return t.map(rp(i,n(r)),E9)}}},E_=function(t){var n=Ev(t);return function(r){return function(i){return t.map(rp(i,n(r)),E8)}}};function ES(t){return function(n){var r={},i={};for(var o in n)if(rj.call(n,o)){var a=t(o,n[o]);switch(a._tag){case"Left":r[o]=a.left;break;case"Right":i[o]=a.right}}return ss(r,i)}}function ET(t){return function(n){var r={},i={};for(var o in n)if(rj.call(n,o)){var a=n[o];t(o,a)?i[o]=a:r[o]=a}return ss(r,i)}}function Ew(t){return function(n){var r={};for(var i in n)if(rj.call(n,i)){var o=t(i,n[i]);rb(o)&&(r[i]=o.value)}return r}}function EO(t){return function(n){var r={},i=!1;for(var o in n)if(rj.call(n,o)){var a=n[o];t(o,a)?r[o]=a:i=!0}return i?r:n}}function Ek(t,n){var r=EC(t,n);return function(t){return r(t,rn)}}function EC(t,n){return function(r,i){return n.reduce(r,{},function(n,r){var o=i(r),a=o[0],u=o[1];return n[a]=rj.call(n,a)?t.concat(n[a],u):u,n})}}var EI=function(t){for(var n={},r=0;r<t.length;r++){var i=t[r];n[i[0]]=i[1]}return n};function EM(t){return function(n){for(var r in n)if(!t(n[r]))return!1;return!0}}function ER(t){return function(n){for(var r in n)if(t(n[r]))return!0;return!1}}function EE(t){return function(n,r){if(void 0===r){var i=EE(t);return function(t){return i(n,t)}}for(var o in r)if(t.equals(r[o],n))return!0;return!1}}var Ej=function(t){return function(n){return function(r){if(R8(r))return n;if(R8(n))return r;var i={};for(var o in r)Ei(o,n)?i[o]=t.concat(r[o],n[o]):i[o]=r[o];for(var o in n)Ei(o,i)||(i[o]=n[o]);return i}}},EA=function(t){return function(n){return function(r){if(R8(r)||R8(n))return Ec;var i={};for(var o in r)Ei(o,n)&&(i[o]=t.concat(r[o],n[o]));return i}}},EN=function(t){return function(n){if(R8(n))return t;if(R8(t))return n;var r={};for(var i in n)Ei(i,t)||(r[i]=n[i]);for(var i in t)Ei(i,n)||(r[i]=t[i]);return r}},EP=function(t,n){return rp(t,Ef(n))},EL=function(t,n){return rp(t,Ed(n))},EF=function(t){var n=E4(t);return function(t,r,i){return rp(t,n(r,i))}},ED=function(t){return function(n){var r=E5(t)(n);return function(t,n){return rp(t,r(n))}}},EW=function(t){var n=E6(t);return function(t,r,i){return rp(t,n(r,i))}},EU=function(t,n){return rp(t,E0(n))},Ez=function(t,n){return rp(t,E1(n))},EB=function(t,n){return rp(t,E2(n))},EV=function(t,n){return rp(t,E3(n))},E$=function(t){var n=Ep(t);return function(t,r,i){return rp(t,n(r,i))}},Eq=function(t){var n=Eh(t);return function(t){var r=n(t);return function(t,n){return rp(t,r(n))}}},EK=function(t){var n=Em(t);return function(t,r,i){return rp(t,n(r,i))}},EH=function(t,n){return rp(t,ES(n))},EG=function(t,n){return rp(t,ET(n))},EZ=function(t,n){return rp(t,Ew(n))},EY=function(t,n){return rp(t,EO(n))},EJ=function(t){var n=EX(t);return function(t){var r=n(t);return function(t,n){return r(t,rs(rh,n))}}},EQ=function(t){var n=EJ(t);return function(t){var r=n(t);return function(t){return r(t,rn)}}},EX=function(t){return function(n){var r=R7(t);return function(t,i){var o=r(t);if(0===o.length)return n.of(Ec);for(var a=n.of({}),u=function(r){a=n.ap(n.map(a,function(t){return function(n){var i;return Object.assign({},t,((i={})[r]=n,i))}}),i(r,t[r]))},s=0;s<o.length;s++)u(o[s]);return a}}},E0=function(t){return EO(function(n,r){return t(r)})},E1=function(t){return Ew(function(n,r){return t(r)})},E2=function(t){return ET(function(n,r){return t(r)})},E3=function(t){return ES(function(n,r){return t(r)})};function E4(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(1===t.length){var r=Ep(t[0]);return function(t,n){return r(t,function(t,r,i){return n(r,i)})}}return E4(RV).apply(void 0,t)}function E5(t){if("compare"in t){var n=Eh(t);return function(t){var r=n(t);return function(t){return r(function(n,r){return t(r)})}}}return E5(RV)(t)}function E6(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(1===t.length){var r=Em(t[0]);return function(t,n){return r(t,function(t,r,i){return n(r,i)})}}return E6(RV).apply(void 0,t)}var E9=function(t){var n={};for(var r in t)if(rj.call(t,r)){var i=t[r];rb(i)&&(n[r]=i.value)}return n},E8=function(t){var n={},r={};for(var i in t)if(rj.call(t,i)){var o=t[i];rS(o)?n[i]=o.left:r[i]=o.right}return ss(n,r)},E7="ReadonlyRecord";function je(t){return"compare"in t?function(n){return{show:function(r){var i=Et(t)(function(t,r){return"".concat(JSON.stringify(t),": ").concat(n.show(r))})(r).join(", ");return""===i?"{}":"{ ".concat(i," }")}}}:je(RV)(t)}function jt(t){var n=Es(t);return ie(function(t,r){return n(t)(r)&&n(r)(t)})}function jn(t){return{concat:function(n,r){if(R8(n))return r;if(R8(r))return n;var i=Object.assign({},n);for(var o in r)rj.call(r,o)&&(i[o]=rj.call(n,o)?t.concat(n[o],r[o]):r[o]);return i},empty:Ec}}var jr={URI:E7,map:EP},ji=rq(jr),jo=function(t){return{URI:E7,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t)}},ja=function(t){return{URI:E7,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t),reduceWithIndex:E$(t),foldMapWithIndex:Eq(t),reduceRightWithIndex:EK(t)}},ju={URI:E7,compact:E9,separate:E8},js=function(t){return{URI:E7,map:EP,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t),traverse:EJ(t),sequence:EQ(t)}},jl=function(t){return{URI:E7,map:EP,mapWithIndex:EL,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t),reduceWithIndex:E$(t),foldMapWithIndex:Eq(t),reduceRightWithIndex:EK(t),traverse:EJ(t),sequence:EQ(t),traverseWithIndex:EX(t)}},jc=function(t){var n=js(t);return{URI:E7,map:EP,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t),traverse:n.traverse,sequence:n.sequence,compact:E9,separate:E8,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV,wither:s_(n,ju),wilt:sx(n,ju)}},jd=function(t){var n=Ej(t);return{concat:function(t,r){return n(r)(t)}}},jf=function(t){return{concat:jd(t).concat,empty:Ec}},jp=function(t){var n=EA(t);return{concat:function(t,r){return n(r)(t)}}},jh=function(){return{concat:function(t,n){return EN(n)(t)}}},jm={URI:E7,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV)},jg={URI:E7,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),reduceWithIndex:E$(RV),foldMapWithIndex:Eq(RV),reduceRightWithIndex:EK(RV)},jy={URI:E7,map:EP,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),traverse:EJ(RV),sequence:Eb},jv={URI:E7,map:EP,mapWithIndex:EL,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),reduceWithIndex:E$(RV),foldMapWithIndex:Eq(RV),reduceRightWithIndex:EK(RV),traverse:EJ(RV),sequence:Eb,traverseWithIndex:EX(RV)},jb=s_(jy,ju),jx=sx(jy,ju),j_={URI:E7,map:EP,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),traverse:EJ(RV),sequence:Eb,compact:E9,separate:E8,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV,wither:jb,wilt:jx};function jS(t,n){return rj.call(void 0===n?this:n,t)}var jT={URI:E7,map:EP,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),traverse:EJ(RV),sequence:Eb,compact:E9,separate:E8,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV,mapWithIndex:EL,reduceWithIndex:E$(RV),foldMapWithIndex:Eq(RV),reduceRightWithIndex:EK(RV),filterMapWithIndex:EZ,filterWithIndex:EY,partitionMapWithIndex:EH,partitionWithIndex:EG,traverseWithIndex:EX(RV),wither:jb,wilt:jx};let jw=Object.freeze(Object.defineProperty({__proto__:null,Compactable:ju,Filterable:{URI:E7,map:EP,compact:E9,separate:E8,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV},FilterableWithIndex:{URI:E7,map:EP,mapWithIndex:EL,compact:E9,separate:E8,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV,filterMapWithIndex:EZ,filterWithIndex:EY,partitionMapWithIndex:EH,partitionWithIndex:EG},Foldable:jm,FoldableWithIndex:jg,Functor:jr,FunctorWithIndex:{URI:E7,map:EP,mapWithIndex:EL},Traversable:jy,TraversableWithIndex:jv,URI:E7,Witherable:j_,_filter:EU,_filterMap:Ez,_filterMapWithIndex:EZ,_filterWithIndex:EY,_foldMap:ED,_foldMapWithIndex:Eq,_map:EP,_mapWithIndex:EL,_partition:EB,_partitionMap:EV,_partitionMapWithIndex:EH,_partitionWithIndex:EG,_reduce:EF,_reduceRight:EW,_reduceRightWithIndex:EK,_reduceWithIndex:E$,_sequence:EQ,_traverse:EJ,collect:Et,compact:E9,deleteAt:Eo,difference:EN,elem:EE,empty:Ec,every:EM,filter:E0,filterMap:E1,filterMapWithIndex:Ew,filterWithIndex:EO,flap:ji,foldMap:E5,foldMapWithIndex:Eh,fromEntries:EI,fromFoldable:Ek,fromFoldableMap:EC,fromRecord:R5,getDifferenceMagma:jh,getEq:jt,getFoldable:jo,getFoldableWithIndex:ja,getIntersectionSemigroup:jp,getMonoid:jn,getShow:je,getTraversable:js,getTraversableWithIndex:jl,getUnionMonoid:jf,getUnionSemigroup:jd,getWitherable:jc,has:Ei,hasOwnProperty:jS,insertAt:Er,intersection:EA,isEmpty:R8,isSubrecord:Es,keys:Ee,lookup:El,map:Ef,mapWithIndex:Ed,modifyAt:Eu,partition:E2,partitionMap:E3,partitionMapWithIndex:ES,partitionWithIndex:ET,pop:function(t){var n=Eo(t);return function(r){var i=El(t,r);return rv(i)?rx:r_([i.value,n(r)])}},readonlyRecord:jT,reduce:E4,reduceRight:E6,reduceRightWithIndex:Em,reduceWithIndex:Ep,separate:E8,sequence:Eb,singleton:Eg,size:R9,some:ER,toEntries:En,toReadonlyArray:En,toRecord:R6,toUnfoldable:function(t){return function(n){var r=En(n),i=r.length;return t.unfold(0,function(t){return t<i?r_([r[t],t+1]):rx})}},traverse:Ev,traverseWithIndex:Ey,union:Ej,updateAt:Ea,upsertAt:Er,wilt:E_,wither:Ex},Symbol.toStringTag,{value:"Module"}));var jO=function(t){return new Set(t)},jk=function(t){return new Set([t])},jC=function(t){return function(n){for(var r=n.length,i=new Set,o=jK(t),a=0;a<r;a++){var u=n[a];o(u,i)||i.add(u)}return i}};function jI(t){return function(n){for(var r,i=n.values(),o=new Set;!(r=i.next()).done;){var a=r.value;t(a)&&o.add(a)}return o}}function jM(t){var n=jK(t);return function(r,i){if(void 0===i){var o=jM(t);return function(t){return o(r,t)}}if(jz(r))return i;if(jz(i))return r;var a=new Set(r);return i.forEach(function(t){n(t,a)||a.add(t)}),a}}function jR(t){var n=jK(t);return function(r,i){if(void 0===i){var o=jR(t);return function(t){return o(t,r)}}if(jz(r)||jz(i))return jU;var a=new Set;return r.forEach(function(t){n(t,i)&&a.add(t)}),a}}function jE(t){var n=jK(t);return function(r,i){if(void 0===i){var o=jE(t);return function(t){return o(t,r)}}return jI(function(t){return!n(t,i)})(r)}}function jj(t){var n=jH(t);return function(t,r){return function(i){return n(i).reduce(r,t)}}}function jA(t,n){var r=jH(t);return function(t){return function(i){return r(i).reduce(function(r,i){return n.concat(r,t(i))},n.empty)}}}var jN=function(t){var n=jH(t);return function(t,r){return function(i){return n(i).reduceRight(function(t,n){return r(n,t)},t)}}};function jP(t){var n=jK(t);return function(t){return function(r){if(n(t)(r))return r;var i=new Set(r);return i.add(t),i}}}var jL=function(t){return function(n){return function(r){return jI(function(r){return!t.equals(n,r)})(r)}}},jF=function(t){var n=jK(t),r=jL(t),i=jP(t);return function(t){return function(o){return(n(t,o)?r:i)(t)(o)}}},jD=function(t){return jW(t)(rn)};function jW(t){var n=jK(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){var o=t(r);"Some"!==o._tag||n(o.value,i)||i.add(o.value)}),i}}}var jU=new Set,jz=function(t){return 0===t.size},jB=function(t){return t.size},jV=function(t){return function(n){for(var r,i=n.values(),o=!1;!o&&!(r=i.next()).done;)o=t(r.value);return o}};function j$(t){return pM(jV(pM(t)))}function jq(t){var n=jK(t);return function(r,i){if(void 0===i){var o=jq(t);return function(t){return o(t,r)}}return j$(function(t){return n(t,i)})(r)}}function jK(t){return function(n,r){if(void 0===r){var i=jK(t);return function(t){return i(n,t)}}for(var o,a=r.values(),u=!1;!u&&!(o=a.next()).done;)u=t.equals(n,o.value);return u}}var jH=function(t){return function(n){var r=[];return n.forEach(function(t){return r.push(t)}),r.sort(t.compare)}};function jG(t){return{show:function(n){var r=[];return n.forEach(function(n){r.push(t.show(n))}),"new Set([".concat(r.sort().join(", "),"])")}}}function jZ(t){var n=jq(t);return ie(function(t,r){return n(t,r)&&n(r,t)})}var jY=function(t){return{concat:jM(t)}},jJ=function(t){return{concat:jY(t).concat,empty:jU}},jQ=function(t){return{concat:jR(t)}},jX=function(t){return{concat:jE(t)}};let j0=Object.freeze(Object.defineProperty({__proto__:null,URI:"ReadonlySet",chain:function(t){var n=jK(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){t(r).forEach(function(t){n(t,i)||i.add(t)})}),i}}},compact:jD,difference:jE,elem:jK,empty:jU,every:j$,filter:jI,filterMap:jW,foldMap:jA,fromArray:jC,fromReadonlyArray:jC,fromSet:jO,getDifferenceMagma:jX,getEq:jZ,getIntersectionSemigroup:jQ,getShow:jG,getUnionMonoid:jJ,getUnionSemigroup:jY,insert:jP,intersection:jR,isEmpty:jz,isSubset:jq,map:function(t){var n=jK(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){var o=t(r);n(o,i)||i.add(o)}),i}}},partition:function(t){return function(n){for(var r,i=n.values(),o=new Set,a=new Set;!(r=i.next()).done;){var u=r.value;t(u)?o.add(u):a.add(u)}return ss(a,o)}},partitionMap:function(t,n){return function(r){return function(i){for(var o,a=i.values(),u=new Set,s=new Set,l=jK(t),c=jK(n);!(o=a.next()).done;){var d=r(o.value);switch(d._tag){case"Left":l(d.left,u)||u.add(d.left);break;case"Right":c(d.right,s)||s.add(d.right)}}return ss(u,s)}}},reduce:jj,reduceRight:jN,remove:jL,separate:function(t,n){return function(r){var i=jK(t),o=jK(n),a=new Set,u=new Set;return r.forEach(function(t){switch(t._tag){case"Left":i(t.left,a)||a.add(t.left);break;case"Right":o(t.right,u)||u.add(t.right)}}),ss(a,u)}},singleton:jk,size:jB,some:jV,toReadonlyArray:jH,toSet:function(t){return new Set(t)},toggle:jF,union:jM},Symbol.toStringTag,{value:"Module"}));function j1(t){return t[0]}function j2(t){return t[1]}var j3=function(t){var n;return[j2(t),t[0]]};function j4(t){return{URI:Ay,_E:void 0,map:j8,ap:function(n,r){var i,o;return[(0,n[0])(r[0]),t.concat(j2(n),j2(r))]}}}var j5=function(t){return function(n){return[n,t.empty]}};function j6(t){var n=j4(t);return{URI:Ay,_E:void 0,map:n.map,ap:n.ap,chain:function(n,r){var i,o=r(n[0]),a=o[0],u=o[1];return[a,t.concat(j2(n),u)]}}}var j9=function(t,n){return rp(t,Al(n))},j8=function(t,n){return rp(t,Au(n))},j7=function(t,n,r){return rp(t,Aa(n,r))},Ae=function(t,n){return rp(t,As(n))},At=function(t,n){return rp(t,Ac(n))},An=function(t,n,r){return rp(t,Af(n,r))},Ar=function(t){var n=Ap();return function(t,r){return rp(t,n(r))}},Ai=function(t,n,r){return rp(t,Ah(n,r))},Ao=function(t){var n=Am(t);return function(t,r){return rp(t,n(r))}},Aa=function(t,n){return function(r){var i;return[n(r[0]),t(j2(r))]}},Au=function(t){return function(n){var r;return[t(n[0]),j2(n)]}},As=function(t){return function(n){var r;return[n[0],t(j2(n))]}},Al=function(t){return function(n){var r;return[n[0],j2(t)]}},Ac=function(t){return function(n){return[t(n),j2(n)]}},Ad=Ac(rn),Af=function(t,n){return function(r){var i;return n(t,r[0])}},Ap=function(){return function(t){return function(n){var r;return t(n[0])}}},Ah=function(t,n){return function(r){var i;return n(r[0],t)}},Am=function(t){return function(n){return function(r){var i;return t.map(n(r[0]),function(t){return[t,j2(r)]})}}},Ag=function(t){return function(n){var r;return t.map(n[0],function(t){return[t,j2(n)]})}},Ay="ReadonlyTuple",Av={URI:Ay,map:j8},Ab=rq(Av);let Ax=Object.freeze(Object.defineProperty({__proto__:null,Bifunctor:{URI:Ay,bimap:j7,mapLeft:Ae},Comonad:{URI:Ay,map:j8,extend:At,extract:j1},Foldable:{URI:Ay,reduce:An,foldMap:Ar,reduceRight:Ai},Functor:Av,Semigroupoid:{URI:Ay,compose:j9},Traversable:{URI:Ay,map:j8,reduce:An,foldMap:Ar,reduceRight:Ai,traverse:Ao,sequence:Ag},URI:Ay,bimap:Aa,compose:Al,duplicate:Ad,extend:Ac,extract:j1,flap:Ab,foldMap:Ap,fst:j1,getApplicative:function(t){var n=j4(t);return{URI:Ay,_E:void 0,map:n.map,ap:n.ap,of:j5(t)}},getApply:j4,getChain:j6,getChainRec:function(t){var n=function(n,r){for(var i,o,a=r(n),u=t.empty,s=(i=a)[0];"Left"===s._tag;)u=t.concat(u,j2(a)),s=(a=r(s.left))[0];return[s.right,t.concat(u,j2(a))]},r=j6(t);return{URI:Ay,_E:void 0,map:r.map,ap:r.ap,chain:r.chain,chainRec:n}},getMonad:function(t){var n=j6(t);return{URI:Ay,_E:void 0,map:n.map,ap:n.ap,chain:n.chain,of:j5(t)}},map:Au,mapFst:Au,mapLeft:As,mapSnd:As,readonlyTuple:{URI:Ay,compose:j9,map:j8,bimap:j7,mapLeft:Ae,extract:j1,extend:At,reduce:An,foldMap:Ar,reduceRight:Ai,traverse:Ao,sequence:Ag},reduce:Af,reduceRight:Ah,sequence:Ag,snd:j2,swap:j3,traverse:Am},Symbol.toStringTag,{value:"Module"}));var A_=globalThis&&globalThis.__assign||function(){return(A_=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},AS=function(t){return function(n){return Object.keys(n).sort(t.compare)}},AT=AS(RV);function Aw(t){if("function"==typeof t)return Aw(RV)(t);var n=AS(t);return function(t){return function(r){for(var i=[],o=0,a=n(r);o<a.length;o++){var u=a[o];i.push(t(u,r[u]))}return i}}}var AO=Aw(RV)(function(t,n){return[t,n]});function Ak(t){return function(n){if(!rj.call(n,t))return n;var r=Object.assign({},n);return delete r[t],r}}var AC=function(t,n){return AI(t,function(){return n})},AI=function(t,n){return function(r){if(!Ei(t,r))return rx;var i=Object.assign({},r);return i[t]=n(r[t]),r_(i)}};function AM(t){return Ey(t)}function AR(t){return Ev(t)}function AE(t){return Eb(t)}var Aj=function(t){var n,r=Ev(t);return function(n){return function(i){return t.map(rp(i,r(n)),AV)}}},AA=function(t){var n,r=Ev(t);return function(n){return function(i){return t.map(rp(i,r(n)),A$)}}};function AN(t){return ET(t)}function AP(t){return EO(t)}function AL(t,n){return Ek(t,n)}var AF=function(t){var n,r;return(n=iH(),Ek(n,fU))(t)};function AD(t,n){return EC(t,n)}var AW=function(t){var n=Ej(t);return function(t){return function(r){return R8(r)?A_({},t):R8(t)?A_({},r):n(t)(r)}}},AU=function(t){return function(n){return function(r){return R8(r)||R8(n)?{}:EA(t)(n)(r)}}},Az=function(t){return function(n){return R8(n)?A_({},t):R8(t)?A_({},n):EN(t)(n)}},AB=function(t){return function(n){var r=AS(t);return function(t,i){var o=r(t);if(0===o.length)return n.of({});for(var a=n.of({}),u=function(r){a=n.ap(n.map(a,function(t){return function(n){return t[r]=n,t}}),i(r,t[r]))},s=0;s<o.length;s++)u(o[s]);return a}}},AV=E9,A$=E8,Aq="Record",AK={URI:Aq,map:EP},AH=rq(AK),AG=function(t){return{URI:Aq,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t)}},AZ=function(t){return{URI:Aq,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t),reduceWithIndex:E$(t),foldMapWithIndex:Eq(t),reduceRightWithIndex:EK(t)}},AY={URI:Aq,compact:AV,separate:A$},AJ=function(t){return{URI:Aq,map:EP,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t),traverse:EJ(t),sequence:EQ(t)}},AQ=function(t){return{URI:Aq,map:EP,mapWithIndex:EL,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t),reduceWithIndex:E$(t),foldMapWithIndex:Eq(t),reduceRightWithIndex:EK(t),traverse:EJ(t),sequence:EQ(t),traverseWithIndex:AB(t)}},AX=function(t){var n=AJ(t);return{URI:Aq,map:EP,reduce:EF(t),foldMap:ED(t),reduceRight:EW(t),traverse:n.traverse,sequence:n.sequence,compact:AV,separate:A$,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV,wither:s_(n,AY),wilt:sx(n,AY)}},A0=function(t){var n=AW(t);return{concat:function(t,r){return n(r)(t)}}},A1=function(t){return{concat:A0(t).concat,empty:{}}},A2=function(t){var n=AU(t);return{concat:function(t,r){return n(r)(t)}}},A3=function(){return{concat:function(t,n){return Az(n)(t)}}},A4={URI:Aq,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV)},A5={URI:Aq,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),reduceWithIndex:E$(RV),foldMapWithIndex:Eq(RV),reduceRightWithIndex:EK(RV)},A6={URI:Aq,map:EP,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),traverse:EJ(RV),sequence:AE},A9={URI:Aq,map:EP,mapWithIndex:EL,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),reduceWithIndex:E$(RV),foldMapWithIndex:Eq(RV),reduceRightWithIndex:EK(RV),traverse:EJ(RV),sequence:AE,traverseWithIndex:AB(RV)},A8=s_(A6,AY),A7=sx(A6,AY),Ne={URI:Aq,map:EP,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),traverse:EJ(RV),sequence:AE,compact:AV,separate:A$,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV,wither:A8,wilt:A7},Nt={URI:Aq,map:EP,reduce:EF(RV),foldMap:ED(RV),reduceRight:EW(RV),traverse:EJ(RV),sequence:AE,compact:AV,separate:A$,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV,mapWithIndex:EL,reduceWithIndex:E$(RV),foldMapWithIndex:Eq(RV),reduceRightWithIndex:EK(RV),filterMapWithIndex:EZ,filterWithIndex:EY,partitionMapWithIndex:EH,partitionWithIndex:EG,traverseWithIndex:AB(RV),wither:A8,wilt:A7};let Nn=Object.freeze(Object.defineProperty({__proto__:null,Compactable:AY,Filterable:{URI:Aq,map:EP,compact:AV,separate:A$,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV},FilterableWithIndex:{URI:Aq,map:EP,mapWithIndex:EL,compact:AV,separate:A$,filter:EU,filterMap:Ez,partition:EB,partitionMap:EV,filterMapWithIndex:EZ,filterWithIndex:EY,partitionMapWithIndex:EH,partitionWithIndex:EG},Foldable:A4,FoldableWithIndex:A5,Functor:AK,FunctorWithIndex:{URI:Aq,map:EP,mapWithIndex:EL},Traversable:A6,TraversableWithIndex:A9,URI:Aq,Witherable:Ne,collect:Aw,compact:AV,deleteAt:Ak,difference:Az,elem:EE,empty:{},every:EM,filter:E0,filterMap:E1,filterMapWithIndex:Ew,filterWithIndex:AP,flap:AH,foldMap:function(t){return"compare"in t?E5(t):E5(RV)(t)},foldMapWithIndex:function(t){return"compare"in t?Eh(t):Eh(RV)(t)},fromEntries:AF,fromFoldable:AL,fromFoldableMap:AD,getDifferenceMagma:A3,getEq:jt,getFoldable:AG,getFoldableWithIndex:AZ,getIntersectionSemigroup:A2,getMonoid:jn,getShow:function(t){return"compare"in t?je(t):je(RV)(t)},getTraversable:AJ,getTraversableWithIndex:AQ,getUnionMonoid:A1,getUnionSemigroup:A0,getWitherable:AX,has:Ei,hasOwnProperty:jS,insertAt:Er,intersection:AU,isEmpty:R8,isSubrecord:Es,keys:AT,lookup:El,map:Ef,mapWithIndex:Ed,modifyAt:AI,partition:E2,partitionMap:E3,partitionMapWithIndex:ES,partitionWithIndex:AN,pop:function(t){var n=Ak(t);return function(r){var i=El(t,r);return rv(i)?rx:r_([i.value,n(r)])}},record:Nt,reduce:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length?E4(t[0]):E4(RV).apply(void 0,t)},reduceRight:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length?E6(t[0]):E6(RV).apply(void 0,t)},reduceRightWithIndex:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length?Em(t[0]):Em(RV).apply(void 0,t)},reduceWithIndex:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length?Ep(t[0]):Ep(RV).apply(void 0,t)},separate:A$,sequence:AE,singleton:Eg,size:R9,some:ER,toArray:AO,toEntries:AO,toUnfoldable:function(t){return function(n){var r=AO(n),i=r.length;return t.unfold(0,function(t){return t<i?r_([r[t],t+1]):rx})}},traverse:AR,traverseWithIndex:AM,union:AW,updateAt:AC,upsertAt:Er,wilt:AA,wither:Aj},Symbol.toStringTag,{value:"Module"}));var Nr=function(t){return function(n){return rb(t(n))}},Ni=function(t){return function(n){return rT(t(n))}},No=function(){return function(t){return!0}},Na=function(t){return function(n){return!t(n)}},Nu=function(t){return function(n){return function(r){return n(r)||t(r)}}},Ns=function(t){return function(n){return function(r){return n(r)&&t(r)}}},Nl=function(){return function(t){return!1}},Nc=function(t){return function(n){return function(r){return n(r)&&t(r)}}};let Nd=Object.freeze(Object.defineProperty({__proto__:null,and:Ns,compose:Nc,fromEitherK:Ni,fromOptionK:Nr,id:No,not:Na,or:Nu,zero:Nl},Symbol.toStringTag,{value:"Module"}));var Nf=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{add:function(n,r){return t.map(function(t,i){return t.add(n[i],r[i])})},zero:t.map(function(t){return t.zero}),mul:function(n,r){return t.map(function(t,i){return t.mul(n[i],r[i])})},one:t.map(function(t){return t.one}),sub:function(n,r){return t.map(function(t,i){return t.sub(n[i],r[i])})}}},Np=function(t){return function(n){return t.sub(t.zero,n)}};let Nh=Object.freeze(Object.defineProperty({__proto__:null,getFunctionRing:re,getTupleRing:Nf,negate:Np,tuple:Nf},Symbol.toStringTag,{value:"Module"})),Nm=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Ng=Object.freeze(Object.defineProperty({__proto__:null,getFunctionSemiring:n7},Symbol.toStringTag,{value:"Module"}));function Ny(t){return function(n){for(var r,i=n.values(),o=new Set;!(r=i.next()).done;){var a=r.value;t(a)&&o.add(a)}return o}}function Nv(t){var n=NP(t);return function(r,i){if(void 0===i){var o=Nv(t);return function(t){return o(r,t)}}if(NA(r))return i;if(NA(i))return r;var a=new Set(r);return i.forEach(function(t){n(t,a)||a.add(t)}),a}}function Nb(t){var n=NP(t);return function(r,i){if(void 0===i){var o=Nb(t);return function(t){return o(t,r)}}if(NA(r)||NA(i))return new Set;var a=new Set;return r.forEach(function(t){n(t,i)&&a.add(t)}),a}}function Nx(t){var n=NP(t);return function(r,i){if(void 0===i){var o=Nx(t);return function(t){return o(t,r)}}return Ny(function(t){return!n(t,i)})(r)}}var N_=function(t){return{concat:Nv(t)}},NS=function(t){return{concat:N_(t).concat,empty:new Set}},NT=function(t){return{concat:Nb(t)}},Nw=function(t){return{concat:Nx(t)}},NO=function(t){return new Set([t])};function Nk(t){var n=NP(t);return function(t){return function(r){if(n(t)(r))return r;var i=new Set(r);return i.add(t),i}}}var NC=function(t){return function(n){return function(r){return Ny(function(r){return!t.equals(n,r)})(r)}}},NI=function(t){var n=NP(t),r=NC(t),i=Nk(t);return function(t){return function(o){return(n(t,o)?r:i)(t)(o)}}},NM=function(t){return function(n){for(var r=n.length,i=new Set,o=NP(t),a=0;a<r;a++){var u=n[a];o(u,i)||i.add(u)}return i}},NR=function(t){return NE(t)(rn)};function NE(t){var n=NP(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){var o=t(r);"Some"!==o._tag||n(o.value,i)||i.add(o.value)}),i}}}var Nj=new Set,NA=function(t){return 0===t.size},NN=function(t){return t.size},NP=jK,NL=function(t){return function(n){var r=[];return n.forEach(function(t){return r.push(t)}),r.sort(t.compare)}};let NF=Object.freeze(Object.defineProperty({__proto__:null,chain:function(t){var n=NP(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){t(r).forEach(function(t){n(t,i)||i.add(t)})}),i}}},compact:NR,difference:Nx,elem:NP,empty:Nj,every:j$,filter:Ny,filterMap:NE,foldMap:jA,fromArray:NM,getDifferenceMagma:Nw,getEq:jZ,getIntersectionSemigroup:NT,getShow:jG,getUnionMonoid:NS,getUnionSemigroup:N_,insert:Nk,intersection:Nb,isEmpty:NA,isSubset:jq,map:function(t){var n=NP(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){var o=t(r);n(o,i)||i.add(o)}),i}}},partition:function(t){return function(n){for(var r,i=n.values(),o=new Set,a=new Set;!(r=i.next()).done;){var u=r.value;t(u)?o.add(u):a.add(u)}return ss(a,o)}},partitionMap:function(t,n){return function(r){return function(i){for(var o,a=i.values(),u=new Set,s=new Set,l=NP(t),c=NP(n);!(o=a.next()).done;){var d=r(o.value);switch(d._tag){case"Left":l(d.left,u)||u.add(d.left);break;case"Right":c(d.right,s)||s.add(d.right)}}return ss(u,s)}}},reduce:jj,reduceRight:jN,remove:NC,separate:function(t,n){return function(r){var i=NP(t),o=NP(n),a=new Set,u=new Set;return r.forEach(function(t){switch(t._tag){case"Left":i(t.left,a)||a.add(t.left);break;case"Right":o(t.right,u)||u.add(t.right)}}),ss(a,u)}},singleton:NO,size:NN,some:jV,subset:jq,toArray:NL,toggle:NI,union:Nv},Symbol.toStringTag,{value:"Module"}));var ND=function(t){return{show:function(n){var r="{";for(var i in t)rj.call(t,i)&&(r+=" ".concat(i,": ").concat(t[i].show(n[i]),","));return r.length>1&&(r=r.slice(0,-1)+" "),r+="}"}}},NW=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{show:function(n){return"[".concat(n.map(function(n,r){return t[r].show(n)}).join(", "),"]")}}};let NU=Object.freeze(Object.defineProperty({__proto__:null,getStructShow:ND,getTupleShow:NW,showBoolean:{show:function(t){return JSON.stringify(t)}},showNumber:{show:function(t){return JSON.stringify(t)}},showString:{show:function(t){return JSON.stringify(t)}},struct:ND,tuple:NW},Symbol.toStringTag,{value:"Module"}));function Nz(t){return function(n){return function(r){return t.of([n,r])}}}function NB(t){return function(n){return function(r){return function(i){return t.map(r(i),function(t){var r=t[0],i=t[1];return[n(r),i]})}}}}function NV(t){return function(n){return function(r){return function(i){return t.chain(r(i),function(r){var i=r[0],o=r[1];return t.map(n(o),function(t){var n=t[0],r=t[1];return[i(n),r]})})}}}}function N$(t){return function(n){return function(r){return function(i){return t.chain(r(i),function(t){var r=t[0],i=t[1];return n(r)(i)})}}}}function Nq(t){return function(n){return function(r){return t.of(n(r))}}}function NK(t){return function(n){return function(r){return t.map(n,function(t){return[t,r]})}}}function NH(t){return function(n){return function(r){return t.map(r(n),function(t){return t[0]})}}}function NG(t){return function(n){return function(r){return t.map(r(n),j2)}}}let NZ=Object.freeze(Object.defineProperty({__proto__:null,ap:NV,chain:N$,evaluate:NH,execute:NG,fromF:NK,fromState:Nq,getStateM:function(t){var n=NV(t),r=NB(t),i=N$(t),o=NH(t),a=NG(t);return{map:function(t,n){return rp(t,r(n))},ap:function(t,r){return rp(t,n(r))},of:Nz(t),chain:function(t,n){return rp(t,i(n))},get:function(){return function(n){return t.of([n,n])}},put:function(n){return function(){return t.of([void 0,n])}},modify:function(n){return function(r){return t.of([void 0,n(r)])}},gets:function(n){return function(r){return t.of([n(r),r])}},fromState:Nq(t),fromM:NK(t),evalState:function(t,n){return rp(t,o(n))},execState:function(t,n){return rp(t,a(n))}}},map:NB,of:Nz},Symbol.toStringTag,{value:"Module"}));var NY=function(t){return function(){return I9(t)}},NJ=Nz(MZ);function NQ(t){return N8(I7(t))}function NX(t){return N8(Mt(t))}function N0(t){return N8(Mo(t))}var N1=function(t){return rs(t,I8)},N2=function(t){return function(n){return I9(t(n)[0])}},N3=ga(function(t){return NY(t)},NJ),N4=Nq(MZ),N5=function(t){return N8(rr(t))},N6=function(t){return N8(Mu(t))},N9=function(t){return N8(Ms(t))},N8=NK(MH),N7=function(t){return function(n){return rs(n,yC(t))}},Pe=function(t){return function(n){return function(r){return t(r)(n)(r)}}},Pt=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return N6(t.apply(void 0,n))}},Pn=function(t){return function(n){return rp(n,Pv(Pt(t)))}},Pr=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return N5(t.apply(void 0,n))}},Pi=function(t){return function(n){return rp(n,Pv(Pr(t)))}},Po=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return N8(t.apply(void 0,n))}},Pa=function(t){return function(n){return rp(n,Pv(Po(t)))}},Pu=function(t,n){return rp(t,Pp(n))},Ps=function(t,n){return rp(t,Pg(n))},Pl=function(t,n){return rp(t,Py(n))},Pc=function(t,n){return function(r){return rp(t(r),MB(function(){return n()(r)}))}},Pd=function(t,n,r){return function(i){return rp(t(i),ML(n,function(t){var n=t[0],i=t[1];return[r(n),i]}))}},Pf=function(t,n){return function(r){return rp(t(r),MF(n))}},Pp=NB(MH),Ph=function(t,n){return function(r){return Pd(r,t,n)}},Pm=function(t){return function(n){return Pf(n,t)}},Pg=NV(M1),Py=N$(M1),Pv=Py,Pb=Pv(rn),Px=function(t){return function(n){return function(r){return rp(n(r),MB(function(){return t()(r)}))}}},P_="StateReaderTaskEither",PS={URI:P_,map:Pu},PT=rq(PS),Pw={URI:P_,map:Pu,ap:Ps},PO=rP(Pw),Pk=rL(Pw),PC={URI:P_,map:Pu,ap:Ps,chain:Pl},PI={URI:P_,fromState:N4},PM=vq(PI),PR=vK(PI),PE=vH(PI),Pj=vG(PI),PA=vZ(PI),PN=vY(PI,PC),PP=rQ(PC),PL={URI:P_,fromReader:NX},PF=va(PL),PD=vu(PL),PW=vs(PL),PU=vl(PL,PC),Pz=vc(PL,PC),PB={URI:P_,fromEither:N3},PV=r1(PB),P$=r3(PB),Pq=r4(PB,PC),PK=r6(PB,PC),PH=r9(PB,PC),PG=r2(PB),PZ=r8(PB,PC),PY=r5(PB),PJ={URI:P_,fromIO:N0},PQ=yS(PJ),PX=yT(PJ,PC),P0=yw(PJ,PC),P1={URI:P_,fromIO:N0,fromTask:NQ},P2=vQ(P1),P3=vX(P1,PC),P4=v0(P1,PC),P5=NH(MH),P6=NG(MH),P9=rK(PS),P8=rX(PC),P7=rF(Pw),Le=function(t){return function(n){return function(r){return function(i){return function(){return rM(n).reduce(function(n,r,o){return n.then(function(a){return rS(a)?n:t(o+1,r)(a.right[1])(i)().then(function(t){if(rS(t))return t;var n=t.right,r=n[0],i=n[1];return a.right[0].push(r),a.right[1]=i,a})})},t(0,rI(n))(r)(i)().then(m$(function(t){var n;return[[t[0]],t[1]]})))}}}}},Lt=function(t){var n=Le(t);return function(t){return rC(t)?n(t):NJ(rR)}},Ln=function(t){return Lt(function(n,r){return t(r)})},Lr=Ln(rn),Li=function(t,n){return rp(t(n),MP(function(t){return t[0]}))},Lo=function(t,n){return rp(t(n),MP(function(t){return t[0],t[1]}))};let La=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:P_,map:Pu,alt:Pc},Applicative:{URI:P_,map:Pu,ap:Ps,of:NJ},Apply:Pw,Bifunctor:{URI:P_,bimap:Pd,mapLeft:Pf},Chain:PC,FromEither:PB,FromIO:PJ,FromReader:PL,FromState:PI,FromTask:P1,Functor:PS,Monad:{URI:P_,map:Pu,ap:Ps,of:NJ,chain:Pl},MonadIO:{URI:P_,map:Pu,ap:Ps,of:NJ,chain:Pl,fromIO:N0},MonadTask:{URI:P_,map:Pu,ap:Ps,of:NJ,chain:Pl,fromIO:N0,fromTask:NQ},MonadThrow:{URI:P_,map:Pu,ap:Ps,of:NJ,chain:Pl,throwError:NY},Pointed:{URI:P_,of:NJ},URI:P_,alt:Px,altW:Px,ap:Pg,apFirst:PO,apFirstW:PO,apS:P7,apSW:P7,apSecond:Pk,apSecondW:Pk,apW:Pg,ask:PF,asks:PD,asksStateReaderTaskEither:Pe,asksStateReaderTaskEitherW:Pe,bimap:Ph,bind:P8,bindTo:P9,bindW:P8,chain:Py,chainEitherK:PK,chainEitherKW:PK,chainFirst:PP,chainFirstEitherK:PH,chainFirstEitherKW:PH,chainFirstIOK:P0,chainFirstReaderK:Pz,chainFirstReaderKW:Pz,chainFirstTaskK:P4,chainFirstW:PP,chainIOEitherK:Pn,chainIOEitherKW:Pn,chainIOK:PX,chainOptionK:Pq,chainReaderK:PU,chainReaderKW:PU,chainReaderTaskEitherK:Pa,chainReaderTaskEitherKW:Pa,chainStateK:PN,chainTaskEitherK:Pi,chainTaskEitherKW:Pi,chainTaskK:P3,chainW:Pv,evalState:Li,evaluate:P5,execState:Lo,execute:P6,filterOrElse:PZ,filterOrElseW:PZ,flap:PT,flatten:Pb,flattenW:Pb,fromEither:N3,fromEitherK:PY,fromIO:N0,fromIOEither:N6,fromIOEitherK:Pt,fromIOK:PQ,fromOption:PV,fromOptionK:P$,fromPredicate:PG,fromReader:NX,fromReaderEither:N9,fromReaderK:PW,fromReaderTaskEither:N8,fromReaderTaskEitherK:Po,fromState:N4,fromStateK:PA,fromTask:NQ,fromTaskEither:N5,fromTaskEitherK:Pr,fromTaskK:P2,get:PM,gets:Pj,left:NY,leftIO:function(t){return N8(Ma(t))},leftReader:function(t){return N8(Mn(t))},leftState:N2,leftTask:function(t){return N8(Me(t))},local:N7,map:Pp,mapLeft:Pm,modify:PE,of:NJ,put:PR,right:NJ,rightIO:N0,rightReader:NX,rightState:N1,rightTask:NQ,run:function(t,n,r){return t(n)(r)()},sequenceArray:Lr,stateReaderTaskEither:{URI:P_,map:Pu,of:NJ,ap:Ps,chain:Pl,bimap:Pd,mapLeft:Pf,alt:Pc,fromIO:N0,fromTask:NQ,throwError:NY},stateReaderTaskEitherSeq:{URI:P_,map:Pu,of:NJ,ap:Ps,chain:Pl,bimap:Pd,mapLeft:Pf,alt:Pc,fromIO:N0,fromTask:NQ,throwError:NY},throwError:NY,traverseArray:Ln,traverseArrayWithIndex:Lt,traverseReadonlyArrayWithIndex:Lt,traverseReadonlyNonEmptyArrayWithIndex:Le},Symbol.toStringTag,{value:"Module"}));var Lu=function(t,n){return rp(t,Lf(n))},Ls=function(t,n){return rp(t,Ll(n))},Ll=function(t){return function(n){return{peek:function(r){return t({peek:n.peek,pos:r})},pos:n.pos}}},Lc=function(t){return t.peek(t.pos)},Ld=Ll(rn),Lf=function(t){return function(n){return{peek:function(r){return t(n.peek(r))},pos:n.pos}}},Lp="Store",Lh={URI:Lp,map:Lu},Lm=rq(Lh),Lg={URI:Lp,map:Lu,extend:Ls,extract:Lc};let Ly=Object.freeze(Object.defineProperty({__proto__:null,Comonad:Lg,Functor:Lh,URI:Lp,duplicate:Ld,experiment:function(t){return function(n){return function(r){return t.map(n(r.pos),function(t){return r.peek(t)})}}},extend:Ll,extract:Lc,flap:Lm,map:Lf,peeks:function(t){return function(n){return n.peek(t(n.pos))}},seek:function(t){return function(n){return{peek:n.peek,pos:t}}},seeks:function(t){return function(n){return{peek:n.peek,pos:t(n.pos)}}},store:Lg},Symbol.toStringTag,{value:"Module"}));function Lv(t,n){return function(r,i){return n.compose(t.second(i),t.first(r))}}function Lb(t,n){var r=Lv(t,n);return function(i,o){return n.compose(r(i,o),t.promap(n.id(),rn,function(t){return[t,t]}))}}let Lx=Object.freeze(Object.defineProperty({__proto__:null,fanOut:Lb,fanout:function(t){return Lb(t,t)},split:Lv,splitStrong:function(t){return Lv(t,t)}},Symbol.toStringTag,{value:"Module"}));var L_=function(){return{concat:function(t,n){return Object.assign({},t,n)}}},LS=function(t){return function(n){var r={};for(var i in n)rj.call(n,i)&&(r[i]=t[i](n[i]));return r}};let LT=Object.freeze(Object.defineProperty({__proto__:null,evolve:LS,getAssignSemigroup:L_},Symbol.toStringTag,{value:"Module"}));var Lw=globalThis&&globalThis.__awaiter||function(t,n,r,i){return new(r||(r=Promise))(function(o,a){function u(t){try{l(i.next(t))}catch(n){a(n)}}function s(t){try{l(i.throw(t))}catch(n){a(n)}}function l(t){var n;t.done?o(t.value):((n=t.value)instanceof r?n:new r(function(t){t(n)})).then(u,s)}l((i=i.apply(t,n||[])).next())})},LO=globalThis&&globalThis.__generator||function(t,n){var r,i,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw TypeError("Generator is already executing.");for(;u;)try{if(r=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,i=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(t,u)}catch(s){a=[6,s],i=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Lk=_c(kf),LC=_v(kf),LI=_b(kf),LM=function(t){return LR(O7(t))},LR=_f(kc),LE=ki(pP),Lj=_x(kc),LA=__(kb),LN=_S(kx),LP=_p(kf),LL=function(t){return function(){return Lw(void 0,void 0,void 0,function(){return LO(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t().then(r_)];case 1:return[2,n.sent()];case 2:return n.sent(),[2,rx];case 3:return[2]}})})}},LF=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return LL(function(){return t.apply(void 0,n)})}},LD=_h(kf),LW=_m(kx),LU=_g(kf),Lz=_y(kx),LB=_T(kc),LV=_w(kp),L$=_O(kx),Lq=L$(rn),LK=_k(kx),LH=_d(kf),LG=LH(),LZ=h6(kc,hc),LY=h9(kc,hc,p1),LJ=ya(kc,hm),LQ=yu(kc,hm),LX=ys(kc,hm),L0=yl(kc,hm),L1=function(t,n){return rp(t,LB(n))},L2=function(t,n){return rp(t,LV(n))},L3=function(t,n){return rp(t,L$(n))},L4=function(t,n){return rp(t,LK(n))},L5=function(t,n){return rp(t,LJ(n))},L6=function(t,n){return rp(t,LQ(n))},L9=function(t,n){return rp(t,LX(n))},L8=function(t,n){return rp(t,L0(n))},L7="TaskOption",Fe={URI:L7,map:L1},Ft=rq(Fe),Fn={URI:L7,of:Lk},Fr={URI:L7,map:L1,ap:L2},Fi=rP(Fr),Fo=rL(Fr),Fa=function(t,n){return rp(t,L$(function(t){return rp(n,LB(t))}))},Fu={URI:L7,map:L1,ap:L2,chain:L3},Fs=rQ(Fu),Fl={URI:L7,zero:LH},Fc=sw(Fl,Fn),Fd={URI:L7,fromIO:LM},Ff=yS(Fd),Fp=yT(Fd,Fu),Fh=yw(Fd,Fu),Fm={URI:L7,fromEither:LI},Fg=r5(Fm),Fy=r6(Fm,Fu),Fv=r9(Fm,Fu),Fb={URI:L7,fromIO:LM,fromTask:LR},Fx=vQ(Fb),F_=vX(Fb,Fu),FS=v0(Fb,Fu),FT=Lk(rE),Fw=rK(Fe),FO=rX(Fu),Fk=rF(Fr),FC=Lk(rR),FI=function(t){return rs(kj(t),ki(hY(rh)))},FM=function(t){var n=FI(t);return function(t){return rC(t)?n(t):FC}},FR=function(t){return function(n){return function(){return rM(n).reduce(function(n,r,i){return n.then(function(o){return rv(o)?n:t(i+1,r)().then(function(t){return rv(t)?t:(o.value.push(t.value),o)})})},t(0,rI(n))().then(p0(rk)))}}},FE=function(t){var n=FR(t);return function(t){return rC(t)?n(t):FC}},Fj=function(t){return FM(function(n,r){return t(r)})},FA=Fj(rn),FN=function(t){return FE(function(n,r){return t(r)})},FP=FN(rn);let FL=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:L7,map:L1,alt:L4},Alternative:{URI:L7,map:L1,ap:L2,of:Lk,alt:L4,zero:LH},ApT:FC,ApplicativePar:{URI:L7,map:L1,ap:L2,of:Lk},ApplicativeSeq:{URI:L7,map:L1,ap:Fa,of:Lk},ApplyPar:Fr,ApplySeq:{URI:L7,map:L1,ap:Fa},Chain:Fu,Compactable:{URI:L7,compact:LZ,separate:LY},Do:FT,Filterable:{URI:L7,map:L1,compact:LZ,separate:LY,filter:L5,filterMap:L6,partition:L9,partitionMap:L8},FromEither:Fm,FromIO:Fd,FromTask:Fb,Functor:Fe,Monad:{URI:L7,map:L1,ap:L2,of:Lk,chain:L3},MonadIO:{URI:L7,map:L1,ap:L2,of:Lk,chain:L3,fromIO:LM},MonadTask:{URI:L7,map:L1,ap:L2,of:Lk,chain:L3,fromIO:LM,fromTask:LR},Pointed:Fn,Zero:Fl,alt:LK,altW:LK,ap:LV,apFirst:Fi,apS:Fk,apSecond:Fo,bind:FO,bindTo:Fw,chain:L$,chainEitherK:Fy,chainFirst:Fs,chainFirstEitherK:Fv,chainFirstIOK:Fh,chainFirstTaskK:FS,chainIOK:Fp,chainNullableK:LW,chainOptionK:Lz,chainTaskK:F_,compact:LZ,filter:LJ,filterMap:LQ,flap:Ft,flatten:Lq,fold:LA,foldW:LA,fromEither:LI,fromEitherK:Fg,fromIO:LM,fromIOK:Ff,fromNullable:LP,fromNullableK:LD,fromOption:ka,fromOptionK:LU,fromPredicate:LC,fromTask:LR,fromTaskEither:LE,fromTaskK:Fx,getOrElse:LN,getOrElseW:LN,guard:Fc,map:LB,match:Lj,matchE:LA,matchEW:LA,matchW:Lj,none:LG,of:Lk,partition:LX,partitionMap:L0,separate:LY,sequenceArray:FA,sequenceSeqArray:FP,some:Lk,traverseArray:Fj,traverseArrayWithIndex:FM,traverseReadonlyArrayWithIndex:FM,traverseReadonlyArrayWithIndexSeq:FE,traverseReadonlyNonEmptyArrayWithIndex:FI,traverseReadonlyNonEmptyArrayWithIndexSeq:FR,traverseSeqArray:FN,traverseSeqArrayWithIndex:FE,tryCatch:LL,tryCatchK:LF,zero:LH},Symbol.toStringTag,{value:"Module"}));var FF=function(t){return"Left"===t._tag},FD=function(t){return"Right"===t._tag};function FW(t){return"Both"===t._tag}function FU(t){return{_tag:"Left",left:t}}function Fz(t){return{_tag:"Right",right:t}}function FB(t,n){return{_tag:"Both",left:t,right:n}}var FV=function(t,n,r){return function(i){switch(i._tag){case"Left":return t(i.left);case"Right":return n(i.right);case"Both":return r(i.left,i.right)}}},F$=FV(Fz,FU,function(t,n){return FB(n,t)});function Fq(t,n){return{concat:function(r,i){return FF(r)?FF(i)?FU(t.concat(r.left,i.left)):FD(i)?FB(r.left,i.right):FB(t.concat(r.left,i.left),i.right):FD(r)?FF(i)?FB(i.left,r.right):FD(i)?Fz(n.concat(r.right,i.right)):FB(i.left,n.concat(r.right,i.right)):FF(i)?FB(t.concat(r.left,i.left),r.right):FD(i)?FB(r.left,n.concat(r.right,i.right)):FB(t.concat(r.left,i.left),n.concat(r.right,i.right))}}}var FK=function(t){return{URI:De,_E:void 0,map:FZ,ap:function(n,r){return FF(n)?FF(r)?FU(t.concat(n.left,r.left)):FD(r)?FU(n.left):FU(t.concat(n.left,r.left)):FD(n)?FF(r)?FU(r.left):FD(r)?Fz(n.right(r.right)):FB(r.left,n.right(r.right)):FF(r)?FU(t.concat(n.left,r.left)):FD(r)?FB(n.left,n.right(r.right)):FB(t.concat(n.left,r.left),n.right(r.right))}}};function FH(t){var n=FK(t),r=function(n,r){if(FF(n))return n;if(FD(n))return r(n.right);var i=r(n.right);return FF(i)?FU(t.concat(n.left,i.left)):FD(i)?FB(n.left,i.right):FB(t.concat(n.left,i.left),i.right)};return{URI:De,_E:void 0,map:FZ,ap:n.ap,chain:r}}var FG=function(t,n){return rv(t)?rv(n)?rx:r_(Fz(n.value)):rv(n)?r_(FU(t.value)):r_(FB(t.value,n.value))},FZ=function(t,n){return rp(t,F4(n))},FY=function(t,n,r){return rp(t,F2(n,r))},FJ=function(t,n){return rp(t,F3(n))},FQ=function(t,n,r){return rp(t,F5(n,r))},FX=function(t){var n=F6(t);return function(t,r){return rp(t,n(r))}},F0=function(t,n,r){return rp(t,F9(n,r))},F1=function(t){var n=F8(t);return function(t,r){return rp(t,n(r))}},F2=function(t,n){return function(r){return FF(r)?FU(t(r.left)):FD(r)?Fz(n(r.right)):FB(t(r.left),n(r.right))}},F3=function(t){return function(n){return FF(n)?FU(t(n.left)):FW(n)?FB(t(n.left),n.right):n}},F4=function(t){return function(n){return FF(n)?n:FD(n)?Fz(t(n.right)):FB(n.left,t(n.right))}},F5=function(t,n){return function(r){return FF(r)?t:n(t,r.right)}},F6=function(t){return function(n){return function(r){return FF(r)?t.empty:n(r.right)}}},F9=function(t,n){return function(r){return FF(r)?t:n(r.right,t)}},F8=function(t){return function(n){return function(r){return FF(r)?t.of(r):FD(r)?t.map(n(r.right),Fz):t.map(n(r.right),function(t){return FB(r.left,t)})}}},F7=function(t){return function(n){return FF(n)?t.of(n):FD(n)?t.map(n.right,Fz):t.map(n.right,function(t){return FB(n.left,t)})}},De="These",Dt={URI:De,map:FZ},Dn=rq(Dt),Dr={URI:De,fromEither:rn},Di=r1(Dr),Do=r3(Dr),Da=function(t){return function(n){return function(r){return!FF(r)&&t.equals(n,r.right)}}},Du=function(t){return function(n){return!FF(n)&&t(n.right)}},Ds=function(t,n){return function(r){return FF(r)?[r.left,n()]:FD(r)?[t(),r.right]:[r.left,r.right]}},Dl=function(t,n){return Ds(function(){return t},function(){return n})},Dc=Fz(rR),Dd=function(t){return function(n){return function(r){var i=rx,o=n(0,rI(r));if(FF(o))return o;FW(o)&&(i=r_(o.left));for(var a=[o.right],u=1;u<r.length;u++){var s=n(u,r[u]);if(FF(s))return s;FW(s)&&(i=rv(i)?r_(s.left):r_(t.concat(i.value,s.left))),a.push(s.right)}return rv(i)?Fz(a):FB(i.value,a)}}},Df=function(t){return function(n){var r=Dd(t)(n);return function(t){return rC(t)?r(t):Dc}}};let Dp=Object.freeze(Object.defineProperty({__proto__:null,ApT:Dc,Bifunctor:{URI:De,bimap:FY,mapLeft:FJ},Foldable:{URI:De,reduce:FQ,foldMap:FX,reduceRight:F0},FromEither:Dr,FromThese:{URI:De,fromThese:rn},Functor:Dt,Pointed:{URI:De,of:Fz},Traversable:{URI:De,map:FZ,reduce:FQ,foldMap:FX,reduceRight:F0,traverse:F1,sequence:F7},URI:De,bimap:F2,both:FB,elem:Da,exists:Du,flap:Dn,fold:FV,foldMap:F6,foldW:FV,fromOption:Di,fromOptionK:Do,fromOptions:FG,getApplicative:function(t){var n=FK(t);return{URI:De,_E:void 0,map:FZ,ap:n.ap,of:Fz}},getApply:FK,getChain:FH,getEq:function(t,n){return ie(function(r,i){return FF(r)?FF(i)&&t.equals(r.left,i.left):FD(r)?FD(i)&&n.equals(r.right,i.right):FW(i)&&t.equals(r.left,i.left)&&n.equals(r.right,i.right)})},getLeft:function(t){return FF(t)?r_(t.left):FD(t)?rx:r_(t.left)},getLeftOnly:function(t){return FF(t)?r_(t.left):rx},getMonad:function(t){var n=FH(t);return{URI:De,_E:void 0,map:FZ,of:Fz,ap:n.ap,chain:n.chain,throwError:FU}},getRight:function(t){return FF(t)?rx:(FD(t),r_(t.right))},getRightOnly:function(t){return FD(t)?r_(t.right):rx},getSemigroup:Fq,getShow:function(t,n){return{show:FV(function(n){return"left(".concat(t.show(n),")")},function(t){return"right(".concat(n.show(t),")")},function(r,i){return"both(".concat(t.show(r),", ").concat(n.show(i),")")})}},isBoth:FW,isLeft:FF,isRight:FD,left:FU,leftOrBoth:function(t){return function(n){return rv(n)?FU(t):FB(t,n.value)}},map:F4,mapLeft:F3,match:FV,matchW:FV,of:Fz,reduce:F5,reduceRight:F9,right:Fz,rightOrBoth:function(t){return function(n){return rv(n)?Fz(t):FB(n.value,t)}},sequence:F7,swap:F$,these:{URI:De,map:FZ,bimap:FY,mapLeft:FJ,reduce:FQ,foldMap:FX,reduceRight:F0,traverse:F1,sequence:F7},toTuple:Dl,toTuple2:Ds,traverse:F8,traverseReadonlyArrayWithIndex:Df,traverseReadonlyNonEmptyArrayWithIndex:Dd},Symbol.toStringTag,{value:"Module"}));function Dh(t){return rs(Fz,t.of)}function Dm(t){return rs(FU,t.of)}function Dg(t){return rs(FB,t.of)}function Dy(t){return function(n){return t.map(n,Fz)}}function Dv(t){return function(n){return t.map(n,FU)}}function Db(t){return r$(t,Dt)}function Dx(t,n){return rN(t,FK(n))}function D_(t,n){var r=Dm(t);return function(i){return function(o){return t.chain(o,FV(r,i,function(r,o){return t.map(i(o),FV(function(t){return FU(n.concat(r,t))},function(t){return FB(r,t)},function(t,i){return FB(n.concat(r,t),i)}))}))}}}function DS(t){return function(n,r){return function(i){return t.map(i,F2(n,r))}}}function DT(t){return function(n){return function(r){return t.map(r,F3(n))}}}function Dw(t){return function(n,r,i){return function(o){return t.map(o,FV(n,r,i))}}}function DO(t){return function(n,r,i){return function(o){return t.chain(o,FV(n,r,i))}}}function Dk(t){return function(n){return t.map(n,F$)}}function DC(t){return function(n,r){return function(i){return t.map(i,Ds(n,r))}}}let DI=Object.freeze(Object.defineProperty({__proto__:null,ap:Dx,bimap:DS,both:Dg,chain:D_,getTheseM:function(t){var n=Db(t),r=DS(t),i=DT(t),o=DO(t),a=DC(t),u=Dh(t),s=function(t,r){return rp(t,n(r))};return{map:s,bimap:function(t,n,i){return rp(t,r(n,i))},mapLeft:function(t,n){return rp(t,i(n))},fold:function(t,n,r,i){return rp(t,o(n,r,i))},swap:Dk(t),rightM:Dy(t),leftM:Dv(t),left:Dm(t),right:Dh(t),both:Dg(t),toTuple:function(t,n,r){return rp(t,a(function(){return n},function(){return r}))},getMonad:function(n){var r=Dx(t,n),i=D_(t,n);return{_E:void 0,map:s,of:u,ap:function(t,n){return rp(t,r(n))},chain:function(t,n){return rp(t,i(n))}}}}},left:Dm,leftF:Dv,map:Db,mapLeft:DT,match:Dw,matchE:DO,right:Dh,rightF:Dy,swap:Dk,toTuple2:DC},Symbol.toStringTag,{value:"Module"}));var DM=Dm(kf),DR=Dh(kf),DE=Dg(kf),Dj=Dy(kc),DA=Dv(kc),DN=rs(O7,Dj),DP=rs(O7,DA),DL=Dw(kc),DF=DO(kx),DD=Dk(kc),DW=function(t,n){return rp(t,DB(n))},DU=function(t,n,r){return rp(t,DV(n,r))},Dz=function(t,n){return rp(t,D$(n))},DB=Db(kc),DV=DS(kc),D$=DT(kc),Dq="TaskThese",DK=function(t,n){var r=Dx(t,n);return{URI:Dq,_E:void 0,map:DW,ap:function(t,n){return rp(t,r(n))}}};function DH(t,n){var r=DK(t,n).ap;return{URI:Dq,_E:void 0,map:DW,ap:r,of:DR}}function DG(t){var n=DK(kg,t),r=D_(kx,t);return{URI:Dq,_E:void 0,map:DW,ap:n.ap,chain:function(t,n){return rp(t,r(n))}}}var DZ={URI:Dq,map:DW},DY=rq(DZ),DJ={URI:Dq,fromEither:ka},DQ=r1(DJ),DX=r3(DJ),D0=r2(DJ),D1={URI:Dq,fromThese:ka},D2=v2(D1),D3={URI:Dq,fromIO:DN},D4=yS(D3),D5={URI:Dq,fromIO:DN,fromTask:Dj},D6=vQ(D5),D9=DC(kc),D8=DR(rR),D7=function(t){var n=Dd(t);return function(t){return rs(kj(t),ki(n(rh)))}},We=function(t){return function(n){var r=D7(t)(n);return function(t){return rC(t)?r(t):D8}}},Wt=function(t){return function(n){return function(r){return function(){return rM(r).reduce(function(r,i,o){return r.then(function(a){return FF(a)?r:n(o+1,i)().then(function(n){if(FF(n))return n;if(FW(n)){var r=a.right;return r.push(n.right),FW(a)?FB(t.concat(a.left,n.left),r):FB(n.left,r)}return a.right.push(n.right),a})})},n(0,rI(r))().then(F4(rk)))}}}},Wn=function(t){return function(n){var r=Wt(t)(n);return function(t){return rC(t)?r(t):D8}}},Wr=function(t,n){return D9(function(){return t},function(){return n})},Wi=function(t,n){return rD(ky)(Fq(t,n))};let Wo=Object.freeze(Object.defineProperty({__proto__:null,ApT:D8,Bifunctor:{URI:Dq,bimap:DU,mapLeft:Dz},FromEither:DJ,FromIO:D3,FromTask:D5,FromThese:D1,Functor:DZ,Pointed:{URI:Dq,of:DR},URI:Dq,bifunctorTaskThese:{URI:Dq,bimap:DU,mapLeft:Dz},bimap:DV,both:DE,flap:DY,fold:DF,foldW:DF,fromEither:ka,fromIO:DN,fromIOEither:O7,fromIOK:D4,fromOption:DQ,fromOptionK:DX,fromPredicate:D0,fromTask:Dj,fromTaskK:D6,fromThese:ka,fromTheseK:D2,functorTaskThese:{URI:Dq,map:DW},getApplicative:DH,getApply:DK,getChain:DG,getMonad:function(t){var n=DH(kg,t),r=DG(t);return{URI:Dq,_E:void 0,map:DW,ap:n.ap,of:DR,chain:r.chain,fromIO:DN,fromTask:Dj}},getSemigroup:Wi,left:DM,leftIO:DP,leftTask:DA,map:DB,mapLeft:D$,match:DL,matchE:DF,matchEW:DF,matchW:DL,of:DR,right:DR,rightIO:DN,rightTask:Dj,swap:DD,taskThese:{URI:Dq,map:DW,bimap:DU,mapLeft:Dz},toTuple:Wr,toTuple2:D9,traverseReadonlyArrayWithIndex:We,traverseReadonlyArrayWithIndexSeq:Wn,traverseReadonlyNonEmptyArrayWithIndex:D7,traverseReadonlyNonEmptyArrayWithIndexSeq:Wt},Symbol.toStringTag,{value:"Module"}));var Wa=function(t,n){return rp(t,Wu(n))},Wu=function(t){return function(n){return function(r){return t(n(r))}}},Ws="Traced",Wl={URI:Ws,map:Wa},Wc=rq(Wl);let Wd=Object.freeze(Object.defineProperty({__proto__:null,Functor:Wl,URI:Ws,censor:function(t){return function(n){return function(r){return n(t(r))}}},flap:Wc,getComonad:function(t){return{URI:Ws,_E:void 0,map:Wa,extend:function(n,r){return function(i){return r(function(r){return n(t.concat(i,r))})}},extract:function(n){return n(t.empty)}}},listen:function(t){return function(n){return[t(n),n]}},listens:function(t){return function(n){return function(r){return[n(r),t(r)]}}},map:Wu,traced:Wl,tracks:function(t,n){return function(r){return r(n(r(t.empty)))}}},Symbol.toStringTag,{value:"Module"}));function Wf(t,n){return function(r){var i=t.traverse(r),o=n.traverse(r);return function(t){return function(n){return i(n,function(n){return o(n,t)})}}}}function Wp(t,n){return function(r){var i=t.sequence(r),o=n.sequence(r);return function(n){return i(t.map(n,o))}}}let Wh=Object.freeze(Object.defineProperty({__proto__:null,getTraversableComposition:function(t,n){var r=rH(t,n).map,i=yg(t,n),o=Wf(t,n),a=Wp(t,n);return{map:r,reduce:i.reduce,foldMap:i.foldMap,reduceRight:i.reduceRight,traverse:function(t){var n=o(t);return function(t,r){return rp(t,n(r))}},sequence:function(t){var n=a(t);return function(t){return rp(t,n)}}}},sequence:Wp,traverse:Wf},Symbol.toStringTag,{value:"Module"})),Wm=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function Wg(t,n){return void 0===n&&(n=[]),{value:t,forest:n}}var Wy=function(t,n){for(var r,i="",o=n.length,a=0;a<o;a++){r=n[a];var u=a===o-1;i+=t+(u?"└":"├")+"─ "+r.value,i+=Wy(t+(o>1&&!u?"│  ":"   "),r.forest)}return i};function Wv(t){return Wy(`
`,t)}function Wb(t,n){var r,i=n(t);return{value:i[0],forest:Wx(i[1],n)}}function Wx(t,n){return t.map(function(t){return Wb(t,n)})}function W_(t){var n=WS(t);return function(r,i){return t.chain(i(r),function(r){var o=r[0],a=r[1];return t.map(n(a,i),function(t){return{value:o,forest:t}})})}}function WS(t){var n=fg(t);return function(r,i){return rp(r,n(function(n){return W_(t)(n,i)}))}}var WT=function(t,n){return rp(t,WL(n))},Ww=function(t,n){return rp(t,Wj(function(t){return rp(n,WL(t))}))},WO=function(t,n){return rp(t,Wj(n))},Wk=function(t,n,r){return rp(t,WF(n,r))},WC=function(t){var n=WD(t);return function(t,r){return rp(t,n(r))}},WI=function(t,n,r){return rp(t,WW(n,r))},WM=function(t,n){return rp(t,WA(n))},WR=function(t){var n=Wz(t);return function(t,r){return rp(t,n(r))}},WE=function(t){return function(n){return Ww(n,t)}},Wj=function(t){return function(n){var r=t(n.value),i=r.value,o=r.forest,a=fw().concat;return{value:i,forest:a(o,n.forest.map(Wj(t)))}}},WA=function(t){return function(n){return{value:t(n),forest:n.forest.map(WA(t))}}},WN=WA(rn),WP=Wj(rn),WL=function(t){return function(n){return{value:t(n.value),forest:n.forest.map(WL(t))}}},WF=function(t,n){return function(r){for(var i=n(t,r.value),o=r.forest.length,a=0;a<o;a++)i=rp(r.forest[a],WF(i,n));return i}},WD=function(t){return function(n){return WF(t.empty,function(r,i){return t.concat(r,n(i))})}},WW=function(t,n){return function(r){for(var i=t,o=r.forest.length,a=o-1;a>=0;a--)i=rp(r.forest[a],WW(i,n));return n(r.value,i)}},WU=function(t){return t.value},Wz=function(t){var n=fg(t),r=function(i){return function(o){return t.ap(t.map(i(o.value),function(t){return function(n){return{value:t,forest:n}}}),rp(o.forest,n(r(i))))}};return r},WB=function(t){return Wz(t)(rn)},WV=function(t){return Wg(t)},W$="Tree",Wq={URI:W$,map:WT},WK=rq(Wq),WH={URI:W$,map:WT,ap:Ww},WG=rP(WH),WZ=rL(WH),WY={URI:W$,map:WT,ap:Ww,chain:WO},WJ=rQ(WY),WQ=WV(rE),WX=rK(Wq),W0=rX(WY),W1=rF(WH),W2=function(t){return function(n){return t(n.value)||n.forest.some(W2(t))}};let W3=Object.freeze(Object.defineProperty({__proto__:null,Applicative:{URI:W$,map:WT,ap:Ww,of:WV},Apply:WH,Chain:WY,Comonad:{URI:W$,map:WT,extend:WM,extract:WU},Do:WQ,Foldable:{URI:W$,reduce:Wk,foldMap:WC,reduceRight:WI},Functor:Wq,Monad:{URI:W$,map:WT,ap:Ww,of:WV,chain:WO},Pointed:{URI:W$,of:WV},Traversable:{URI:W$,map:WT,reduce:Wk,foldMap:WC,reduceRight:WI,traverse:WR,sequence:WB},URI:W$,ap:WE,apFirst:WG,apS:W1,apSecond:WZ,bind:W0,bindTo:WX,chain:Wj,chainFirst:WJ,drawForest:Wv,drawTree:function(t){return t.value+Wv(t.forest)},duplicate:WN,elem:function(t){var n=function(r,i){return t.equals(r,i.value)||i.forest.some(function(t){return n(r,t)})};return n},exists:W2,extend:WA,extract:WU,flap:WK,flatten:WP,fold:function(t){var n=function(r){return t(r.value,r.forest.map(n))};return n},foldMap:WD,getEq:function(t){var n,r=ie(function(r,i){return t.equals(r.value,i.value)&&n.equals(r.forest,i.forest)});return n=cd(r),r},getShow:function(t){var n=function(r){return cY(r.forest)?"make(".concat(t.show(r.value),")"):"make(".concat(t.show(r.value),", [").concat(r.forest.map(n).join(", "),"])")};return{show:n}},make:Wg,map:WL,of:WV,reduce:WF,reduceRight:WW,sequence:WB,traverse:Wz,tree:{URI:W$,map:WT,of:WV,ap:Ww,chain:WO,reduce:Wk,foldMap:WC,reduceRight:WI,traverse:WR,sequence:WB,extract:WU,extend:WM},unfoldForest:Wx,unfoldForestM:WS,unfoldTree:Wb,unfoldTreeM:W_},Symbol.toStringTag,{value:"Module"}));var W4=function(t){var n;return[j2(t),(n=t,n[0])]};function W5(t){return{URI:Uv,_E:void 0,map:W7,ap:function(n,r){var i,o;return[(i=n,i[0])((o=r,o[0])),t.concat(j2(n),j2(r))]}}}var W6=function(t){return function(n){return[n,t.empty]}};function W9(t){var n=W5(t);return{URI:Uv,_E:void 0,map:n.map,ap:n.ap,chain:function(n,r){var i,o=r((i=n,i[0])),a=o[0],u=o[1];return[a,t.concat(j2(n),u)]}}}var W8=function(t,n){return rp(t,Uc(n))},W7=function(t,n){return rp(t,Us(n))},Ue=function(t,n,r){return rp(t,Uu(n,r))},Ut=function(t,n){return rp(t,Ul(n))},Un=function(t,n){return rp(t,Ud(n))},Ur=function(t,n,r){return rp(t,Uh(n,r))},Ui=function(t){var n=Up();return function(t,r){return rp(t,n(r))}},Uo=function(t,n,r){return rp(t,Um(n,r))};function Ua(t){var n=Ug(t);return function(t,r){return rp(t,n(r))}}var Uu=function(t,n){return function(r){var i;return[n((i=r,i[0])),t(j2(r))]}},Us=function(t){return function(n){var r;return[t((r=n,r[0])),j2(n)]}},Ul=function(t){return function(n){var r;return[(r=n,r[0]),t(j2(n))]}},Uc=function(t){return function(n){var r;return[(r=n,r[0]),j2(t)]}},Ud=function(t){return function(n){return[t(n),j2(n)]}},Uf=Ud(rn),Up=Ap,Uh=Af,Um=Ah,Ug=function(t){return function(n){return function(r){var i;return t.map(n((i=r,i[0])),function(t){return[t,j2(r)]})}}},Uy=function(t){return function(n){var r;return t.map((r=n,r[0]),function(t){return[t,j2(n)]})}},Uv="Tuple",Ub={URI:Uv,map:W7},Ux=rq(Ub);let U_=Object.freeze(Object.defineProperty({__proto__:null,Bifunctor:{URI:Uv,bimap:Ue,mapLeft:Ut},Comonad:{URI:Uv,map:W7,extend:Un,extract:j1},Foldable:{URI:Uv,reduce:Ur,foldMap:Ui,reduceRight:Uo},Functor:Ub,Semigroupoid:{URI:Uv,compose:W8},Traversable:{URI:Uv,map:W7,reduce:Ur,foldMap:Ui,reduceRight:Uo,traverse:Ua,sequence:Uy},URI:Uv,bimap:Uu,compose:Uc,duplicate:Uf,extend:Ud,extract:j1,flap:Ux,foldMap:Up,fst:j1,getApplicative:function(t){var n=W5(t);return{URI:Uv,_E:void 0,map:n.map,ap:n.ap,of:W6(t)}},getApply:W5,getChain:W9,getChainRec:function(t){var n=function(n,r){for(var i,o,a=r(n),u=t.empty,s=(i=a,i[0]);"Left"===s._tag;){u=t.concat(u,j2(a)),s=(o=a=r(s.left))[0]}return[s.right,t.concat(u,j2(a))]},r=W9(t);return{URI:Uv,_E:void 0,map:r.map,ap:r.ap,chain:r.chain,chainRec:n}},getMonad:function(t){var n=W9(t);return{URI:Uv,_E:void 0,map:n.map,ap:n.ap,chain:n.chain,of:W6(t)}},map:Us,mapFst:Us,mapLeft:Ul,mapSnd:Ul,reduce:Uh,reduceRight:Um,sequence:Uy,snd:j2,swap:W4,traverse:Ug,tuple:{URI:Uv,compose:W8,map:W7,bimap:Ue,mapLeft:Ut,extract:j1,extend:Un,reduce:Ur,foldMap:Ui,reduceRight:Uo,traverse:Ua,sequence:Uy}},Symbol.toStringTag,{value:"Module"})),US=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),UT=Object.freeze(Object.defineProperty({__proto__:null,getValidationM:function(t,n){var r=rY(n,mB(t));return{map:r.map,ap:r.ap,of:r.of,chain:function(t,r){return n.chain(t,function(t){return rS(t)?n.of(rw(t.left)):r(t.right)})},alt:function(r,i){return n.chain(r,function(r){return rT(r)?n.of(r):n.map(i(),function(n){return rS(n)?rw(t.concat(r.left,n.left)):n})})}}}},Symbol.toStringTag,{value:"Module"}));var Uw=iB(void 0),UO={concat:Uw.concat,empty:void 0};let Uk=Object.freeze(Object.defineProperty({__proto__:null,Monoid:UO,Semigroup:Uw},Symbol.toStringTag,{value:"Module"}));var UC=function(t){return function(){return[void 0,t]}},UI=function(t){return function(){var n=t(),r=n[0],i=n[1];return[[r,i],i]}},UM=function(t){return function(){var n,r=t(),i=r[0],o=i[0];return[o,(0,i[1])(r[1])]}},UR=function(t){return function(n){return function(){var r=n(),i=r[0],o=r[1];return[[i,t(o)],o]}}},UE=function(t){return function(n){return function(){var r,i=n();return[i[0],t(i[1])]}}},Uj=function(t,n){return rp(t,UA(n))},UA=function(t){return function(n){return function(){var r=n(),i=r[0],o=r[1];return[t(i),o]}}},UN="Writer",UP=function(t){return{URI:UN,_E:void 0,of:function(n){return function(){return[n,t.empty]}}}},UL=function(t){return{URI:UN,_E:void 0,map:Uj,ap:function(n,r){return function(){var i=n(),o=i[0],a=i[1],u=r(),s=u[0],l=u[1];return[o(s),t.concat(a,l)]}}}},UF=function(t){var n=UL(t),r=UP(t);return{URI:UN,_E:void 0,map:Uj,ap:n.ap,of:r.of}};function UD(t){var n=UL(t);return{URI:UN,_E:void 0,map:Uj,ap:n.ap,chain:function(n,r){return function(){var i=n(),o=i[0],a=i[1],u=r(o)(),s=u[0],l=u[1];return[s,t.concat(a,l)]}}}}var UW={URI:UN,map:Uj},UU=rq(UW),Uz=function(t){return t()[0]},UB=function(t){return t()[1]},UV=function(t){return t()[0]},U$=function(t){return t()[1]};let Uq=Object.freeze(Object.defineProperty({__proto__:null,Functor:UW,URI:UN,censor:UE,evalWriter:UV,evaluate:Uz,execWriter:U$,execute:UB,flap:UU,getApplicative:UF,getApply:UL,getChain:UD,getMonad:function(t){var n=UF(t),r=UD(t);return{URI:UN,_E:void 0,map:Uj,ap:n.ap,of:n.of,chain:r.chain}},getPointed:UP,listen:UI,listens:UR,map:UA,pass:UM,tell:UC,writer:UW},Symbol.toStringTag,{value:"Module"})),UK=Object.freeze(Object.defineProperty({__proto__:null,getWriterM:function(t){var n=function(n,r){return function(){return t.map(n(),function(t){var n=t[0],i=t[1];return[r(n),i]})}};return{map:n,evalWriter:function(n){return t.map(n(),function(t){return t[0]})},execWriter:function(n){return t.map(n(),function(t){return t[0],t[1]})},tell:function(n){return function(){return t.of([void 0,n])}},listen:function(n){return function(){return t.map(n(),function(t){var n=t[0],r=t[1];return[[n,r],r]})}},pass:function(n){return function(){return t.map(n(),function(t){var n,r=t[0],i=r[0];return[i,(0,r[1])(t[1])]})}},listens:function(n,r){return function(){return t.map(n(),function(t){var n=t[0],i=t[1];return[[n,r(i)],i]})}},censor:function(n,r){return function(){return t.map(n(),function(t){var n;return[t[0],r(t[1])]})}},getMonad:function(r){return{_E:void 0,map:n,of:function(n){return function(){return t.of([n,r.empty])}},ap:function(n,i){return function(){return t.chain(n(),function(n){var o=n[0],a=n[1];return t.map(i(),function(t){var n=t[0],i=t[1];return[o(n),r.concat(a,i)]})})}},chain:function(n,i){return function(){return t.chain(n(),function(n){var o=n[0],a=n[1];return t.map(i(o)(),function(t){var n=t[0],i=t[1];return[n,r.concat(a,i)]})})}}}}}}},Symbol.toStringTag,{value:"Module"})),UH=Object.freeze(Object.defineProperty({__proto__:null,alt:n4,alternative:n5,applicative:rJ,apply:rV,array:f2,bifunctor:f3,boolean:pn,booleanAlgebra:pi,bounded:ps,boundedDistributiveLattice:pd,boundedJoinSemilattice:pf,boundedLattice:pp,boundedMeetSemilattice:ph,category:pm,chain:r0,chainRec:py,choice:px,comonad:p_,compactable:h8,console:mr,const:my,contravariant:mv,date:mS,distributiveLattice:pc,either:gU,eitherT:g7,endomorphism:yn,eq:id,extend:yr,field:yo,filterable:yc,filterableWithIndex:yd,foldable:yy,foldableWithIndex:y_,fromEither:r7,fromIO:yO,fromReader:vd,fromState:vJ,fromTask:v1,fromThese:v3,function:rg,functor:rG,functorWithIndex:v5,group:v6,heytingAlgebra:v9,hkt:v8,identity:bA,invariant:bN,io:xe,ioEither:_l,ioOption:Sk,ioRef:SI,joinSemilattice:SM,json:Sj,lattice:SA,magma:iW,map:wx,meetSemilattice:w_,monad:wS,monadIO:wT,monadTask:ww,monadThrow:wO,monoid:wW,naturalTransformation:wU,nonEmptyArray:u6,number:su,option:h5,optionT:_C,ord:iA,ordering:wH,pipeable:wG,pointed:wZ,predicate:pj,profunctor:wY,random:w1,reader:vo,readerEither:O2,readerT:O8,readerTask:Cj,readerTaskEither:RW,readonlyArray:cZ,readonlyMap:TN,readonlyNonEmptyArray:aI,readonlyRecord:jw,readonlySet:j0,readonlyTuple:Ax,record:Nn,refinement:Nd,ring:Nh,semigroup:i1,semigroupoid:Nm,semiring:Ng,separated:sb,set:NF,show:NU,state:v$,stateReaderTaskEither:La,stateT:NZ,store:Ly,string:R4,strong:Lx,struct:LT,task:kB,taskEither:I6,taskOption:FL,taskThese:Wo,these:Dp,theseT:DI,traced:Wd,traversable:Wh,traversableWithIndex:Wm,tree:W3,tuple:U_,unfoldable:US,validationT:UT,void:Uk,witherable:sT,writer:Uq,writerT:UK,zero:sO},Symbol.toStringTag,{value:"Module"})),UG=C(UH);var UZ={},UY={},UJ={},UQ={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getEndomorphismMonoid=t.not=t.SK=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.unsafeCoerce=t.identity=t.apply=t.getRing=t.getSemiring=t.getMonoid=t.getSemigroup=t.getBooleanAlgebra=void 0;var n=function(t){return function(){return{meet:function(n,r){return function(i){return t.meet(n(i),r(i))}},join:function(n,r){return function(i){return t.join(n(i),r(i))}},zero:function(){return t.zero},one:function(){return t.one},implies:function(n,r){return function(i){return t.implies(n(i),r(i))}},not:function(n){return function(r){return t.not(n(r))}}}}};t.getBooleanAlgebra=n;var r=function(t){return function(){return{concat:function(n,r){return function(i){return t.concat(n(i),r(i))}}}}};t.getSemigroup=r;var i=function(n){var r=(0,t.getSemigroup)(n);return function(){return{concat:r().concat,empty:function(){return n.empty}}}};t.getMonoid=i;var o=function(t){return{add:function(n,r){return function(i){return t.add(n(i),r(i))}},zero:function(){return t.zero},mul:function(n,r){return function(i){return t.mul(n(i),r(i))}},one:function(){return t.one}}};t.getSemiring=o;var a=function(n){var r=(0,t.getSemiring)(n);return{add:r.add,mul:r.mul,one:r.one,zero:r.zero,sub:function(t,r){return function(i){return n.sub(t(i),r(i))}}}};t.getRing=a;var u=function(t){return function(n){return n(t)}};function s(t){return t}function l(t){return function(){return t}}function c(t,n,r,i,o,a,u,s,l){switch(arguments.length){case 1:return t;case 2:return function(){return n(t.apply(this,arguments))};case 3:return function(){return r(n(t.apply(this,arguments)))};case 4:return function(){return i(r(n(t.apply(this,arguments))))};case 5:return function(){return o(i(r(n(t.apply(this,arguments)))))};case 6:return function(){return a(o(i(r(n(t.apply(this,arguments))))))};case 7:return function(){return u(a(o(i(r(n(t.apply(this,arguments)))))))};case 8:return function(){return s(u(a(o(i(r(n(t.apply(this,arguments))))))))};case 9:return function(){return l(s(u(a(o(i(r(n(t.apply(this,arguments)))))))))}}}function d(t){return t+1}function f(t){return t-1}function p(t){throw Error("Called `absurd` function which should be uncallable")}t.apply=u,t.identity=s,t.unsafeCoerce=s,t.constant=l,t.constTrue=l(!0),t.constFalse=l(!1),t.constNull=l(null),t.constUndefined=l(void 0),t.constVoid=t.constUndefined,t.flip=function(t){return function(n,r){return t(r,n)}},t.flow=c,t.tuple=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t},t.increment=d,t.decrement=f,t.absurd=p,t.tupled=function(t){return function(n){return t.apply(void 0,n)}},t.untupled=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(n)}},t.pipe=function(t,n,r,i,o,a,u,s,l){switch(arguments.length){case 1:return t;case 2:return n(t);case 3:return r(n(t));case 4:return i(r(n(t)));case 5:return o(i(r(n(t))));case 6:return a(o(i(r(n(t)))));case 7:return u(a(o(i(r(n(t))))));case 8:return s(u(a(o(i(r(n(t)))))));case 9:return l(s(u(a(o(i(r(n(t))))))));default:for(var c=arguments[0],d=1;d<arguments.length;d++)c=arguments[d](c);return c}},t.hole=p;var h=function(t,n){return n};t.SK=h,t.not=function(t){return function(n){return!t(n)}};var m=function(){return{concat:function(t,n){return c(t,n)},empty:s}};t.getEndomorphismMonoid=m}(UQ);var UX={},U0=k&&k.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))};Object.defineProperty(UX,"__esModule",{value:!0}),UX.fromReadonlyNonEmptyArray=UX.has=UX.emptyRecord=UX.emptyReadonlyArray=UX.tail=UX.head=UX.isNonEmpty=UX.singleton=UX.right=UX.left=UX.isRight=UX.isLeft=UX.some=UX.none=UX.isSome=UX.isNone=void 0;var U1=function(t){return"None"===t._tag};UX.isNone=U1;var U2=function(t){return"Some"===t._tag};UX.isSome=U2,UX.none={_tag:"None"};var U3=function(t){return{_tag:"Some",value:t}};UX.some=U3;var U4=function(t){return"Left"===t._tag};UX.isLeft=U4;var U5=function(t){return"Right"===t._tag};UX.isRight=U5;var U6=function(t){return{_tag:"Left",left:t}};UX.left=U6;var U9=function(t){return{_tag:"Right",right:t}};UX.right=U9;var U8=function(t){return[t]};UX.singleton=U8;var U7=function(t){return t.length>0};UX.isNonEmpty=U7;var ze=function(t){return t[0]};UX.head=ze;var zt=function(t){return t.slice(1)};UX.tail=zt,UX.emptyReadonlyArray=[],UX.emptyRecord={},UX.has=Object.prototype.hasOwnProperty;var zn=function(t){return U0([t[0]],t.slice(1),!0)};UX.fromReadonlyNonEmptyArray=zn;var zr=k&&k.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),zi=k&&k.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),zo=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&zr(n,t,r);return zi(n,t),n};Object.defineProperty(UJ,"__esModule",{value:!0}),UJ.sequenceS=UJ.sequenceT=UJ.getApplySemigroup=UJ.apS=UJ.apSecond=UJ.apFirst=UJ.ap=void 0;var za=zo(UX);function zu(t,n,r){return function(i){for(var o=Array(r.length+1),a=0;a<r.length;a++)o[a]=r[a];return o[r.length]=i,0===n?t.apply(null,o):zu(t,n-1,o)}}UJ.ap=function(t,n){return function(r){return function(i){return t.ap(t.map(i,function(t){return function(r){return n.ap(t,r)}}),r)}}},UJ.apFirst=function(t){return function(n){return function(r){return t.ap(t.map(r,function(t){return function(){return t}}),n)}}},UJ.apSecond=function(t){return function(n){return function(r){return t.ap(t.map(r,function(){return function(t){return t}}),n)}}},UJ.apS=function(t){return function(n,r){return function(i){return t.ap(t.map(i,function(t){return function(r){var i;return Object.assign({},t,((i={})[n]=r,i))}}),r)}}},UJ.getApplySemigroup=function(t){return function(n){return{concat:function(r,i){return t.ap(t.map(r,function(t){return function(r){return n.concat(t,r)}}),i)}}}};var zs={1:function(t){return[t]},2:function(t){return function(n){return[t,n]}},3:function(t){return function(n){return function(r){return[t,n,r]}}},4:function(t){return function(n){return function(r){return function(i){return[t,n,r,i]}}}},5:function(t){return function(n){return function(r){return function(i){return function(o){return[t,n,r,i,o]}}}}}};function zl(t){return za.has.call(zs,t)||(zs[t]=zu(UQ.tuple,t-1,[])),zs[t]}function zc(t){var n=t.length;switch(n){case 1:return function(n){var r;return(r={})[t[0]]=n,r};case 2:return function(n){return function(r){var i;return(i={})[t[0]]=n,i[t[1]]=r,i}};case 3:return function(n){return function(r){return function(i){var o;return(o={})[t[0]]=n,o[t[1]]=r,o[t[2]]=i,o}}};case 4:return function(n){return function(r){return function(i){return function(o){var a;return(a={})[t[0]]=n,a[t[1]]=r,a[t[2]]=i,a[t[3]]=o,a}}}};case 5:return function(n){return function(r){return function(i){return function(o){return function(a){var u;return(u={})[t[0]]=n,u[t[1]]=r,u[t[2]]=i,u[t[3]]=o,u[t[4]]=a,u}}}}};default:return zu(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o={},a=0;a<n;a++)o[t[a]]=r[a];return o},n-1,[])}}UJ.sequenceT=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=n.length,o=zl(i),a=t.map(n[0],o),u=1;u<i;u++)a=t.ap(a,n[u]);return a}},UJ.sequenceS=function(t){return function(n){for(var r=Object.keys(n),i=r.length,o=zc(r),a=t.map(n[r[0]],o),u=1;u<i;u++)a=t.ap(a,n[r[u]]);return a}};var zd={};function zf(t,n){return function(r){return function(i){return t.map(i,function(t){return n.map(t,r)})}}}Object.defineProperty(zd,"__esModule",{value:!0}),zd.getFunctorComposition=zd.bindTo=zd.flap=zd.map=void 0,zd.map=zf,zd.flap=function(t){return function(n){return function(r){return t.map(r,function(t){return t(n)})}}},zd.bindTo=function(t){return function(n){return function(r){return t.map(r,function(t){var r;return(r={})[n]=t,r})}}},zd.getFunctorComposition=function(t,n){var r=zf(t,n);return{map:function(t,n){return(0,UQ.pipe)(t,r(n))}}},Object.defineProperty(UY,"__esModule",{value:!0}),UY.getApplicativeComposition=UY.getApplicativeMonoid=void 0,UY.getApplicativeMonoid=function(t){var n=(0,UJ.getApplySemigroup)(t);return function(r){return{concat:n(r).concat,empty:t.of(r.empty)}}},UY.getApplicativeComposition=function(t,n){var r=(0,zd.getFunctorComposition)(t,n).map,i=(0,UJ.ap)(t,n);return{map:r,of:function(r){return t.of(n.of(r))},ap:function(t,n){return(0,UQ.pipe)(t,i(n))}}};var zp={};Object.defineProperty(zp,"__esModule",{value:!0}),zp.bind=zp.chainFirst=void 0,zp.chainFirst=function(t){return function(n){return function(r){return t.chain(r,function(r){return t.map(n(r),function(){return r})})}}},zp.bind=function(t){return function(n,r){return function(i){return t.chain(i,function(i){return t.map(r(i),function(t){var r;return Object.assign({},i,((r={})[n]=t,r))})})}}};var zh={};Object.defineProperty(zh,"__esModule",{value:!0}),zh.tailRec=void 0;var zm=function(t,n){for(var r=n(t);"Left"===r._tag;)r=n(r.left);return r.right};zh.tailRec=zm;var zg={},zy=k&&k.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),zv=k&&k.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),zb=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&zy(n,t,r);return zv(n,t),n};Object.defineProperty(zg,"__esModule",{value:!0}),zg.filterOrElse=zg.chainFirstEitherK=zg.chainEitherK=zg.fromEitherK=zg.chainOptionK=zg.fromOptionK=zg.fromPredicate=zg.fromOption=void 0;var zx=zb(UX);function z_(t){return function(n){return function(r){return t.fromEither(zx.isNone(r)?zx.left(n()):zx.right(r.value))}}}function zS(t){var n=z_(t);return function(t){var r=n(t);return function(t){return(0,UQ.flow)(t,r)}}}function zT(t){return function(n){return(0,UQ.flow)(n,t.fromEither)}}zg.fromOption=z_,zg.fromPredicate=function(t){return function(n,r){return function(i){return t.fromEither(n(i)?zx.right(i):zx.left(r(i)))}}},zg.fromOptionK=zS,zg.chainOptionK=function(t,n){var r=zS(t);return function(t){var i=r(t);return function(t){return function(r){return n.chain(r,i(t))}}}},zg.fromEitherK=zT,zg.chainEitherK=function(t,n){var r=zT(t);return function(t){return function(i){return n.chain(i,r(t))}}},zg.chainFirstEitherK=function(t,n){return(0,UQ.flow)(zT(t),(0,zp.chainFirst)(n))},zg.filterOrElse=function(t,n){return function(r,i){return function(o){return n.chain(o,function(n){return t.fromEither(r(n)?zx.right(n):zx.left(i(n)))})}}};var zw,zO,zk,zC,zI,zM,zR,zE,zj,zA,zN={};Object.defineProperty(zw=zN,"__esModule",{value:!0}),zw.right=zw.left=zw.flap=zw.Functor=zw.Bifunctor=zw.URI=zw.bimap=zw.mapLeft=zw.map=zw.separated=void 0,zO=function(t,n){return{left:t,right:n}},zw.separated=zO,zk=function(t,n){return(0,UQ.pipe)(t,(0,zw.map)(n))},zC=function(t,n){return(0,UQ.pipe)(t,(0,zw.mapLeft)(n))},zI=function(t,n,r){return(0,UQ.pipe)(t,(0,zw.bimap)(n,r))},zM=function(t){return function(n){return(0,zw.separated)((0,zw.left)(n),t((0,zw.right)(n)))}},zw.map=zM,zR=function(t){return function(n){return(0,zw.separated)(t((0,zw.left)(n)),(0,zw.right)(n))}},zw.mapLeft=zR,zE=function(t,n){return function(r){return(0,zw.separated)(t((0,zw.left)(r)),n((0,zw.right)(r)))}},zw.bimap=zE,zw.URI="Separated",zw.Bifunctor={URI:zw.URI,mapLeft:zC,bimap:zI},zw.Functor={URI:zw.URI,map:zk},zw.flap=(0,zd.flap)(zw.Functor),zj=function(t){return t.left},zw.left=zj,zA=function(t){return t.right},zw.right=zA;var zP={},zL=k&&k.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),zF=k&&k.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),zD=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&zL(n,t,r);return zF(n,t),n};Object.defineProperty(zP,"__esModule",{value:!0}),zP.filterE=zP.witherDefault=zP.wiltDefault=void 0;var zW=zD(UX);zP.wiltDefault=function(t,n){return function(r){var i=t.traverse(r);return function(t,o){return r.map(i(t,o),n.separate)}}},zP.witherDefault=function(t,n){return function(r){var i=t.traverse(r);return function(t,o){return r.map(i(t,o),n.compact)}}},zP.filterE=function(t){return function(n){var r=t.wither(n);return function(t){return function(i){return r(i,function(r){return n.map(t(r),function(t){return t?zW.some(r):zW.none})})}}}},BM=UZ,BR=k&&k.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),BE=k&&k.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),Bj=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&BR(n,t,r);return BE(n,t),n},Object.defineProperty(BM,"__esModule",{value:!0}),BM.fold=BM.match=BM.foldW=BM.matchW=BM.isRight=BM.isLeft=BM.fromOption=BM.fromPredicate=BM.FromEither=BM.MonadThrow=BM.throwError=BM.ChainRec=BM.Extend=BM.extend=BM.Alt=BM.alt=BM.altW=BM.Bifunctor=BM.mapLeft=BM.bimap=BM.Traversable=BM.sequence=BM.traverse=BM.Foldable=BM.reduceRight=BM.foldMap=BM.reduce=BM.Monad=BM.Chain=BM.chain=BM.chainW=BM.Applicative=BM.Apply=BM.ap=BM.apW=BM.Pointed=BM.of=BM.Functor=BM.map=BM.getAltValidation=BM.getApplicativeValidation=BM.getWitherable=BM.getFilterable=BM.getCompactable=BM.getSemigroup=BM.getEq=BM.getShow=BM.URI=BM.right=BM.left=void 0,BM.getValidation=BM.getValidationMonoid=BM.getValidationSemigroup=BM.getApplyMonoid=BM.getApplySemigroup=BM.either=BM.stringifyJSON=BM.parseJSON=BM.sequenceArray=BM.traverseArray=BM.traverseArrayWithIndex=BM.traverseReadonlyArrayWithIndex=BM.traverseReadonlyNonEmptyArrayWithIndex=BM.ApT=BM.apSW=BM.apS=BM.bindW=BM.bind=BM.bindTo=BM.Do=BM.exists=BM.elem=BM.toError=BM.toUnion=BM.chainNullableK=BM.fromNullableK=BM.tryCatchK=BM.tryCatch=BM.fromNullable=BM.orElse=BM.orElseW=BM.swap=BM.filterOrElseW=BM.filterOrElse=BM.chainOptionK=BM.fromOptionK=BM.duplicate=BM.flatten=BM.flattenW=BM.chainFirstW=BM.chainFirst=BM.apSecondW=BM.apSecond=BM.apFirstW=BM.apFirst=BM.flap=BM.getOrElse=BM.getOrElseW=void 0,BA=Bj(UX),BM.left=BA.left,BM.right=BA.right,BN=function(t,n){return(0,UQ.pipe)(t,(0,BM.map)(n))},BP=function(t,n){return(0,UQ.pipe)(t,(0,BM.ap)(n))},BL=function(t,n){return(0,UQ.pipe)(t,(0,BM.chain)(n))},BF=function(t,n,r){return(0,UQ.pipe)(t,(0,BM.reduce)(n,r))},BD=function(t){return function(n,r){var i=(0,BM.foldMap)(t);return(0,UQ.pipe)(n,i(r))}},BW=function(t,n,r){return(0,UQ.pipe)(t,(0,BM.reduceRight)(n,r))},BU=function(t){var n=(0,BM.traverse)(t);return function(t,r){return(0,UQ.pipe)(t,n(r))}},Bz=function(t,n,r){return(0,UQ.pipe)(t,(0,BM.bimap)(n,r))},BB=function(t,n){return(0,UQ.pipe)(t,(0,BM.mapLeft)(n))},BV=function(t,n){return(0,UQ.pipe)(t,(0,BM.alt)(n))},B$=function(t,n){return(0,UQ.pipe)(t,(0,BM.extend)(n))},Bq=function(t,n){return(0,zh.tailRec)(n(t),function(t){return(0,BM.isLeft)(t)?(0,BM.right)((0,BM.left)(t.left)):(0,BM.isLeft)(t.right)?(0,BM.left)(n(t.right.left)):(0,BM.right)((0,BM.right)(t.right.right))})},BM.URI="Either",BK=function(t,n){return{show:function(r){return(0,BM.isLeft)(r)?"left(".concat(t.show(r.left),")"):"right(".concat(n.show(r.right),")")}}},BM.getShow=BK,BH=function(t,n){return{equals:function(r,i){return r===i||((0,BM.isLeft)(r)?(0,BM.isLeft)(i)&&t.equals(r.left,i.left):(0,BM.isRight)(i)&&n.equals(r.right,i.right))}}},BM.getEq=BH,BG=function(t){return{concat:function(n,r){return(0,BM.isLeft)(r)?n:(0,BM.isLeft)(n)?r:(0,BM.right)(t.concat(n.right,r.right))}}},BM.getSemigroup=BG,BZ=function(t){var n=(0,BM.left)(t.empty);return{URI:BM.URI,_E:void 0,compact:function(t){return(0,BM.isLeft)(t)?t:"None"===t.right._tag?n:(0,BM.right)(t.right.value)},separate:function(t){return(0,BM.isLeft)(t)?(0,zN.separated)(t,t):(0,BM.isLeft)(t.right)?(0,zN.separated)((0,BM.right)(t.right.left),n):(0,zN.separated)(n,(0,BM.right)(t.right.right))}}},BM.getCompactable=BZ,BY=function(t){var n=(0,BM.left)(t.empty),r=(0,BM.getCompactable)(t),i=r.compact,o=r.separate,a=function(t,r){return(0,BM.isLeft)(t)||r(t.right)?t:n},u=function(t,r){return(0,BM.isLeft)(t)?(0,zN.separated)(t,t):r(t.right)?(0,zN.separated)(n,(0,BM.right)(t.right)):(0,zN.separated)((0,BM.right)(t.right),n)};return{URI:BM.URI,_E:void 0,map:BN,compact:i,separate:o,filter:a,filterMap:function(t,r){if((0,BM.isLeft)(t))return t;var i=r(t.right);return"None"===i._tag?n:(0,BM.right)(i.value)},partition:u,partitionMap:function(t,r){if((0,BM.isLeft)(t))return(0,zN.separated)(t,t);var i=r(t.right);return(0,BM.isLeft)(i)?(0,zN.separated)((0,BM.right)(i.left),n):(0,zN.separated)(n,(0,BM.right)(i.right))}}},BM.getFilterable=BY,BJ=function(t){var n=(0,BM.getFilterable)(t),r=(0,BM.getCompactable)(t);return{URI:BM.URI,_E:void 0,map:BN,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:BU,sequence:BM.sequence,reduce:BF,foldMap:BD,reduceRight:BW,wither:(0,zP.witherDefault)(BM.Traversable,r),wilt:(0,zP.wiltDefault)(BM.Traversable,r)}},BM.getWitherable=BJ,BQ=function(t){return{URI:BM.URI,_E:void 0,map:BN,ap:function(n,r){return(0,BM.isLeft)(n)?(0,BM.isLeft)(r)?(0,BM.left)(t.concat(n.left,r.left)):n:(0,BM.isLeft)(r)?r:(0,BM.right)(n.right(r.right))},of:BM.of}},BM.getApplicativeValidation=BQ,BX=function(t){return{URI:BM.URI,_E:void 0,map:BN,alt:function(n,r){if((0,BM.isRight)(n))return n;var i=r();return(0,BM.isLeft)(i)?(0,BM.left)(t.concat(n.left,i.left)):i}}},BM.getAltValidation=BX,B0=function(t){return function(n){return(0,BM.isLeft)(n)?n:(0,BM.right)(t(n.right))}},BM.map=B0,BM.Functor={URI:BM.URI,map:BN},BM.of=BM.right,BM.Pointed={URI:BM.URI,of:BM.of},B1=function(t){return function(n){return(0,BM.isLeft)(n)?n:(0,BM.isLeft)(t)?t:(0,BM.right)(n.right(t.right))}},BM.apW=B1,BM.ap=BM.apW,BM.Apply={URI:BM.URI,map:BN,ap:BP},BM.Applicative={URI:BM.URI,map:BN,ap:BP,of:BM.of},B2=function(t){return function(n){return(0,BM.isLeft)(n)?n:t(n.right)}},BM.chainW=B2,BM.chain=BM.chainW,BM.Chain={URI:BM.URI,map:BN,ap:BP,chain:BL},BM.Monad={URI:BM.URI,map:BN,ap:BP,of:BM.of,chain:BL},B3=function(t,n){return function(r){return(0,BM.isLeft)(r)?t:n(t,r.right)}},BM.reduce=B3,B4=function(t){return function(n){return function(r){return(0,BM.isLeft)(r)?t.empty:n(r.right)}}},BM.foldMap=B4,B5=function(t,n){return function(r){return(0,BM.isLeft)(r)?t:n(r.right,t)}},BM.reduceRight=B5,BM.Foldable={URI:BM.URI,reduce:BF,foldMap:BD,reduceRight:BW},B6=function(t){return function(n){return function(r){return(0,BM.isLeft)(r)?t.of((0,BM.left)(r.left)):t.map(n(r.right),BM.right)}}},BM.traverse=B6,B9=function(t){return function(n){return(0,BM.isLeft)(n)?t.of((0,BM.left)(n.left)):t.map(n.right,BM.right)}},BM.sequence=B9,BM.Traversable={URI:BM.URI,map:BN,reduce:BF,foldMap:BD,reduceRight:BW,traverse:BU,sequence:BM.sequence},B8=function(t,n){return function(r){return(0,BM.isLeft)(r)?(0,BM.left)(t(r.left)):(0,BM.right)(n(r.right))}},BM.bimap=B8,B7=function(t){return function(n){return(0,BM.isLeft)(n)?(0,BM.left)(t(n.left)):n}},BM.mapLeft=B7,BM.Bifunctor={URI:BM.URI,bimap:Bz,mapLeft:BB},Ve=function(t){return function(n){return(0,BM.isLeft)(n)?t():n}},BM.altW=Ve,BM.alt=BM.altW,BM.Alt={URI:BM.URI,map:BN,alt:BV},Vt=function(t){return function(n){return(0,BM.isLeft)(n)?n:(0,BM.right)(t(n))}},BM.extend=Vt,BM.Extend={URI:BM.URI,map:BN,extend:B$},BM.ChainRec={URI:BM.URI,map:BN,ap:BP,chain:BL,chainRec:Bq},BM.throwError=BM.left,BM.MonadThrow={URI:BM.URI,map:BN,ap:BP,of:BM.of,chain:BL,throwError:BM.throwError},BM.FromEither={URI:BM.URI,fromEither:UQ.identity},BM.fromPredicate=(0,zg.fromPredicate)(BM.FromEither),BM.fromOption=(0,zg.fromOption)(BM.FromEither),BM.isLeft=BA.isLeft,BM.isRight=BA.isRight,Vn=function(t,n){return function(r){return(0,BM.isLeft)(r)?t(r.left):n(r.right)}},BM.matchW=Vn,BM.foldW=BM.matchW,BM.match=BM.matchW,BM.fold=BM.match,Vr=function(t){return function(n){return(0,BM.isLeft)(n)?t(n.left):n.right}},BM.getOrElseW=Vr,BM.getOrElse=BM.getOrElseW,BM.flap=(0,zd.flap)(BM.Functor),BM.apFirst=(0,UJ.apFirst)(BM.Apply),BM.apFirstW=BM.apFirst,BM.apSecond=(0,UJ.apSecond)(BM.Apply),BM.apSecondW=BM.apSecond,BM.chainFirst=(0,zp.chainFirst)(BM.Chain),BM.chainFirstW=BM.chainFirst,BM.flattenW=(0,BM.chainW)(UQ.identity),BM.flatten=BM.flattenW,BM.duplicate=(0,BM.extend)(UQ.identity),BM.fromOptionK=(0,zg.fromOptionK)(BM.FromEither),BM.chainOptionK=(0,zg.chainOptionK)(BM.FromEither,BM.Chain),BM.filterOrElse=(0,zg.filterOrElse)(BM.FromEither,BM.Chain),BM.filterOrElseW=BM.filterOrElse,Vi=function(t){return(0,BM.isLeft)(t)?(0,BM.right)(t.left):(0,BM.left)(t.right)},BM.swap=Vi,Vo=function(t){return function(n){return(0,BM.isLeft)(n)?t(n.left):n}},BM.orElseW=Vo,BM.orElse=BM.orElseW,Va=function(t){return function(n){return null==n?(0,BM.left)(t):(0,BM.right)(n)}},BM.fromNullable=Va,Vu=function(t,n){try{return(0,BM.right)(t())}catch(r){return(0,BM.left)(n(r))}},BM.tryCatch=Vu,Vs=function(t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return(0,BM.tryCatch)(function(){return t.apply(void 0,r)},n)}},BM.tryCatchK=Vs,Vl=function(t){var n=(0,BM.fromNullable)(t);return function(t){return(0,UQ.flow)(t,n)}},BM.fromNullableK=Vl,Vc=function(t){var n=(0,BM.fromNullableK)(t);return function(t){return(0,BM.chain)(n(t))}},BM.chainNullableK=Vc,BM.toUnion=(0,BM.foldW)(UQ.identity,UQ.identity),BM.toError=function(t){return t instanceof Error?t:Error(String(t))},BM.elem=function t(n){return function(r,i){if(void 0===i){var o=t(n);return function(t){return o(r,t)}}return!(0,BM.isLeft)(i)&&n.equals(r,i.right)}},Vd=function(t){return function(n){return!(0,BM.isLeft)(n)&&t(n.right)}},BM.exists=Vd,BM.Do=(0,BM.of)(BA.emptyRecord),BM.bindTo=(0,zd.bindTo)(BM.Functor),BM.bind=(0,zp.bind)(BM.Chain),BM.bindW=BM.bind,BM.apS=(0,UJ.apS)(BM.Apply),BM.apSW=BM.apS,BM.ApT=(0,BM.of)(BA.emptyReadonlyArray),Vf=function(t){return function(n){var r=t(0,BA.head(n));if((0,BM.isLeft)(r))return r;for(var i=[r.right],o=1;o<n.length;o++){var a=t(o,n[o]);if((0,BM.isLeft)(a))return a;i.push(a.right)}return(0,BM.right)(i)}},BM.traverseReadonlyNonEmptyArrayWithIndex=Vf,Vp=function(t){var n=(0,BM.traverseReadonlyNonEmptyArrayWithIndex)(t);return function(t){return BA.isNonEmpty(t)?n(t):BM.ApT}},BM.traverseReadonlyArrayWithIndex=Vp,BM.traverseArrayWithIndex=BM.traverseReadonlyArrayWithIndex,Vh=function(t){return(0,BM.traverseReadonlyArrayWithIndex)(function(n,r){return t(r)})},BM.traverseArray=Vh,BM.sequenceArray=(0,BM.traverseArray)(UQ.identity),BM.parseJSON=function(t,n){return(0,BM.tryCatch)(function(){return JSON.parse(t)},n)},Vm=function(t,n){return(0,BM.tryCatch)(function(){var n=JSON.stringify(t);if("string"!=typeof n)throw Error("Converting unsupported structure to JSON");return n},n)},BM.stringifyJSON=Vm,BM.either={URI:BM.URI,map:BN,of:BM.of,ap:BP,chain:BL,reduce:BF,foldMap:BD,reduceRight:BW,traverse:BU,sequence:BM.sequence,bimap:Bz,mapLeft:BB,alt:BV,extend:B$,chainRec:Bq,throwError:BM.throwError},BM.getApplySemigroup=(0,UJ.getApplySemigroup)(BM.Apply),BM.getApplyMonoid=(0,UY.getApplicativeMonoid)(BM.Applicative),Vg=function(t,n){return(0,UJ.getApplySemigroup)((0,BM.getApplicativeValidation)(t))(n)},BM.getValidationSemigroup=Vg,Vy=function(t,n){return(0,UY.getApplicativeMonoid)((0,BM.getApplicativeValidation)(t))(n)},BM.getValidationMonoid=Vy,BM.getValidation=function(t){var n=(0,BM.getApplicativeValidation)(t).ap,r=(0,BM.getAltValidation)(t).alt;return{URI:BM.URI,_E:void 0,map:BN,of:BM.of,chain:BL,bimap:Bz,mapLeft:BB,reduce:BF,foldMap:BD,reduceRight:BW,extend:B$,traverse:BU,sequence:BM.sequence,chainRec:Bq,throwError:BM.throwError,ap:n,alt:r}};var zU=globalThis&&globalThis.__extends||(Vv=function(t,n){return(Vv=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}Vv(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),zz=globalThis&&globalThis.__assign||function(){return(zz=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},zB=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},zV=function(t,n,r){return rw([{value:t,context:n,message:r}])},z$=function(){function t(t,n,r,i){this.name=t,this.is=n,this.validate=r,this.encode=i,this.decode=this.decode.bind(this)}return t.prototype.pipe=function(n,r){var i=this;return void 0===r&&(r="pipe(".concat(this.name,", ").concat(n.name,")")),new t(r,n.is,function(t,r){var o=i.validate(t,r);return gi(o)?o:n.validate(o.right,r)},this.encode===zq&&n.encode===zq?zq:function(t){return i.encode(n.encode(t))})},t.prototype.asDecoder=function(){return this},t.prototype.asEncoder=function(){return this},t.prototype.decode=function(t){return this.validate(t,[{key:"",type:this,actual:t}])},t}(),zq=function(t){return t};function zK(t){return t.displayName||t.name||"<function".concat(t.length,">")}function zH(t,n,r,i){for(var o=t.length,a=Array(o+1),u=0;u<o;u++)a[u]=t[u];return a[o]={key:n,type:r,actual:i},a}function zG(t,n){for(var r=n.length,i=0;i<r;i++)t.push(n[i])}var zZ=Object.prototype.hasOwnProperty;function zY(t){return Object.keys(t).map(function(n){return"".concat(n,": ").concat(t[n].name)}).join(", ")}function zJ(t){for(var n=0;n<t.length;n++)if(t[n].encode!==zq)return!1;return!0}function zQ(t){return"{ ".concat(zY(t)," }")}function zX(t){return"Partial<".concat(t,">")}function z0(t){if(z8(t)){var n,r,i=t.value;if(Bp.is(i))return(n={})[i]=null,n}else{if(r=t,"KeyofType"===r._tag)return t.keys;if(Be(t)){var o=t.types.map(function(t){return z0(t)});return o.some(Bu.is)?void 0:Object.assign.apply(Object,zB([{}],o,!1))}}}function z1(t){return"("+t.map(function(t){return t.name}).join(" | ")+")"}function z2(t,n){for(var r=!0,i=!0,o=!BT.is(t),a=0;a<n.length;a++){var u=n[a];u!==t&&(r=!1),BT.is(u)&&(i=!1)}if(r)return t;if(i)return n[n.length-1];for(var s={},l=0;l<n.length;l++){var u=n[l];for(var c in u)(!zZ.call(s,c)||o||u[c]!==t[c])&&(s[c]=u[c])}return s}function z3(t,n){for(var r=Object.getOwnPropertyNames(t),i=!1,o={},a=0;a<r.length;a++){var u=r[a];zZ.call(n,u)?o[u]=t[u]:i=!0}return i?o:t}function z4(t){return t.length>0}var z5={};function z6(t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i];-1!==n.indexOf(o)&&r.push(o)}return r}function z9(t){return"AnyType"===t._tag}function z8(t){return"LiteralType"===t._tag}function z7(t){return"InterfaceType"===t._tag}function Be(t){return"UnionType"===t._tag}var Bt=[];function Bn(t){if(-1!==Bt.indexOf(t))return z5;if(z7(t)||"StrictType"===(n=t)._tag){var n,r,i,o,a,u=z5;for(var s in t.props){var l=t.props[s];z8(l)&&(u===z5&&(u={}),u[s]=[l.value])}return u}if("ExactType"===t._tag||"RefinementType"===t._tag)return Bn(t.type);if("IntersectionType"===t._tag)return t.types.reduce(function(t,n){return function(t,n){if(t===z5)return n;if(n===z5)return t;var r=Object.assign({},t);for(var i in n)if(zZ.call(t,i)){var o=z6(t[i],n[i]);if(z4(o))r[i]=o;else{r=z5;break}}else r[i]=n[i];return r}(t,Bn(n))},z5);if(Be(t))return t.types.slice(1).reduce(function(t,n){return function(t,n){if(t===z5||n===z5)return z5;var r=z5;for(var i in t)zZ.call(n,i)&&0===z6(t[i],n[i]).length&&(r===z5&&(r={}),r[i]=t[i].concat(n[i]));return r}(t,Bn(n))},Bn(t.types[0]));if("RecursiveType"===t._tag){Bt.push(t);var c=Bn(t.type);return Bt.pop(),c}return z5}function Br(t){var n=Bn(t[0]),r=Object.keys(n),i=t.length;e:for(var o=0;o<r.length;o++){var a=function(r){for(var o=n[r].slice(),a=[n[r]],u=1;u<i;u++){var s=Bn(t[u])[r];if(void 0===s||s.some(function(t){return -1!==o.indexOf(t)}))return"continue-keys";o.push.apply(o,s),a.push(s)}return{value:[r,a]}}(r[o]);if("object"==typeof a)return a.value;if("continue-keys"===a)continue e}}var Bi=function(t){function n(){var n=t.call(this,"null",function(t){return null===t},function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="NullType",n}return zU(n,t),n}(z$),Bo=new Bi,Ba=function(t){function n(){var n=t.call(this,"undefined",function(t){return void 0===t},function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="UndefinedType",n}return zU(n,t),n}(z$),Bu=new Ba,Bs=function(t){function n(){var n=t.call(this,"void",Bu.is,Bu.validate,zq)||this;return n._tag="VoidType",n}return zU(n,t),n}(z$),Bl=new Bs,Bc=function(t){function n(){var n=t.call(this,"unknown",function(t){return!0},rO,zq)||this;return n._tag="UnknownType",n}return zU(n,t),n}(z$),Bd=new Bc,Bf=function(t){function n(){var n=t.call(this,"string",function(t){return"string"==typeof t},function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="StringType",n}return zU(n,t),n}(z$),Bp=new Bf,Bh=function(t){function n(){var n=t.call(this,"number",function(t){return"number"==typeof t},function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="NumberType",n}return zU(n,t),n}(z$),Bm=new Bh,Bg=function(t){function n(){var n=t.call(this,"bigint",function(t){return"bigint"==typeof t},function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="BigIntType",n}return zU(n,t),n}(z$),By=new Bg,Bv=function(t){function n(){var n=t.call(this,"boolean",function(t){return"boolean"==typeof t},function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="BooleanType",n}return zU(n,t),n}(z$),Bb=new Bv,Bx=function(t){function n(){var n=t.call(this,"UnknownArray",Array.isArray,function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="AnyArrayType",n}return zU(n,t),n}(z$),B_=new Bx,BS=function(t){function n(){var n=t.call(this,"UnknownRecord",function(t){var n=Object.prototype.toString.call(t);return"[object Object]"===n||"[object Window]"===n},function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="AnyDictionaryType",n}return zU(n,t),n}(z$),BT=new BS,Bw=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.value=a,u._tag="LiteralType",u}return zU(n,t),n}(z$);function BO(t,n){void 0===n&&(n=JSON.stringify(t));var r=function(n){return n===t};return new Bw(n,r,function(n,i){return r(n)?rO(t):zV(n,i)},zq,t)}var Bk=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.keys=a,u._tag="KeyofType",u}return zU(n,t),n}(z$),BC=function(t){function n(n,r,i,o,a,u){var s=t.call(this,n,r,i,o)||this;return s.type=a,s.predicate=u,s._tag="RefinementType",s}return zU(n,t),n}(z$);function BI(t,n,r){return VX(t,n,r)}var BM,BR,BE,Bj,BA,BN,BP,BL,BF,BD,BW,BU,Bz,BB,BV,B$,Bq,BK,BH,BG,BZ,BY,BJ,BQ,BX,B0,B1,B2,B3,B4,B5,B6,B9,B8,B7,Ve,Vt,Vn,Vr,Vi,Vo,Va,Vu,Vs,Vl,Vc,Vd,Vf,Vp,Vh,Vm,Vg,Vy,Vv,Vb,Vx,V_=VX(Bm,Vx=function(t){return Number.isInteger(t)},"Int"),VS=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.runDefinition=a,u._tag="RecursiveType",u}return zU(n,t),n}(z$);function VT(t,n){var r,i=function(){return r||((r=n(o)).name=t),r},o=new VS(t,function(t){return i().is(t)},function(t,n){return i().validate(t,n)},function(t){return i().encode(t)},i);return o}Object.defineProperty(VS.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var Vw=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.type=a,u._tag="ArrayType",u}return zU(n,t),n}(z$);function VO(t,n){return void 0===n&&(n="Array<".concat(t.name,">")),new Vw(n,function(n){return B_.is(n)&&n.every(t.is)},function(n,r){var i=B_.validate(n,r);if(gi(i))return i;for(var o=i.right,a=o.length,u=o,s=[],l=0;l<a;l++){var c=o[l],d=t.validate(c,zH(r,String(l),t,c));if(gi(d))zG(s,d.left);else{var f=d.right;f!==c&&(u===o&&(u=o.slice()),u[l]=f)}}return s.length>0?rw(s):rO(u)},t.encode===zq?zq:function(n){return n.map(t.encode)},t)}var Vk=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.props=a,u._tag="InterfaceType",u}return zU(n,t),n}(z$);function VC(t,n){void 0===n&&(n=zQ(t));var r=Object.keys(t),i=r.map(function(n){return t[n]}),o=r.length;return new Vk(n,function(t){if(BT.is(t)){for(var n=0;n<o;n++){var a=r[n],u=t[a];if(void 0===u&&!zZ.call(t,a)||!i[n].is(u))return!1}return!0}return!1},function(t,n){var a=BT.validate(t,n);if(gi(a))return a;for(var u=a.right,s=u,l=[],c=0;c<o;c++){var d=r[c],f=s[d],p=i[c],h=p.validate(f,zH(n,d,p,f));if(gi(h))zG(l,h.left);else{var m=h.right;m===f&&(void 0!==m||zZ.call(s,d))||(s===u&&(s=zz({},u)),s[d]=m)}}return l.length>0?rw(l):rO(s)},zJ(i)?zq:function(t){for(var n=zz({},t),a=0;a<o;a++){var u=r[a],s=i[a].encode;s!==zq&&(n[u]=s(t[u]))}return n},t)}var VI=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.props=a,u._tag="PartialType",u}return zU(n,t),n}(z$),VM=function(t){function n(n,r,i,o,a,u){var s=t.call(this,n,r,i,o)||this;return s.domain=a,s.codomain=u,s._tag="DictionaryType",s}return zU(n,t),n}(z$);function VR(t,n,r){var i,o,a,u,s,l,c,d,f=z0(t);return f?(i=Object.keys(f),void 0===(u=r)&&(u="{ [K in ".concat(t.name,"]: ").concat(n.name," }")),s=i.length,new VM(u,function(t){return BT.is(t)&&i.every(function(r){return n.is(t[r])})},function(t,r){var o=BT.validate(t,r);if(gi(o))return o;for(var a=o.right,u={},l=[],c=!1,d=0;d<s;d++){var f=i[d],p=a[f],h=n.validate(p,zH(r,f,n,p));if(gi(h))zG(l,h.left);else{var m=h.right;c=c||m!==p,u[f]=m}}return l.length>0?rw(l):rO(c||Object.keys(a).length!==s?u:a)},n.encode===zq?zq:function(t){for(var r={},o=0;o<s;o++){var a=i[o];r[a]=n.encode(t[a])}return r},t,n)):(l=t,void 0===(d=r)&&(d="{ [K in ".concat(l.name,"]: ").concat(n.name," }")),new VM(d,function(t){return BT.is(t)?Object.keys(t).every(function(r){return l.is(r)&&n.is(t[r])}):z9(n)&&Array.isArray(t)},function(t,r){if(BT.is(t)){for(var i={},o=[],a=Object.keys(t),u=a.length,s=!1,c=0;c<u;c++){var d=a[c],f=t[d],p=l.validate(d,zH(r,d,l,d));if(gi(p))zG(o,p.left);else{var h=p.right;s=s||h!==d,d=h;var m=n.validate(f,zH(r,d,n,f));if(gi(m))zG(o,m.left);else{var g=m.right;s=s||g!==f,i[d]=g}}}return o.length>0?rw(o):rO(s?i:t)}return z9(n)&&Array.isArray(t)?rO(t):zV(t,r)},l.encode===zq&&n.encode===zq?zq:function(t){for(var r={},i=Object.keys(t),o=i.length,a=0;a<o;a++){var u=i[a];r[String(l.encode(u))]=n.encode(t[u])}return r},l,n))}var VE=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.types=a,u._tag="UnionType",u}return zU(n,t),n}(z$);function Vj(t,n){void 0===n&&(n=z1(t));var r=Br(t);if(void 0===r||!(t.length>0))return new VE(n,function(n){return t.some(function(t){return t.is(n)})},function(n,r){for(var i=[],o=0;o<t.length;o++){var a=t[o],u=a.validate(n,zH(r,String(o),a,n));if(!gi(u))return rO(u.right);zG(i,u.left)}return rw(i)},zJ(t)?zq:function(r){for(var i=0;i<t.length;i++){var o=t[i];if(o.is(r))return o.encode(r)}throw Error("no codec found to encode value in union type ".concat(n))},t);var i=r[0],o=r[1],a=o.length,u=function(t){for(var n=0;n<a;n++)if(-1!==o[n].indexOf(t))return n};return new VV(n,function(n){if(BT.is(n)){var r=u(n[i]);return void 0!==r&&t[r].is(n)}return!1},function(n,r){var o=BT.validate(n,r);if(gi(o))return o;var a=o.right,s=u(a[i]);if(void 0===s)return zV(n,r);var l=t[s];return l.validate(a,zH(r,String(s),l,a))},zJ(t)?zq:function(r){var o=u(r[i]);if(void 0===o)throw Error("no codec found to encode value in union codec ".concat(n));return t[o].encode(r)},t,i)}var VA=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.types=a,u._tag="IntersectionType",u}return zU(n,t),n}(z$),VN=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.types=a,u._tag="TupleType",u}return zU(n,t),n}(z$),VP=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.type=a,u._tag="ReadonlyType",u}return zU(n,t),n}(z$),VL=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.type=a,u._tag="ReadonlyArrayType",u}return zU(n,t),n}(z$);function VF(t,n){void 0===n&&(n="ReadonlyArray<".concat(t.name,">"));var r=VO(t);return new VL(n,r.is,r.validate,r.encode,t)}var VD=function(t,n){return VU(VC(t),n)},VW=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.type=a,u._tag="ExactType",u}return zU(n,t),n}(z$);function VU(t,n){void 0===n&&(n=z7(i=t)?"{| ".concat(zY(i.props)," |}"):(r=i,"PartialType"===r._tag)?zX("{| ".concat(zY(i.props)," |}")):"Exact<".concat(i.name,">"));var r,i,o=function t(n){switch(n._tag){case"RefinementType":case"ReadonlyType":return t(n.type);case"InterfaceType":case"StrictType":case"PartialType":return n.props;case"IntersectionType":return n.types.reduce(function(n,r){return Object.assign(n,t(r))},{})}}(t);return new VW(n,t.is,function(n,r){var i=BT.validate(n,r);if(gi(i))return i;var a=t.validate(n,r);return gi(a)?a:rO(z3(a.right,o))},function(n){return t.encode(z3(n,o))},t)}var Vz=function(t){function n(){var n=t.call(this,"Function",function(t){return"function"==typeof t},function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="FunctionType",n}return zU(n,t),n}(z$),VB=new Vz,VV=function(t){function n(n,r,i,o,a,u){var s=t.call(this,n,r,i,o,a)||this;return s.tag=u,s}return zU(n,t),n}(VE),V$=function(t,n,r){void 0===r&&(r=z1(n));var i=Vj(n,r);return i instanceof VV?i:(console.warn("[io-ts] Cannot build a tagged union for ".concat(r,", returning a de-optimized union")),new VV(r,i.is,i.validate,i.encode,n,t))},Vq=function(t,n){return{value:t,context:n}},VK=function(t){return[{key:"",type:t}]},VH=function(t){function n(){var n=t.call(this,"never",function(t){return!1},function(t,n){return zV(t,n)},function(){throw Error("cannot encode never")})||this;return n._tag="NeverType",n}return zU(n,t),n}(z$),VG=new VH,VZ=function(t){function n(){var n=t.call(this,"any",function(t){return!0},rO,zq)||this;return n._tag="AnyType",n}return zU(n,t),n}(z$),VY=new VZ,VJ=function(t){function n(){var n=t.call(this,"object",function(t){return null!==t&&"object"==typeof t},function(t,r){return n.is(t)?rO(t):zV(t,r)},zq)||this;return n._tag="ObjectType",n}return zU(n,t),n}(z$),VQ=new VJ;function VX(t,n,r){return void 0===r&&(r="(".concat(t.name," | ").concat(zK(n),")")),new BC(r,function(r){return t.is(r)&&n(r)},function(r,i){var o=t.validate(r,i);if(gi(o))return o;var a=o.right;return n(a)?rO(a):zV(a,i)},t.encode,t,n)}var V0=VX(Bm,Number.isInteger,"Integer"),V1=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.props=a,u._tag="StrictType",u}return zU(n,t),n}(z$);function V2(t){return t}let V3=Object.freeze(Object.defineProperty({__proto__:null,AnyArrayType:Bx,AnyDictionaryType:BS,AnyType:VZ,Array:B_,ArrayType:Vw,BigIntType:Bg,BooleanType:Bv,Dictionary:BT,DictionaryType:VM,ExactType:VW,Function:VB,FunctionType:Vz,Int:V_,Integer:V0,InterfaceType:Vk,IntersectionType:VA,KeyofType:Bk,LiteralType:Bw,NeverType:VH,NullType:Bi,NumberType:Bh,ObjectType:VJ,PartialType:VI,ReadonlyArrayType:VL,ReadonlyType:VP,RecursiveType:VS,RefinementType:BC,StrictType:V1,StringType:Bf,TaggedUnionType:VV,TupleType:VN,Type:z$,UndefinedType:Ba,UnionType:VE,UnknownArray:B_,UnknownRecord:BT,UnknownType:Bc,VoidType:Bs,alias:function(t){return function(){return t}},any:VY,appendContext:zH,array:VO,bigint:By,boolean:Bb,brand:BI,clean:V2,dictionary:VR,emptyTags:z5,exact:VU,failure:zV,failures:rw,getContextEntry:function(t,n){return{key:t,type:n}},getDefaultContext:VK,getDomainKeys:z0,getFunctionName:zK,getIndex:Br,getTags:Bn,getValidationError:Vq,identity:zq,interface:VC,intersection:function(t,n){void 0===n&&(n="(".concat(t.map(function(t){return t.name}).join(" & "),")"));var r=t.length;return new VA(n,function(n){return t.every(function(t){return t.is(n)})},0===t.length?rO:function(n,i){for(var o=[],a=[],u=0;u<r;u++){var s=t[u],l=s.validate(n,zH(i,String(u),s,n));gi(l)?zG(a,l.left):o.push(l.right)}return a.length>0?rw(a):rO(z2(n,o))},0===t.length?zq:function(n){return z2(n,t.map(function(t){return t.encode(n)}))},t)},keyof:function(t,n){void 0===n&&(n=Object.keys(t).map(function(t){return JSON.stringify(t)}).join(" | "));var r=function(n){return Bp.is(n)&&zZ.call(t,n)};return new Bk(n,r,function(t,n){return r(t)?rO(t):zV(t,n)},zq,t)},literal:BO,mergeAll:z2,never:VG,null:Bo,nullType:Bo,number:Bm,object:VQ,partial:function(t,n){void 0===n&&(n=zX(zQ(t)));var r=Object.keys(t),i=r.map(function(n){return t[n]}),o=r.length;return new VI(n,function(n){if(BT.is(n)){for(var i=0;i<o;i++){var a=r[i],u=n[a];if(void 0!==u&&!t[a].is(u))return!1}return!0}return!1},function(n,i){var a=BT.validate(n,i);if(gi(a))return a;for(var u=a.right,s=u,l=[],c=0;c<o;c++){var d=r[c],f=s[d],p=t[d],h=p.validate(f,zH(i,d,p,f));if(gi(h))void 0!==f&&zG(l,h.left);else{var m=h.right;m!==f&&(s===u&&(s=zz({},u)),s[d]=m)}}return l.length>0?rw(l):rO(s)},zJ(i)?zq:function(t){for(var n=zz({},t),a=0;a<o;a++){var u=r[a],s=t[u];void 0!==s&&(n[u]=i[a].encode(s))}return n},t)},readonly:function(t,n){return void 0===n&&(n="Readonly<".concat(t.name,">")),new VP(n,t.is,t.validate,t.encode,t)},readonlyArray:VF,record:VR,recursion:VT,refinement:VX,strict:VD,string:Bp,success:rO,taggedUnion:V$,tuple:function(t,n){void 0===n&&(n="[".concat(t.map(function(t){return t.name}).join(", "),"]"));var r=t.length;return new VN(n,function(n){return B_.is(n)&&n.length===r&&t.every(function(t,r){return t.is(n[r])})},function(n,i){var o=B_.validate(n,i);if(gi(o))return o;for(var a=o.right,u=a.length>r?a.slice(0,r):a,s=[],l=0;l<r;l++){var c=a[l],d=t[l],f=d.validate(c,zH(i,String(l),d,c));if(gi(f))zG(s,f.left);else{var p=f.right;p!==c&&(u===a&&(u=a.slice()),u[l]=p)}}return s.length>0?rw(s):rO(u)},zJ(t)?zq:function(n){return t.map(function(t,r){return t.encode(n[r])})},t)},type:VC,undefined:Bu,union:Vj,unknown:Bd,void:Bl,voidType:Bl},Symbol.toStringTag,{value:"Module"})),V4=C(V3);var V5={};Object.defineProperty(V5,"__esModule",{value:!0}),V5.ContentPath=void 0,V5.ContentPath={serialize:t=>t.map(t=>t.key).join("::"),current:t=>t[t.length-1],append:(t,n)=>t+"::"+n,make:t=>t.reduce((t,{key:n,type:r})=>n?t.concat({key:n,type:r}):t,[])};var V6={},V9={};Object.defineProperty(V9,"__esModule",{value:!0}),V9.getAssetOrThrow=void 0;let V8=t=>n=>{let r=t[n];if(!r)throw Error(`Missing asset with id '${n}'!`);return r};V9.getAssetOrThrow=V8;var V7={};Object.defineProperty(V7,"__esModule",{value:!0}),V7.getEmbedOrThrow=void 0;let $e=t=>n=>{let r=t[n];if(!r)throw Error(`Missing embed with url '${n}'`);return r};V7.getEmbedOrThrow=$e;var $t={},$n={};let $r=C(rg);function $i(t,n,r){return void 0===r&&(r=t.name),new z$(r,t.is,t.validate,function(r){return n(t.encode(r))})}let $o=Object.freeze(Object.defineProperty({__proto__:null,mapOutput:$i},Symbol.toStringTag,{value:"Module"}));var $a,$u,$s,$l=VX(Bp,$u=function(t){return t.length>0},"NonEmptyString");function $c(t,n){void 0===n&&(n="NonEmptyArray<"+t.name+">");var r=VO(t);return new z$(n,function(t){return r.is(t)&&aR(t)},function(t,n){return rp(r.validate(t,n),mQ(function(r){var i=az(r);return hk(i)?zV(t,n):rO(i.value)}))},function(t){return r.encode(t)})}function $d(t,n,r){void 0===r&&(r="Set<"+t.name+">");var i=VO(t),o=NL(n),a=NM(n);return new z$(r,function(n){return n instanceof Set&&j$(t.is)(n)},function(t,n){return rp(i.validate(t,n),mQ(function(r){var i=a(r);return i.size!==r.length?zV(t,n):rO(i)}))},function(t){return i.encode(o(t))})}function $f(t,n){return new z$(t,n,function(t,r){return n(t)?rO(t):zV(t,r)},zq)}var $p=$f("Date",function(t){return t instanceof Date}),$h=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},$m=function(t,n){return{get:t,reverseGet:n}},$g=function(t){return $x(t.get,rs(t.reverseGet,rr))},$y=function(t){return $E(rs(t.get,r_),t.reverseGet)},$v=function(t){return $L(rs(t.get,r_),rs(t.reverseGet,rr))},$b=function(t){return $B(function(n){return function(r){return function(i){return n.map(r(t.get(i)),function(n){return t.reverseGet(n)})}}})},$x=function(t,n){return{get:t,set:n}},$_=function(t){return $L(rs(t.get,r_),t.set)},$S=function(t){return $B(function(n){return function(r){return function(i){return n.map(r(t.get(i)),function(n){return t.set(n)(i)})}}})},$T=function(t){return function(n){return $x(function(r){return t.get(n.get(r))},function(r){return function(i){return n.set(t.set(r)(n.get(i)))(i)}})}},$w=function(t){return function(n){return $E(rs(n.getOption,p6(t.getOption)),rs(t.reverseGet,n.reverseGet))}},$O=function(t){return function(n){return $U($j(t))($_(n))}},$k=function(){return $x(rn,rr)},$C=function(t){return function(n){return $x(function(r){return n.get(r)[t]},function(r){return function(i){var o,a=n.get(i);return r===a[t]?i:n.set(Object.assign({},a,((o={})[t]=r,o)))(i)}})}},$I=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){return $x(function(r){for(var i=n.get(r),o={},a=0;a<t.length;a++){var u=t[a];o[u]=i[u]}return o},function(r){return function(i){for(var o=n.get(i),a=0;a<t.length;a++){var u=t[a];if(r[u]!==o[u])return n.set(Object.assign({},o,r))(i)}return i}})}},$M=function(t){return function(n){return $x(function(r){return n.get(r)[t]},function(r){return function(i){var o=n.get(i);if(r===o[t])return i;var a=o.slice();return a[t]=r,n.set(a)(i)}})}},$R=function(t){return function(n){var r;return rp(n,$T(({at:r=function(t){return $x(function(n){return El(t,n)},hC(function(){return Eo(t)},function(n){return Er(t,n)}))}}).at(t)))}},$E=function(t,n){return{getOption:t,reverseGet:n}},$j=function(t){return $L(t.getOption,function(n){return $N(n)(t)})},$A=function(t){return $B(function(n){return function(r){return function(i){return rp(t.getOption(i),hC(function(){return n.of(i)},function(o){return n.map(r(o),function(n){return $N(n)(t)(i)})}))}}})},$N=function(t){var n;return n=function(){return t},function(t){var r,i,o=(r=t,function(t){return rp(r.getOption(t),p0(function(i){var o=n(i);return o===i?t:r.reverseGet(o)}))});return function(t){return rp(o(t),hI(function(){return t}))}}},$P=function(t){return $E(pA(t),rn)},$L=function(t,n){return{getOption:t,set:n}},$F=function(t){return $B(function(n){return function(r){return function(i){return rp(t.getOption(i),hC(function(){return n.of(i)},function(o){return n.map(r(o),function(n){return t.set(n)(i)})}))}}})},$D=function(t){return function(n){return function(r){return rp(n.getOption(r),p0(function(i){var o=t(i);return o===i?r:n.set(o)(r)}))}}},$W=function(t){return function(n){var r=$D(t)(n);return function(t){return rp(r(t),hI(function(){return t}))}}},$U=function(t){return function(n){return $L(rs(n.getOption,p6(t.getOption)),function(r){return $W(t.set(r))(n)})}},$z=function(t,n,r){if(r[t]===n)return r;var i=$h([r[0]],r.slice(1),!0);return i[t]=n,i},$B=function(t){return{modifyF:t}};function $V(t){return function(n){return $B(function(r){return function(i){return n.modifyF(r)(t.modifyF(r)(i))}})}}var $$={URI:"Identity",map:function(t,n){return n(t)},of:rn,ap:function(t,n){return t(n)}},$q=function(t){return{index:t}},$K=rs($g,$T),$H=function(t){return rs($_,$U(t))},$G=function(t){return rs($S,$V(t))},$Z=function(t){return function(n){return function(r){var i=n.get(r),o=t(i);return i===o?r:n.set(o)(r)}}},$Y=function(t){return $O($E(hF,rn))(t)},$J=function(t){var n;return rs($_,function(n){return rp(n,$U($q(function(t){return $L(function(n){return sW(t,n)},function(n){return function(r){return rp(sW(t,r),hC(function(){return r},function(){return cF(t,n,r)}))}})}).index(t)))})},$Q=function(t){var n;return rs($_,function(n){return rp(n,$U($q(function(t){return $L(function(n){return sW(t,n)},function(n){return function(r){return rp(sW(t,r),hC(function(){return r},function(){return $z(t,n,r)}))}})}).index(t)))})},$X=function(t){var n;return rs($_,function(n){return rp(n,$U($q(function(t){return $L(function(n){return El(t,n)},function(n){return function(r){return r[t]===n||hk(El(t,r))?r:Er(t,n)(r)}})}).index(t)))})},$0=$O($E(rn,r_)),$1=$O($E(pP,rO)),$2=$O($E(function(t){return gi(t)?r_(t.left):rx},rw)),$3=function(t,n){return function(r){return $4(r,t,n)}},$4=function(t,n,r){return $x(rs(t.get,n),rs(r,t.set))},$5="monocle-ts/Lens",$6={URI:$5,compose:function(t,n){return $T(t)(n)}},$9={URI:$5,compose:$6.compose,id:$k};let $8=Object.freeze(Object.defineProperty({__proto__:null,Category:$9,Invariant:{URI:$5,imap:$4},Semigroupoid:$6,URI:$5,asOptional:$_,asTraversal:$S,atKey:$R,component:$M,compose:$T,composeIso:$K,composeLens:$T,composeOptional:$H,composePrism:$O,composeTraversal:$G,filter:function(t){return $O($P(t))},findFirst:function(t){var n;return $H($L(sY(t),function(n){return function(r){return rp(sZ(t)(r),hC(function(){return r},function(t){return cF(t,n,r)}))}}))},findFirstNonEmpty:function(t){var n;return $H($L(sY(t),function(n){return function(r){return rp(sZ(t)(r),hC(function(){return r},function(t){return $z(t,n,r)}))}}))},fromNullable:$Y,id:$k,imap:$3,index:$J,indexNonEmpty:$Q,key:$X,left:$2,lens:$x,modify:$Z,modifyF:function(t){return function(n){return function(r){return function(i){return rp(r.get(i),n,function(n){return t.map(n,function(t){return r.set(t)(i)})})}}}},prop:$C,props:$I,right:$1,some:$0,traverse:function(t){var n,r;return rs($S,$V($B(function(n){var r,i="Identity"===n.URI?t.map:t.traverse(n);return function(t){return function(n){return i(n,t)}}})))}},Symbol.toStringTag,{value:"Module"}));var $7=function(t){return function(n){return n.modifyF($$)(t)}},qe=function(t){return new qa(t.get,t.reverseGet)},qt=function(t){return new qu(t.get,t.set)},qn=function(t){return new qs(t.getOption,t.reverseGet)},qr=function(t){return new qc(t.getOption,t.set)},qi=function(t){return new qd(t.modifyF)},qo=function(t,n,r){var i;return r===t[n]?t:Object.assign({},t,((i={})[n]=r,i))},qa=function(){function t(t,n){this.get=t,this.reverseGet=n,this._tag="Iso",this.unwrap=this.get,this.to=this.get,this.wrap=this.reverseGet,this.from=this.reverseGet}return t.prototype.reverse=function(){var t;return qe($m(this.reverseGet,this.get))},t.prototype.modify=function(t){var n,r;return r=this,function(n){return r.reverseGet(t(r.get(n)))}},t.prototype.asLens=function(){return qt($g(this))},t.prototype.asPrism=function(){return qn($y(this))},t.prototype.asOptional=function(){return qr($v(this))},t.prototype.asTraversal=function(){return qi($b(this))},t.prototype.asFold=function(){var t=this;return new qp(function(){return function(n){return function(r){return n(t.get(r))}}})},t.prototype.asGetter=function(){var t=this;return new qf(function(n){return t.get(n)})},t.prototype.asSetter=function(){var t=this;return new qh(function(n){return t.modify(n)})},t.prototype.compose=function(t){var n,r;return qe((r=this,$m(rs(r.get,t.get),rs(t.reverseGet,r.reverseGet))))},t.prototype.composeIso=function(t){return this.compose(t)},t.prototype.composeLens=function(t){return qt(rp(this,$g,$T(t)))},t.prototype.composePrism=function(t){return qn(rp(this,$y,$w(t)))},t.prototype.composeOptional=function(t){return qr(rp(this,$v,$U(t)))},t.prototype.composeTraversal=function(t){return qi(rp(this,$b,$V(t)))},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeGetter=function(t){return this.asGetter().compose(t)},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t}(),qu=function(){function t(t,n){this.get=t,this.set=n,this._tag="Lens"}return t.fromPath=function(){var n=t.fromProp();return function(t){var r=n(t[0]);return t.slice(1).reduce(function(t,r){return t.compose(n(r))},r)}},t.fromProp=function(){return function(t){return qt(rp($k(),$C(t)))}},t.fromProps=function(){return function(t){return qt(rp($k(),$I.apply($8,t)))}},t.fromNullableProp=function(){return function(n,r){return new t(function(t){var i=hF(t[n]);return hk(i)?r:i.value},function(t){return function(r){return qo(r,n,t)}})}},t.prototype.modify=function(t){return $Z(t)(this)},t.prototype.asOptional=function(){return qr($_(this))},t.prototype.asTraversal=function(){return qi($S(this))},t.prototype.asSetter=function(){var t=this;return new qh(function(n){return t.modify(n)})},t.prototype.asGetter=function(){var t=this;return new qf(function(n){return t.get(n)})},t.prototype.asFold=function(){var t=this;return new qp(function(){return function(n){return function(r){return n(t.get(r))}}})},t.prototype.compose=function(t){return qt($T(t)(this))},t.prototype.composeLens=function(t){return this.compose(t)},t.prototype.composeGetter=function(t){return this.asGetter().compose(t)},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeOptional=function(t){return qr(rp(this,$_,$U(t)))},t.prototype.composeTraversal=function(t){return qi(rp(this,$S,$V(t)))},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t.prototype.composeIso=function(t){return qt(rp(this,$T(rp(t,$g))))},t.prototype.composePrism=function(t){return qr($O(t)(this))},t}(),qs=function(){function t(t,n){this.getOption=t,this.reverseGet=n,this._tag="Prism"}return t.fromPredicate=function(t){return qn($P(t))},t.some=function(){return ql},t.prototype.modify=function(t){var n=this;return function(r){var i=n.modifyOption(t)(r);return hk(i)?r:i.value}},t.prototype.modifyOption=function(t){var n=this;return function(r){return h0.map(n.getOption(r),function(i){var o=t(i);return o===i?r:n.reverseGet(o)})}},t.prototype.set=function(t){return this.modify(function(){return t})},t.prototype.asOptional=function(){return qr($j(this))},t.prototype.asTraversal=function(){return qi($A(this))},t.prototype.asSetter=function(){var t=this;return new qh(function(n){return t.modify(n)})},t.prototype.asFold=function(){var t=this;return new qp(function(n){return function(r){return function(i){var o=t.getOption(i);return hk(o)?n.empty:r(o.value)}}})},t.prototype.compose=function(t){return qn($w(t)(this))},t.prototype.composePrism=function(t){return this.compose(t)},t.prototype.composeOptional=function(t){return qr(rp(this,$j,$U(t)))},t.prototype.composeTraversal=function(t){return qi(rp(this,$A,$V(t)))},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t.prototype.composeIso=function(t){return qn(rp(this,$w(rp(t,$y))))},t.prototype.composeLens=function(t){var n;return qr((n=t,function(t){return $U($_(n))($j(t))})(this))},t.prototype.composeGetter=function(t){return this.asFold().compose(t.asFold())},t}(),ql=new qs(rn,r_),qc=function(){function t(t,n){this.getOption=t,this.set=n,this._tag="Optional"}return t.fromPath=function(){var n=t.fromNullableProp();return function(t){var r=n(t[0]);return t.slice(1).reduce(function(t,r){return t.compose(n(r))},r)}},t.fromNullableProp=function(){return function(n){return new t(function(t){return hF(t[n])},function(t){return function(r){return null==r[n]?r:qo(r,n,t)}})}},t.fromOptionProp=function(){var t=qu.fromProp();return function(n){return t(n).composePrism(ql)}},t.prototype.modify=function(t){return $W(t)(this)},t.prototype.modifyOption=function(t){return $D(t)(this)},t.prototype.asTraversal=function(){return qi($F(this))},t.prototype.asFold=function(){var t=this;return new qp(function(n){return function(r){return function(i){var o=t.getOption(i);return hk(o)?n.empty:r(o.value)}}})},t.prototype.asSetter=function(){var t=this;return new qh(function(n){return t.modify(n)})},t.prototype.compose=function(t){return qr($U(t)(this))},t.prototype.composeOptional=function(t){return this.compose(t)},t.prototype.composeTraversal=function(t){return qi(rp(this,$F,$V(t)))},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t.prototype.composeLens=function(t){return qr(rp(this,$U(rp(t,$_))))},t.prototype.composePrism=function(t){return qr(rp(this,$U(rp(t,$j))))},t.prototype.composeIso=function(t){return qr(rp(this,$U(rp(t,$v))))},t.prototype.composeGetter=function(t){return this.asFold().compose(t.asFold())},t}(),qd=function(){function t(t){this.modifyF=t,this._tag="Traversal"}return t.prototype.modify=function(t){return $7(t)(this)},t.prototype.set=function(t){var n;return $7(function(){return t})(this)},t.prototype.filter=function(t){var n;return qi($V($A($P(t)))(this))},t.prototype.asFold=function(){var t=this;return new qp(function(n){return function(r){return t.modifyF(mo(n))(function(t){return rn(r(t))})}})},t.prototype.asSetter=function(){var t=this;return new qh(function(n){return t.modify(n)})},t.prototype.compose=function(t){return qi($V(t)(this))},t.prototype.composeTraversal=function(t){return this.compose(t)},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t.prototype.composeOptional=function(t){return this.compose(t.asTraversal())},t.prototype.composeLens=function(t){return qi(rp(this,$V(rp(t,$S))))},t.prototype.composePrism=function(t){return qi(rp(this,$V(rp(t,$A))))},t.prototype.composeIso=function(t){return qi(rp(this,$V(rp(t,$b))))},t.prototype.composeGetter=function(t){return this.asFold().compose(t.asFold())},t}(),qf=function(){function t(t){this.get=t,this._tag="Getter"}return t.prototype.asFold=function(){var t=this;return new qp(function(){return function(n){return function(r){return n(t.get(r))}}})},t.prototype.compose=function(n){var r=this;return new t(function(t){return n.get(r.get(t))})},t.prototype.composeGetter=function(t){return this.compose(t)},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeLens=function(t){return this.compose(t.asGetter())},t.prototype.composeIso=function(t){return this.compose(t.asGetter())},t.prototype.composeTraversal=function(t){return this.asFold().compose(t.asFold())},t.prototype.composeOptional=function(t){return this.asFold().compose(t.asFold())},t.prototype.composePrism=function(t){return this.asFold().compose(t.asFold())},t}(),qp=function(){function t(t){this.foldMap=t,this._tag="Fold",this.getAll=t(fw())(a3),this.exist=t(wN),this.all=t(wA),this.foldMapFirst=t(h3())}return t.prototype.compose=function(n){var r=this;return new t(function(t){return function(i){return r.foldMap(t)(n.foldMap(t)(i))}})},t.prototype.composeFold=function(t){return this.compose(t)},t.prototype.composeGetter=function(t){return this.compose(t.asFold())},t.prototype.composeTraversal=function(t){return this.compose(t.asFold())},t.prototype.composeOptional=function(t){return this.compose(t.asFold())},t.prototype.composeLens=function(t){return this.compose(t.asFold())},t.prototype.composePrism=function(t){return this.compose(t.asFold())},t.prototype.composeIso=function(t){return this.compose(t.asFold())},t.prototype.find=function(t){return this.foldMapFirst(pA(t))},t.prototype.headOption=function(t){return this.find(function(){return!0})(t)},t}(),qh=function(){function t(t){this.modify=t,this._tag="Setter"}return t.prototype.set=function(t){return this.modify(rr(t))},t.prototype.compose=function(n){var r=this;return new t(function(t){return r.modify(n.modify(t))})},t.prototype.composeSetter=function(t){return this.compose(t)},t.prototype.composeTraversal=function(t){return this.compose(t.asSetter())},t.prototype.composeOptional=function(t){return this.compose(t.asSetter())},t.prototype.composeLens=function(t){return this.compose(t.asSetter())},t.prototype.composePrism=function(t){return this.compose(t.asSetter())},t.prototype.composeIso=function(t){return this.compose(t.asSetter())},t}(),qm=new qa(rn,rn),qg=VD({_tag:BO("None")}),qy=BO("Some");function qv(t,n){return void 0===n&&(n="Option<"+t.name+">"),Vj([qg,VD({_tag:qy,value:t},"Some<"+t.name+">")],n)}var qb=new z$("DateFromISOString",function(t){return t instanceof Date},function(t,n){return rp(Bp.validate(t,n),mQ(function(r){var i=new Date(r);return isNaN(i.getTime())?zV(t,n):rO(i)}))},function(t){return t.toISOString()});function qx(t){var n=Object.create(Object.getPrototypeOf(t));return Object.assign(n,t),n}var q_=new z$("DateFromNumber",function(t){return t instanceof Date},function(t,n){return rp(Bm.validate(t,n),mQ(function(r){var i=new Date(r);return isNaN(i.getTime())?zV(t,n):rO(i)}))},function(t){return t.getTime()});function qS(t,n,r){void 0===r&&(r=t.name);var i=qx(t);return i.validate=n,i.decode=function(t){return n(t,VK(i))},i.name=r,i}var qT,qw,qO,qk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,qC=VX(Bp,qw=function(t){return qk.test(t)},"UUID"),qI=new z$("BooleanFromString",Bb.is,function(t,n){return rp(Bp.validate(t,n),mQ(function(r){return"true"===r?rO(!0):"false"===r?rO(!1):zV(t,n)}))},String);function qM(t){switch(t._tag){case"InterfaceType":return t.props;case"ExactType":return qM(t.type)}}var qR=qu.fromProp(),qE=$f("RegExp",function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}),qj=new z$("DateFromUnixTime",function(t){return t instanceof Date},function(t,n){return rp(V_.validate(t,n),mQ(function(r){var i=new Date(1e3*r);return isNaN(i.getTime())?zV(t,n):rO(i)}))},function(t){return Math.floor(t.getTime()/1e3)}),qA=new z$("NumberFromString",Bm.is,function(t,n){return rp(Bp.validate(t,n),mQ(function(r){var i=+r;return isNaN(i)||""===r.trim()?zV(t,n):rO(i)}))},String),qN=new z$("IntFromString",V_.is,function(t,n){return rp(qA.validate(t,n),mQ(function(r){return V_.is(r)?rO(r):zV(t,n)}))},qA.encode),qP=VT("JsonArray",function(){return VF(qF)}),qL=VT("JsonRecord",function(){return VR(Bp,qF)}),qF=Vj([Bb,Bm,Bp,Bo,qP,qL],"Json"),qD=new z$("JsonFromString",qF.is,function(t,n){try{return rO(JSON.parse(t))}catch{return zV(t,n)}},function(t){return JSON.stringify(t)}),qW=BO("Left"),qU=BO("Right"),qz=new z$("BigIntFromString",function(t){return"bigint"==typeof t},function(t,n){return rp(Bp.validate(t,n),mQ(function(r){if(!$l.is(r.trim()))return zV(t,n);try{return rO(BigInt(r))}catch{return zV(t,n)}}))},String),qB=new z$("BooleanFromNumber",Bb.is,function(t,n){return rp(Bm.validate(t,n),m$(function(t){return 0!==t}))},Number);let qV=Object.freeze(Object.defineProperty({__proto__:null,BigIntFromString:qz,BooleanFromNumber:qB,BooleanFromString:qI,DateFromISOString:qb,DateFromNumber:q_,DateFromUnixTime:qj,IntFromString:qN,Json:qF,JsonArray:qP,JsonFromString:qD,JsonRecord:qL,NonEmptyString:$l,NumberFromString:qA,UUID:qC,clone:qx,date:$p,either:function(t,n,r){return void 0===r&&(r="Either<"+t.name+", "+n.name+">"),Vj([VD({_tag:qW,left:t},"Left<"+t.name+">"),VD({_tag:qU,right:n},"Right<"+t.name+">")],r)},fromNewtype:function(t,n){return void 0===n&&(n="fromNewtype("+t.name+")"),new z$(n,function(n){return t.is(n)},function(n,r){return rp(t.validate(n,r),m$(qm.wrap))},function(n){return t.encode(qm.unwrap(n))})},fromNullable:function(t,n,r){return void 0===r&&(r="fromNullable("+t.name+")"),qS(t,function(r,i){return null==r?rO(n):t.validate(r,i)},r)},fromRefinement:$f,getLenses:function(t){var n={};for(var r in qM(t))n[r]=qR(r);return n},mapOutput:$i,nonEmptyArray:$c,option:qv,optionFromNullable:function(t,n){return void 0===n&&(n="Option<"+t.name+">"),new z$(n,qv(t).is,function(n,r){return null==n?rO(rx):rp(t.validate(n,r),m$(r_))},function(n){return hB(rp(n,p0(t.encode)))})},readonlyNonEmptyArray:function(t,n){return void 0===n&&(n="ReadonlyNonEmptyArray<"+t.name+">"),$c(t,n)},readonlySetFromArray:function(t,n,r){return void 0===r&&(r="ReadonlySet<"+t.name+">"),$d(t,n,r)},regexp:qE,setFromArray:$d,withEncode:function(t,n,r){return void 0===r&&(r=t.name),new z$(r,t.is,t.validate,n)},withFallback:function(t,n,r){return void 0===r&&(r="withFallback("+t.name+")"),qS(t,function(r,i){return gv(function(){return rO(n)})(t.validate(r,i))},r)},withMessage:function(t,n){return qS(t,function(r,i){return m9(function(){return[{value:r,context:i,message:n(r,i),actual:r}]})(t.validate(r,i))})},withValidate:qS},Symbol.toStringTag,{value:"Module"})),q$=C(qV),qq=C($o);Object.defineProperty($n,"__esModule",{value:!0}),$n.withCustomError=$n.addType=$n.isEmpty=$n.objectToMap=$n.grouped=$n.formatDate=$n.formatDateTime=$n.filterDouble=$n.refineType=$n.nullable=void 0;let qK=n1,qH=(0,qK.__importStar)(V4);$n.nullable=function(t){return qH.union([t,qH.null,qH.undefined])},$n.refineType=function(t,n,r){return new qH.Type(n,t.is,(n,i)=>(0,$r.pipe)(t.validate(n,i),UG.either.chain(t=>r(t)?qH.success(t):qH.failure(n,i))),t.encode)},$n.filterDouble=function(t){if(""===t)return null;let n=Number(t);return Number.isNaN(n)?null:n},$n.formatDateTime=function(t){return t.toISOString().replace(/\.\d{3}Z$/,"+0000")},$n.formatDate=function(t){return t.toISOString().replace(/T.*/,"")},$n.grouped=function(t,n){return t.reduce((t,r,i)=>(i%n==0?t.push([r]):t[Math.floor(i/n)].push(r),t),[])},$n.objectToMap=function(t){return new Map(Object.entries(t))},$n.isEmpty=function(t){for(let n in t)return!1;return!0},$n.addType=function(t,n){return(0,qq.mapOutput)(t,t=>({...t,__TYPE__:n}))},$n.withCustomError=function(t,n){return(0,q$.withValidate)(t,(r,i)=>UG.either.mapLeft(t=>t.find(t=>t.message)?t:[{value:r,context:i,message:n(r,i),actual:r}])(t.validate(r,i)))},Object.defineProperty($t,"__esModule",{value:!0}),$t.WidgetKey=void 0;let qG=n1,qZ=(0,qG.__importStar)(V4),qY=RegExp("^[^<>]+$");$t.WidgetKey=(0,$n.refineType)(qZ.string,"WidgetKey",t=>0===t.length||qY.test(t)),function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(V9,t),(0,n.__exportStar)(V7,t),(0,n.__exportStar)($t,t)}(V6);var qJ={},qQ={},qX={},q0={},q1={};Object.defineProperty(q1,"__esModule",{value:!0}),q1.clone=void 0,q1.clone=function(t){var n=Object.create(Object.getPrototypeOf(t));return Object.assign(n,t),n};var q2=k&&k.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),q3=k&&k.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),q4=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&q2(n,t,r);return q3(n,t),n};Object.defineProperty(q0,"__esModule",{value:!0}),q0.withValidate=void 0;var q5=q4(V4);q0.withValidate=function(t,n,r){void 0===r&&(r=t.name);var i=q1.clone(t);return i.validate=n,i.decode=function(t){return n(t,q5.getDefaultContext(i))},i.name=r,i};var q6=k&&k.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),q9=k&&k.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),q8=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&q6(n,t,r);return q9(n,t),n};Object.defineProperty(qX,"__esModule",{value:!0}),qX.withFallback=void 0;var q7=q8(V4);qX.withFallback=function(t,n,r){return void 0===r&&(r="withFallback("+t.name+")"),q0.withValidate(t,function(r,i){return UZ.orElse(function(){return q7.success(n)})(t.validate(r,i))},r)};var Ke={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.EmptyArray=Kt.EmptyObject=Kt.Boolean=Kt.NumberOrNull=Kt.Number=Kt.StringOrNull=Kt.String=void 0;let Kn=n1,Kr=(0,Kn.__importStar)(V4);Kt.String=(0,$n.withCustomError)(Kr.string,()=>"The value must be a string"),Kt.StringOrNull=(0,$n.withCustomError)(Kr.union([Kr.string,Kr.null]),()=>"The value must be a string or null"),Kt.Number=(0,$n.withCustomError)(Kr.number,()=>"The value must be a number"),Kt.NumberOrNull=(0,$n.withCustomError)(Kr.union([Kr.number,Kr.null]),()=>"The value must be a number or null"),Kt.Boolean=(0,$n.withCustomError)(Kr.boolean,()=>"The value must be a boolean"),Kt.EmptyObject=Kr.UnknownRecord.pipe(new Kr.Type("emptyObject",t=>Kr.UnknownRecord.is(t),(t,n)=>Object.keys(t).length>0?Kr.failure(t,n,"The object is not empty."):Kr.success({}),Kr.identity)),Kt.EmptyArray=new Kr.Type("emptyArray",t=>Kr.UnknownArray.is(t)&&0===t.length,(t,n)=>(0,UQ.pipe)(Kr.UnknownArray.decode(t),UG.either.chain(r=>r.length>0?Kr.failure(t,n,"The array is not empty."):Kr.success([]))),()=>[]);var Ki={};let Ko=C(gU);var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});let Ku=n1,Ks=(0,Ku.__importStar)(V4);Ka.default=new Ks.Type("dateFromStringOrNumber",t=>t instanceof Date,(t,n)=>(0,$r.pipe)(Ks.union([Ks.number,Ks.string]).validate(t,n),(0,Ko.chain)(r=>{let i=new Date(r);return isNaN(i.getTime())?Ks.failure(t,n):Ks.success(i)})),t=>t);var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});let Kc=n1,Kd=(0,Kc.__importStar)(V4);Kl.default=new Kd.Type("dateFromTsMs",t=>t instanceof Date,(t,n)=>(0,$r.pipe)(Kd.number.validate(t,n),(0,Ko.chain)(r=>{let i=new Date(r);return isNaN(i.getTime())?Kd.failure(t,n):Kd.success(i)})),t=>t.getTime());var Kf={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyArrayOrElse=t.EmptyObjectOrElse=t.NullOrElse=t.DefaultOrElse=void 0;let n=n1,r=(0,n.__importStar)(V4),i=t=>n=>new r.Type(`DefaultOrElse<${t.name}, ${n.name}>`,t=>null===t||n.is(t),(i,o)=>(0,UZ.isRight)(t.validate(i,o))?r.success(null):n.validate(i,o),t=>t?n.encode(t):void 0);t.DefaultOrElse=i;let o=n=>(0,t.DefaultOrElse)(r.null)(n);t.NullOrElse=o;let a=n=>(0,t.DefaultOrElse)(Kt.EmptyObject)(n);t.EmptyObjectOrElse=a;let u=n=>(0,t.DefaultOrElse)(Kt.EmptyArray)(n);t.EmptyArrayOrElse=u}(Kf);var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});let Kh=n1,Km=(0,Kh.__importStar)(V4);Kp.default=new Km.Type("IntFromNumber",Km.Int.is,(t,n)=>(0,$r.pipe)(Km.number.validate(t,n),(0,Ko.chain)(t=>Km.Int.is(t)?Km.success(t):Km.success(Math.round(t)))),Km.Int.encode);var Kg={};Object.defineProperty(Kg,"__esModule",{value:!0});let Ky=n1,Kv=(0,Ky.__importStar)(V4),Kb=/^([0-9]+)px$/;Kg.default=new Kv.Type("IntFromPixels",Kv.Int.is,(t,n)=>(0,$r.pipe)(Kv.string.validate(t,n),(0,Ko.chain)(r=>{try{let i=r.match(Kb);if(!i)return Kv.failure(t,n);let o=parseInt(i[1]);return Kv.success(o)}catch{return Kv.failure(t,n)}})),String);var Kx={};Object.defineProperty(Kx,"__esModule",{value:!0});let K_=n1,KS=(0,K_.__importStar)(V4);Kx.default=(0,$n.withCustomError)((0,$n.refineType)(KS.string,"nonEmptyString",t=>t.trim().length>0),()=>"The value must be a non-empty string");var KT={},Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});let KO=n1,Kk=(0,KO.__importStar)(V4);Kw.default=(0,$n.nullable)(Kk.string),Object.defineProperty(KT,"__esModule",{value:!0});let KC=n1,KI=(0,KC.__importDefault)(Kw);KT.default=new V4.Type("nonEmptyStringOrNull",t=>"string"==typeof t||null===t,(t,n)=>(0,$r.pipe)(KI.default.validate(t,n),(0,Ko.chain)(t=>"string"==typeof t&&t.length>0?(0,V4.success)(t):(0,V4.success)(null))),t=>t);var KM={};Object.defineProperty(KM,"__esModule",{value:!0});let KR=n1,KE=(0,KR.__importStar)(V4);KM.default=(0,$n.nullable)(KE.number);var Kj={};Object.defineProperty(Kj,"__esModule",{value:!0});let KA=n1,KN=(0,KA.__importStar)(V4);Kj.default=(t,n,r)=>Kt.Number.pipe(new KN.Type("numberInRange",t=>Kt.Number.is(t),(i,o)=>i>n||i<t?KN.failure(i,o,`${r} must be a number between ${t} and ${n}`):KN.success(i),KN.identity));var KP={};Object.defineProperty(KP,"__esModule",{value:!0});let KL=n1,KF=(0,KL.__importStar)(V4);KP.default=new KF.Type("StringFromInt",KF.string.is,(t,n)=>(0,$r.pipe)(KF.boolean.validate(t,n),(0,Ko.chain)(t=>KF.success(t.toString()))),t=>t);var KD={};Object.defineProperty(KD,"__esModule",{value:!0});let KW=n1,KU=(0,KW.__importStar)(V4);function Kz(){return Gt||(Gt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StringOrNull=t.StringFromNumber=t.StringFromBoolean=t.NumberRange=t.NumberOrNull=t.NonEmptyStringOrNull=t.NonEmptyString=t.IntFromPixels=t.IntFromNumber=t.Function=t.DateFromTsMs=t.DateFromStringOrNumber=t.DateFromString=void 0;let n=n1;(0,n.__exportStar)(Kt,t);var r=function(){if(Ge)return Ki;Ge=1,Object.defineProperty(Ki,"__esModule",{value:!0});let t=n1,n=(0,t.__importStar)(V4),r=Kz();return Ki.default=new n.Type("dateFromString",t=>t instanceof Date,(t,i)=>(0,$r.pipe)(r.String.validate(t,i),(0,Ko.chain)(r=>{let o=new Date(r);return isNaN(o.getTime())?n.failure(t,i):n.success(o)})),t=>t.toISOString()),Ki}();Object.defineProperty(t,"DateFromString",{enumerable:!0,get:function(){return(0,n.__importDefault)(r).default}}),Object.defineProperty(t,"DateFromStringOrNumber",{enumerable:!0,get:function(){return(0,n.__importDefault)(Ka).default}}),Object.defineProperty(t,"DateFromTsMs",{enumerable:!0,get:function(){return(0,n.__importDefault)(Kl).default}}),(0,n.__exportStar)(Kf,t),t.Function=(0,n.__importStar)($n),Object.defineProperty(t,"IntFromNumber",{enumerable:!0,get:function(){return(0,n.__importDefault)(Kp).default}}),Object.defineProperty(t,"IntFromPixels",{enumerable:!0,get:function(){return(0,n.__importDefault)(Kg).default}}),Object.defineProperty(t,"NonEmptyString",{enumerable:!0,get:function(){return(0,n.__importDefault)(Kx).default}}),Object.defineProperty(t,"NonEmptyStringOrNull",{enumerable:!0,get:function(){return(0,n.__importDefault)(KT).default}}),Object.defineProperty(t,"NumberOrNull",{enumerable:!0,get:function(){return(0,n.__importDefault)(KM).default}}),Object.defineProperty(t,"NumberRange",{enumerable:!0,get:function(){return(0,n.__importDefault)(Kj).default}}),Object.defineProperty(t,"StringFromBoolean",{enumerable:!0,get:function(){return(0,n.__importDefault)(KP).default}}),Object.defineProperty(t,"StringFromNumber",{enumerable:!0,get:function(){return(0,n.__importDefault)(KD).default}}),Object.defineProperty(t,"StringOrNull",{enumerable:!0,get:function(){return(0,n.__importDefault)(Kw).default}})}(Ke)),Ke}KD.default=new KU.Type("StringFromInt",KU.string.is,(t,n)=>(0,$r.pipe)(KU.number.validate(t,n),(0,Ko.chain)(t=>KU.success(t.toString()))),t=>t);var KB={},KV={},K$={},Kq={},KK={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanField=t.BooleanConfig=t.BooleanFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.BooleanFieldType="Boolean",t.BooleanConfig=n.exact(n.partial({label:r.StringOrNull,default_value:n.boolean,placeholder_true:n.string,placeholder_false:n.string})),t.BooleanField=n.exact(n.intersection([n.type({type:n.literal(t.BooleanFieldType)}),n.partial({config:t.BooleanConfig})]))}(KK);var KH={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Color=t.ColorConfig=t.ColorFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.ColorFieldType="Color",t.ColorConfig=n.exact(n.partial({label:r.StringOrNull,placeholder:n.string})),t.Color=n.exact(n.intersection([n.type({type:n.literal(t.ColorFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.ColorConfig})]))}(KH);var KG={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Date=t.DateConfig=t.DateFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.DateFieldType="Date",t.DateConfig=n.exact(n.partial({label:r.StringOrNull,placeholder:n.string,default:n.string})),t.Date=n.exact(n.intersection([n.type({type:n.literal(t.DateFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.DateConfig})]))}(KG);var KZ={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Embed=t.EmbedConfig=t.EmbedFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.EmbedFieldType="Embed",t.EmbedConfig=n.exact(n.partial({label:r.StringOrNull,placeholder:n.string,useAsTitle:n.boolean})),t.Embed=n.exact(n.intersection([n.type({type:n.literal(t.EmbedFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.EmbedConfig})]))}(KZ);var KY={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoPoint=t.GeoPointConfig=t.GeoPointFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.GeoPointFieldType="GeoPoint",t.GeoPointConfig=n.exact(n.partial({label:r.StringOrNull})),t.GeoPoint=n.exact(n.intersection([n.type({type:n.literal(t.GeoPointFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.GeoPointConfig})]))}(KY);var KJ={},KQ={},KX={},K0={},K1={};Object.defineProperty(K1,"__esModule",{value:!0}),K1.pipe=K1.pipeable=void 0,K1.pipeable=function(t){var n,r,i,o,a,u,s,l,c,d,f,p,h,m,g,y={};if("function"==typeof t.map){var v=function(n){return function(r){return t.map(r,n)}};y.map=v}if("function"==typeof t.contramap){var b=function(n){return function(r){return t.contramap(r,n)}};y.contramap=b}if("function"==typeof t.mapWithIndex){var x=function(n){return function(r){return t.mapWithIndex(r,n)}};y.mapWithIndex=x}if("function"==typeof t.ap){var _=function(n){return function(r){return t.ap(r,n)}},S=function(n){return function(r){return t.ap(t.map(r,function(t){return function(){return t}}),n)}};y.ap=_,y.apFirst=S,y.apSecond=function(n){return function(r){return t.ap(t.map(r,function(){return function(t){return t}}),n)}}}if("function"==typeof t.chain){var T=function(n){return function(r){return t.chain(r,n)}},w=function(n){return function(r){return t.chain(r,function(r){return t.map(n(r),function(){return r})})}},O=function(n){return t.chain(n,UQ.identity)};y.chain=T,y.chainFirst=w,y.flatten=O}if("function"==typeof t.bimap){var k=function(n,r){return function(i){return t.bimap(i,n,r)}},C=function(n){return function(r){return t.mapLeft(r,n)}};y.bimap=k,y.mapLeft=C}if("function"==typeof t.extend){var I=function(n){return function(r){return t.extend(r,n)}},M=function(n){return t.extend(n,UQ.identity)};y.extend=I,y.duplicate=M}if("function"==typeof t.reduce){var R=function(n,r){return function(i){return t.reduce(i,n,r)}},E=function(n){var r=t.foldMap(n);return function(t){return function(n){return r(n,t)}}},j=function(n,r){return function(i){return t.reduceRight(i,n,r)}};y.reduce=R,y.foldMap=E,y.reduceRight=j}if("function"==typeof t.reduceWithIndex){var A=function(n,r){return function(i){return t.reduceWithIndex(i,n,r)}},N=function(n){var r=t.foldMapWithIndex(n);return function(t){return function(n){return r(n,t)}}},P=function(n,r){return function(i){return t.reduceRightWithIndex(i,n,r)}};y.reduceWithIndex=A,y.foldMapWithIndex=N,y.reduceRightWithIndex=P}if("function"==typeof t.alt){var L=function(n){return function(r){return t.alt(r,n)}};y.alt=L}if("function"==typeof t.compact&&(y.compact=t.compact,y.separate=t.separate),"function"==typeof t.filter){var F=function(n){return function(r){return t.filter(r,n)}},D=function(n){return function(r){return t.filterMap(r,n)}},W=function(n){return function(r){return t.partition(r,n)}},U=function(n){return function(r){return t.partitionMap(r,n)}};y.filter=F,y.filterMap=D,y.partition=W,y.partitionMap=U}if("function"==typeof t.filterWithIndex){var z=function(n){return function(r){return t.filterWithIndex(r,n)}},B=function(n){return function(r){return t.filterMapWithIndex(r,n)}},V=function(n){return function(r){return t.partitionWithIndex(r,n)}},$=function(n){return function(r){return t.partitionMapWithIndex(r,n)}};y.filterWithIndex=z,y.filterMapWithIndex=B,y.partitionWithIndex=V,y.partitionMapWithIndex=$}if("function"==typeof t.promap){var q=function(n,r){return function(i){return t.promap(i,n,r)}};y.promap=q}if("function"==typeof t.compose){var K=function(n){return function(r){return t.compose(r,n)}};y.compose=K}if("function"==typeof t.throwError){var H=function(n){return function(r){return"None"===r._tag?t.throwError(n()):t.of(r.value)}},G=function(n){return"Left"===n._tag?t.throwError(n.left):t.of(n.right)},Z=function(n,r){return function(i){return n(i)?t.of(i):t.throwError(r(i))}},Y=function(n,r){return function(i){return t.chain(i,function(i){return n(i)?t.of(i):t.throwError(r(i))})}};y.fromOption=H,y.fromEither=G,y.fromPredicate=Z,y.filterOrElse=Y}return y},K1.pipe=UQ.pipe;var K2=k&&k.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),K3=k&&k.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),K4=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&K2(n,t,r);return K3(n,t),n};Object.defineProperty(K0,"__esModule",{value:!0}),K0.NumberFromString=void 0;var K5=K4(V4);K0.NumberFromString=new K5.Type("NumberFromString",K5.number.is,function(t,n){return K1.pipe(K5.string.validate(t,n),UZ.chain(function(r){var i=+r;return isNaN(i)||""===r.trim()?K5.failure(t,n):K5.success(i)}))},String);var K6=k&&k.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),K9=k&&k.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),K8=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&K6(n,t,r);return K9(n,t),n};Object.defineProperty(KX,"__esModule",{value:!0}),KX.IntFromString=void 0;var K7=K8(V4);KX.IntFromString=new K7.Type("IntFromString",K7.Int.is,function(t,n){return K1.pipe(K0.NumberFromString.validate(t,n),UZ.chain(function(r){return K7.Int.is(r)?K7.success(r):K7.failure(t,n)}))},K0.NumberFromString.encode),Object.defineProperty(KQ,"__esModule",{value:!0});let He=n1,Ht=(0,He.__importStar)(V4),Hn=Kz(),Hr=new Ht.Type("SideConstraints",t=>!t||"number"==typeof t,(t,n)=>UZ.either.chain(Ht.union([Ht.literal("auto"),Ht.literal(""),Ht.Int,KX.IntFromString,Hn.IntFromNumber,Hn.IntFromPixels,Ht.null]).validate(t,n),t=>"auto"===t||""===t?Ht.success(null):Ht.success(t)),t=>t),Hi=Ht.partial({width:Hr,height:Hr});KQ.default=Hi,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Image=t.ImageConfig=t.Thumbnail=t.ImageFieldType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Kz(),o=(0,n.__importDefault)(KQ);t.ImageFieldType="Image",t.Thumbnail=r.exact(r.intersection([r.type({name:r.string}),o.default])),t.ImageConfig=r.exact(r.partial({label:i.StringOrNull,placeholder:r.string,constraint:o.default,thumbnails:r.readonlyArray(t.Thumbnail)})),t.Image=r.exact(r.intersection([r.type({type:r.literal(t.ImageFieldType)}),r.partial({fieldset:i.StringOrNull,config:t.ImageConfig})]))}(KJ);var Ho={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationField=t.IntegrationFieldConfig=t.IntegrationFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.IntegrationFieldType="IntegrationFields",t.IntegrationFieldConfig=n.exact(n.partial({label:r.StringOrNull,placeholder:n.string,catalog:n.string})),t.IntegrationField=n.exact(n.intersection([n.type({type:n.literal(t.IntegrationFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.IntegrationFieldConfig})]))}(Ho);var Ha={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.LinkConfig=t.LinkFieldType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Kz(),o=t=>{if(t instanceof Array&&t.reduce((t,n)=>t&&"string"==typeof n,!0))return r.success(t)},a=t=>{if("string"==typeof t)return r.success([t])},u=new r.Type("MasksArrayString",t=>t instanceof Array,(t,n)=>UZ.either.chain(r.union([r.array(r.string),r.string]).validate(t,n),i=>o(i)||a(i)||r.failure(t,n)),t=>t);t.LinkFieldType="Link",t.LinkConfig=r.exact(r.partial({label:i.StringOrNull,useAsTitle:r.boolean,placeholder:r.string,select:(0,qX.withFallback)(r.union([r.literal("media"),r.literal("document"),r.literal("web"),r.null]),null),customtypes:r.readonlyArray(r.string),masks:u,tags:u,allowTargetBlank:r.boolean})),t.Link=r.exact(r.intersection([r.type({type:r.literal(t.LinkFieldType)}),r.partial({fieldset:i.StringOrNull,config:t.LinkConfig})]))}(Ha);var Hu={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Number=t.NumberConfig=t.NumberFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.NumberFieldType="Number",t.NumberConfig=n.exact(n.partial({label:r.StringOrNull,placeholder:n.string,min:n.union([n.number,K0.NumberFromString]),max:n.union([n.number,K0.NumberFromString]),step:n.union([n.number,K0.NumberFromString])})),t.Number=n.exact(n.intersection([n.type({type:n.literal(t.NumberFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.NumberConfig})]))}(Hu);var Hs={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Range=t.RangeConfig=t.RangeFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.RangeFieldType="Range",t.RangeConfig=n.exact(n.partial({label:r.StringOrNull,placeholder:n.string,min:n.union([n.number,K0.NumberFromString]),max:n.union([n.number,K0.NumberFromString]),step:n.union([n.number,K0.NumberFromString])})),t.Range=n.exact(n.intersection([n.type({type:n.literal(t.RangeFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.RangeConfig})]))}(Hs);var Hl={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RichText=t.RichTextConfig=t.RichTextNodeTypeCodec=t.RichTextNodeType=t.DEFAULT_OPTION=t.RichTextFieldType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Kz(),o=(0,n.__importDefault)(KQ);t.RichTextFieldType="StructuredText",t.DEFAULT_OPTION="paragraph",t.RichTextNodeType={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",strong:"strong",em:"em",preformatted:"preformatted",hyperlink:"hyperlink",image:"image",embed:"embed",list:"list-item",orderedList:"o-list-item",rtl:"rtl"},t.RichTextNodeTypeCodec=r.keyof({[t.RichTextNodeType.heading1]:null,[t.RichTextNodeType.heading2]:null,[t.RichTextNodeType.heading3]:null,[t.RichTextNodeType.heading4]:null,[t.RichTextNodeType.heading5]:null,[t.RichTextNodeType.heading6]:null,[t.RichTextNodeType.paragraph]:null,[t.RichTextNodeType.strong]:null,[t.RichTextNodeType.em]:null,[t.RichTextNodeType.preformatted]:null,[t.RichTextNodeType.hyperlink]:null,[t.RichTextNodeType.image]:null,[t.RichTextNodeType.embed]:null,[t.RichTextNodeType.list]:null,[t.RichTextNodeType.orderedList]:null,[t.RichTextNodeType.rtl]:null});let a=new r.Type("RichTextOptions",t=>"string"==typeof t,n=>(0,UQ.pipe)(r.union([r.string,r.null]).decode(n),UG.either.map(n=>{if(!n)return t.DEFAULT_OPTION;let r=n.split(",").map(t=>t.trim()).filter(n=>(0,UZ.getOrElseW)(()=>{})(t.RichTextNodeTypeCodec.decode(n)));return r.length?r.join(","):t.DEFAULT_OPTION})),t=>t),u=t=>{if(!t)return r.success([])},s=t=>{if(t instanceof Object){if(!Object.entries(t).length)return r.success([]);if(t[""])return r.success(t[""].map(t=>t.name));let n=Object.entries(t).reduce((t,[,n])=>t.concat(n.map(t=>t.name)),[]).filter(Boolean);return r.success(n)}},l=t=>{if(t instanceof Array&&t.reduce((t,n)=>t&&"string"==typeof n,!0))return r.success(t)},c=t=>{if("string"==typeof t)return r.success([t])},d=new r.Type("RichTextLabels",t=>t instanceof Array,(t,n)=>{let i=r.record(r.string,r.readonlyArray(r.record(r.literal("name"),r.string))),o=r.readonlyArray(r.string);return(0,UQ.pipe)(r.union([i,o,r.string,r.null]).decode(t),UG.either.chain(i=>u(i)||l(i)||s(i)||c(i)||r.failure(t,n)))},t=>t);t.RichTextConfig=r.exact(r.partial({label:i.StringOrNull,placeholder:r.string,useAsTitle:r.boolean,single:a,multi:a,imageConstraint:o.default,labels:d,allowTargetBlank:r.boolean})),t.RichText=r.exact(r.intersection([r.type({type:r.literal(t.RichTextFieldType)}),r.partial({fieldset:i.StringOrNull,config:t.RichTextConfig})]))}(Hl);var Hc={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Select=t.SelectConfig=t.SelectFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.SelectFieldType="Select",t.SelectConfig=n.exact(n.partial({label:r.StringOrNull,placeholder:n.string,default_value:n.string,options:n.readonlyArray(n.union([n.string,r.StringFromNumber,r.StringFromBoolean]))})),t.Select=n.exact(n.intersection([n.type({type:n.literal(t.SelectFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.SelectConfig})]))}(Hc);var Hd={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=t.SeparatorConfig=t.SeparatorFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.SeparatorFieldType="Separator",t.SeparatorConfig=n.exact(n.partial({label:r.StringOrNull})),t.Separator=n.exact(n.intersection([n.type({type:n.literal(t.SeparatorFieldType)}),n.partial({config:t.SeparatorConfig})]))}(Hd);var Hf={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Text=t.TextConfig=t.TextFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.TextFieldType="Text",t.TextConfig=n.exact(n.partial({label:r.StringOrNull,useAsTitle:n.boolean,placeholder:n.string})),t.Text=n.exact(n.intersection([n.type({type:n.literal(t.TextFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.TextConfig})]))}(Hf);var Hp={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.TimestampConfig=t.TimestampFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.TimestampFieldType="Timestamp",t.TimestampConfig=n.exact(n.partial({label:r.StringOrNull,placeholder:n.string,default:n.string})),t.Timestamp=n.exact(n.intersection([n.type({type:n.literal(t.TimestampFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.TimestampConfig})]))}(Hp),Object.defineProperty(Kq,"__esModule",{value:!0}),Kq.NestableWidget=void 0;let Hh=n1,Hm=(0,Hh.__importStar)(V4);Kq.NestableWidget=Hm.union([KH.Color,KK.BooleanField,KZ.Embed,KY.GeoPoint,KG.Date,Hu.Number,Hs.Range,Hl.RichText,Hc.Select,Hd.Separator,Hf.Text,Hp.Timestamp,Ha.Link,KJ.Image,Ho.IntegrationField]),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Group=t.GroupConfig=t.GroupFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.GroupFieldType="Group",t.GroupConfig=n.exact(n.partial({label:r.StringOrNull,repeat:n.boolean,fields:n.record(V6.WidgetKey,Kq.NestableWidget)})),t.Group=n.exact(n.intersection([n.type({type:n.literal(t.GroupFieldType)}),n.partial({fieldset:r.StringOrNull,icon:n.string,description:n.string,config:t.GroupConfig})]))}(K$);var Hg={};!function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(KK,t),(0,n.__exportStar)(KH,t),(0,n.__exportStar)(KG,t),(0,n.__exportStar)(KZ,t),(0,n.__exportStar)(KY,t),(0,n.__exportStar)(KJ,t),(0,n.__exportStar)(Ho,t),(0,n.__exportStar)(Ha,t),(0,n.__exportStar)(Kq,t),(0,n.__exportStar)(Hu,t),(0,n.__exportStar)(Hs,t),(0,n.__exportStar)(Hl,t),(0,n.__exportStar)(Hc,t),(0,n.__exportStar)(Hd,t),(0,n.__exportStar)(Hf,t),(0,n.__exportStar)(Hp,t)}(Hg);var Hy={},Hv={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCompositeSlice=t.CompositeSlice=t.CompositeSliceConfig=t.CompositeSliceType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.CompositeSliceType="Slice",t.CompositeSliceConfig=n.exact(n.partial({label:r.StringOrNull})),t.CompositeSlice=n.exact(n.intersection([n.type({type:n.literal(t.CompositeSliceType)}),n.partial({fieldset:r.StringOrNull,description:n.string,icon:n.string,display:n.string,"non-repeat":n.record(V6.WidgetKey,Kq.NestableWidget),repeat:n.record(V6.WidgetKey,Kq.NestableWidget),config:t.CompositeSliceConfig})])),t.isCompositeSlice=function(t){return"Slice"===t.type}}(Hv);var Hb={};Object.defineProperty(Hb,"__esModule",{value:!0}),Hb.isLegacySlice=Hb.LegacySlice=void 0;let Hx=n1,H_=(0,Hx.__importStar)(V4);Hb.LegacySlice=H_.union([Kq.NestableWidget,K$.Group]),Hb.isLegacySlice=function(t){return"Slice"!==t.type&&"SharedSlice"!==t.type};var HS={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isDynamicSharedSlice=t.isStaticSharedSlice=t.SharedSlice=t.SharedSliceType=t.Variation=void 0;let n=(0,n1.__importStar)(V4);t.Variation=n.exact(n.intersection([n.type({id:n.string,name:n.string,description:n.string,imageUrl:(0,qX.withFallback)(n.string,"https://images.prismic.io/slice-machine/621a5ec4-0387-4bc5-9860-2dd46cbc07cd_default_ss.png?auto=compress,format"),docURL:n.string,version:n.string}),n.partial({display:n.string,primary:n.record(V6.WidgetKey,Kq.NestableWidget),items:n.record(V6.WidgetKey,Kq.NestableWidget)})])),t.SharedSliceType="SharedSlice";let r=n.string,i=n.string;t.SharedSlice=n.exact(n.intersection([n.type({id:n.string,type:n.literal(t.SharedSliceType),name:n.string,variations:n.readonlyArray(t.Variation)}),n.partial({description:n.string,legacyPaths:n.record(r,i)})])),t.isStaticSharedSlice=function(t){return"SharedSlice"===t.type},t.isDynamicSharedSlice=function(t){return"SharedSlice"===t.type}}(HS);var HT={};Object.defineProperty(HT,"__esModule",{value:!0}),HT.SharedSliceRef=void 0;let Hw=n1,HO=(0,Hw.__importStar)(V4);HT.SharedSliceRef=HO.exact(HO.type({type:HO.literal(HS.SharedSliceType)})),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Slices=t.DynamicSlices=t.StaticSlices=t.slicesReader=t.DynamicSlicesConfig=t.StaticSlicesConfig=t.slicesConfigReader=t.SlicesLabels=t.SlicesFieldType=t.LegacySlicesFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();function i(i){return n.exact(n.partial({label:r.StringOrNull,labels:t.SlicesLabels,choices:n.record(V6.WidgetKey,n.union([Hb.LegacySlice,Hv.CompositeSlice,i]))}))}t.LegacySlicesFieldType="Choice",t.SlicesFieldType="Slices",t.SlicesLabels=n.union([n.record(n.string,n.readonlyArray(n.exact(n.intersection([n.type({name:n.string}),n.partial({display:n.string})])))),n.null]),t.slicesConfigReader=i,t.StaticSlicesConfig=i(HS.SharedSlice),t.DynamicSlicesConfig=i(HT.SharedSliceRef);let o={toStatic(t,n){let r=Object.entries(t.choices||{}).reduce((t,[r,i])=>{if("SharedSlice"!==i.type)return{...t,[r]:i};{let o=n.get(r);return o?{...t,[r]:o}:t}},{});return{...t,choices:r}}};function a(i){return n.exact(n.intersection([n.type({type:n.keyof({[t.SlicesFieldType]:null,[t.LegacySlicesFieldType]:null})}),n.partial({fieldset:r.StringOrNull,config:i})]))}t.slicesReader=a,t.StaticSlices=a(t.StaticSlicesConfig),t.DynamicSlices=a(t.DynamicSlicesConfig),t.Slices={toStatic:(t,n)=>t.config?{...t,config:o.toStatic(t.config,n)}:t}}(Hy);var Hk={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UID=t.UIDConfig=t.UIDFieldType=void 0;let n=(0,n1.__importStar)(V4),r=Kz();t.UIDFieldType="UID",t.UIDConfig=n.exact(n.partial({label:r.StringOrNull,useAsTitle:n.boolean,placeholder:n.string})),t.UID=n.exact(n.intersection([n.type({type:n.literal(t.UIDFieldType)}),n.partial({fieldset:r.StringOrNull,config:t.UIDConfig})]))}(Hk),Object.defineProperty(KV,"__esModule",{value:!0}),KV.Widgets=KV.FieldType=KV.DynamicWidget=KV.StaticWidget=KV.widgetReader=void 0;let HC=n1,HI=(0,HC.__importStar)(V4);function HM(t){return HI.union([Hk.UID,Kq.NestableWidget,K$.Group,t])}KV.widgetReader=HM,KV.StaticWidget=HM(Hy.StaticSlices),KV.DynamicWidget=HM(Hy.DynamicSlices),KV.FieldType=HI.keyof({[Hg.ColorFieldType]:null,[Hg.BooleanFieldType]:null,[Hg.NumberFieldType]:null,[Hg.EmbedFieldType]:null,[Hg.GeoPointFieldType]:null,[Hg.DateFieldType]:null,[Hg.RangeFieldType]:null,[Hg.RichTextFieldType]:null,[Hg.SelectFieldType]:null,[Hg.SeparatorFieldType]:null,[Hg.TextFieldType]:null,[Hg.TimestampFieldType]:null,[Hg.LinkFieldType]:null,[Hg.ImageFieldType]:null,[Hg.IntegrationFieldType]:null,[Hk.UIDFieldType]:null,[K$.GroupFieldType]:null,[Hy.SlicesFieldType]:null,[Hy.LegacySlicesFieldType]:null}),KV.Widgets={toStatic(t,n){switch(t.type){case"Choice":case"Slices":return Hy.Slices.toStatic(t,n);default:return t}}},Object.defineProperty(KB,"__esModule",{value:!0}),KB.Sections=KB.DynamicSection=KB.StaticSection=KB.sectionReader=void 0;let HR=n1,HE=(0,HR.__importStar)(V4);function Hj(t){return HE.record(V6.WidgetKey,t)}KB.sectionReader=Hj,KB.StaticSection=Hj(KV.StaticWidget),KB.DynamicSection=Hj(KV.DynamicWidget),KB.Sections={toStatic:(t,n)=>Object.entries(t).reduce((t,[r,i])=>({...t,[r]:KV.Widgets.toStatic(i,n)}),{})},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.collectSharedSlices=t.flattenCustomTypeFields=t.filterMissingSharedSlices=t.collectWidgets=t.validateSlices=t.toStatic=t.flattenSections=t.flattenWidgets=t.CustomType=t.StaticCustomType=t.CustomTypeFormat=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Kz();t.CustomTypeFormat={page:"page",custom:"custom"};class o extends Error{constructor(t){super(),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.slices=t,this.message=this._formatError(t)}_formatError(t){return`The following slices doesn't exists in your Prismic repository:
${t.map(t=>`	 - ${t}`).join(`
`)}
`}}function a(n){return r.exact(r.intersection([r.type({id:r.string,label:i.StringOrNull,repeatable:(0,qX.withFallback)(r.boolean,!0),json:r.record(r.string,n),status:(0,qX.withFallback)(r.boolean,!0)}),r.partial({hash:r.string,format:(0,qX.withFallback)(r.keyof(t.CustomTypeFormat),"custom")})]))}function u(t){return Object.entries(t.json).reduce((t,[,n])=>{let r=Object.entries(n);return t.concat(r)},[])}function s(t,n){let r=Object.entries(t.json).reduce((t,[r,i])=>{let o=Object.entries(i).reduce((t,[r,i])=>{let o=n(r,i);return o?{...t,[r]:o}:t},{});return{...t,[r]:o}},{});return{...t,json:r}}t.StaticCustomType=a(KB.StaticSection),t.CustomType=a(KB.DynamicSection),t.flattenWidgets=u,t.flattenSections=function(t){return Object.entries(t.json).reduce((t,[,n])=>{let r=Object.entries(n);return t.concat(r)},[])},t.toStatic=function(t,n){let r=Object.entries(t.json).reduce((t,[r,i])=>({...t,[r]:KB.Sections.toStatic(i,n)}),{});return{...t,json:r}},t.validateSlices=function(t,n){let r=(function(t){var n;let r=u(t).filter(([,t])=>"Slices"===t.type).reduce((t,[,n])=>{let r=Object.entries(n.config&&n.config.choices?n.config.choices:{}).filter(([,t])=>"SharedSlice"===t.type).map(([t])=>t);return t.concat(r)},[]);return function(t){return r.map(t)}})(t)(t=>{if(!n.get(t))return t}).filter(Boolean);return r.length>0?(0,UZ.left)(new o(r)):(0,UZ.right)(t)},t.collectWidgets=s,t.filterMissingSharedSlices=function(t,n){return s(t,(t,r)=>{if("Slices"===r.type){if(!r.config||!r.config.choices)return r;let i=Object.entries(r.config.choices).reduce((t,[r,i])=>"SharedSlice"!==i.type||n.get(r)?{...t,[r]:i}:t,{}),o={...r.config,choices:i};return{...r,config:o}}return r})},t.flattenCustomTypeFields=function(t){return Object.values(t.json).reduce((t,n)=>({...t,...n}),{})},t.collectSharedSlices=function(t){return Object.entries(t.fields).reduce((t,[,n])=>{var r;return"Slices"===n.type||"Choice"===n.type?{...t,...Object.entries((null===(r=n.config)||void 0===r?void 0:r.choices)||{}).reduce((t,[n,r])=>"SharedSlice"===r.type?{...t,[n]:r}:t,{})}:t},{})}}(qQ);var HA,HN,HP={},HL={};Object.defineProperty(HA=HL,"__esModule",{value:!0}),HA.DiffOperation=void 0,(HN=HA.DiffOperation||(HA.DiffOperation={})).Added="added",HN.Removed="removed",HN.Updated="updated";var HF={},HD={},HW={};Object.defineProperty(HW,"__esModule",{value:!0}),HW.HexaColor=void 0;let HU=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;HW.HexaColor={is:t=>HU.test(t)};var Hz={};Object.defineProperty(Hz,"__esModule",{value:!0}),Hz.toRecord=void 0,Hz.toRecord=function(t,n){return t.reduce((t,r)=>{let i=n(r);return{...t,[i]:r}},{})};var HB={};Object.defineProperty(HB,"__esModule",{value:!0}),HB.mapValues=HB.isObject=HB.withOptionals=HB.isNotEmpty=HB.zipObjects=void 0;let HV=n1,H$=(0,HV.__importStar)(V4);HB.zipObjects=function(t,n){return[...new Set(Object.keys(t||{}).concat(Object.keys(n||{})))].reduce((r,i)=>{let o=null==t?void 0:t[i],a=null==n?void 0:n[i];return{...r,[i]:{left:o,right:a}}},{})},HB.isNotEmpty=function(t){return Boolean(Object.keys(t).length)},HB.withOptionals=function(t,n){return{...t,...n.reduce((t,[n,r])=>r?{...t,[n]:r}:t,{})}};let Hq=H$.record(H$.string,H$.unknown);HB.isObject=function(t){return(0,UZ.isRight)(Hq.decode(t))},HB.mapValues=function(t,n){return Object.entries(t).reduce((t,[r,i])=>({...t,[r]:n(i,r)}),{})},Object.defineProperty(HD,"__esModule",{value:!0}),HD.Objects=HD.Arrays=HD.HexaColorCode=void 0;let HK=n1;HD.HexaColorCode=(0,HK.__importStar)(HW),HD.Arrays=(0,HK.__importStar)(Hz),HD.Objects=(0,HK.__importStar)(HB);var HH={};function HG(t,n){let r=HD.Objects.zipObjects(t,n),i=Object.entries(r).reduce((t,[n,r])=>{if(JSON.stringify(null==r?void 0:r.left)===JSON.stringify(null==r?void 0:r.right))return t;let i=(()=>{if(!(!(null!=r&&r.left)&&!(null!=r&&r.right)))return null!=r&&r.left&&!r.right?{op:HL.DiffOperation.Removed}:!(null!=r&&r.left)&&null!=r&&r.right?{op:HL.DiffOperation.Added,value:r.right}:{op:HL.DiffOperation.Updated,value:r.right}})();return i?{...t,[n]:i}:t},{});return HD.Objects.isNotEmpty(i)?i:void 0}Object.defineProperty(HH,"__esModule",{value:!0}),HH.VariationComparator=void 0,HH.VariationComparator={compare(t,n){if(t&&!n)return{op:HL.DiffOperation.Removed};if(!t&&n)return{op:HL.DiffOperation.Added,value:n};let r=function(t,n){let r=HD.Objects.zipObjects(t,n);return Object.entries(r).reduce((t,[n,r])=>"primary"===n||"items"===n||(null==r?void 0:r.left)===(null==r?void 0:r.right)?t:{...t,[n]:null==r?void 0:r.right},{})}(t,n),i=HG(null==t?void 0:t.primary,null==n?void 0:n.primary),o=HG(null==t?void 0:t.items,null==n?void 0:n.items),a={...r,...i?{primary:i}:{},...o?{items:o}:{}};if(HD.Objects.isNotEmpty(a))return{op:HL.DiffOperation.Updated,value:a}}},Object.defineProperty(HF,"__esModule",{value:!0}),HF.SliceComparator=void 0,HF.SliceComparator={compare(t,n){if(!t&&n)return{op:HL.DiffOperation.Added,value:n};if(t&&!n)return{op:HL.DiffOperation.Removed};let r=function(t,n){let r=HD.Objects.zipObjects(t,n);return Object.entries(r).reduce((t,[n,r])=>"variations"===n||(null==r?void 0:r.left)===(null==r?void 0:r.right)?t:{...t,[n]:null==r?void 0:r.right},{})}(t,n),i=HD.Objects.zipObjects(t&&HD.Arrays.toRecord(t.variations,t=>t.id),n&&HD.Arrays.toRecord(n.variations,t=>t.id)),o=Object.entries(i).reduce((t,[n,r])=>{if(!r)return t;let i=HH.VariationComparator.compare(r.left,r.right);return i?{...t,[n]:i}:t},{}),a={...r,...HD.Objects.isNotEmpty(o)?{variations:o}:{}};if(HD.Objects.isNotEmpty(a))return{op:HL.DiffOperation.Updated,value:a}}},function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(HL,t),(0,n.__exportStar)(HF,t),(0,n.__exportStar)(HH,t)}(HP);var HZ,HY,HJ={},HQ={};HZ=HQ,HY=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Object.defineProperty(HZ,"__esModule",{value:!0}),HZ.ImageConstraint=void 0,Object.defineProperty(HZ,"ImageConstraint",{enumerable:!0,get:function(){return HY(KQ).default}});var HX={},H0={};Object.defineProperty(H0,"__esModule",{value:!0});var H1={};Object.defineProperty(H1,"__esModule",{value:!0}),H1.SlicesTypes=void 0;let H2=n1,H3=(0,H2.__importStar)(V4);H1.SlicesTypes=H3.keyof({[Hv.CompositeSliceType]:null,[HS.SharedSliceType]:null}),function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(Hv,t),(0,n.__exportStar)(Hb,t),(0,n.__exportStar)(HS,t),(0,n.__exportStar)(HT,t),(0,n.__exportStar)(H0,t),(0,n.__exportStar)(Hy,t),(0,n.__exportStar)(H1,t)}(HX),function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(K$,t),(0,n.__exportStar)(Hg,t),(0,n.__exportStar)(HQ,t),(0,n.__exportStar)(HX,t),(0,n.__exportStar)(Hk,t),(0,n.__exportStar)(KV,t)}(HJ),function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(qQ,t),(0,n.__exportStar)(HP,t),(0,n.__exportStar)(KB,t),(0,n.__exportStar)(HJ,t)}(qJ);var H4,H5,H6,H9,H8,H7,Ge,Gt,Gn,Gr={},Gi={},Go={};function Ga(){if(Gn)return Go;Gn=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.hasContentType=Go.hasFieldContentType=void 0;let t=ZV();function n(t){return"object"==typeof t&&null!==t&&"__TYPE__"in t}return Go.hasFieldContentType=function(r){return n(r)&&r.__TYPE__===t.FieldContentType&&(null==r?void 0:r.type)!==void 0&&"string"==typeof r.type&&(0,UZ.isRight)(t.FieldType.decode(r.type))},Go.hasContentType=n,Go}function Gu(){return Gp||(Gp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyContent=t.EmptyLegacy=t.isEmptyContent=t.EmptyContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga();t.EmptyContentType="EmptyContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.EmptyContentType;t.isEmptyContent=o;let a=r.union([r.null,r.type({value:r.null})]),u=n=>new r.Type("EmptyLegacy",t.isEmptyContent,r=>(0,UQ.pipe)(a.decode(r),UG.either.map(()=>({type:n,__TYPE__:t.EmptyContentType}))),()=>null);t.EmptyLegacy=u,t.EmptyContent=r.strict({type:r.string,__TYPE__:r.literal(t.EmptyContentType)})}(Gi)),Gi}var Gs={},Gl={};Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.defaultCtx=Gl.getFieldCtx=Gl.LegacyContentCtx=Gl.FieldOrSliceType=void 0;let Gc=n1,Gd=(0,Gc.__importStar)(V4);Gl.FieldOrSliceType=Gd.union([HJ.FieldType,HJ.SlicesTypes]);class Gf{constructor(t,n,r){Object.defineProperty(this,"fieldKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"prefixedKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyOfType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fieldPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fieldType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"allTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.fieldKey=t,this.fieldPath=n||[],this.allTypes=r||new Map;let i=Array.of(this.fieldPath,[this.fieldKey]).flat().join(".");this.prefixedKey=i,this.keyOfType=`${i}_TYPE`,this.fieldType=this.allTypes.get(this.prefixedKey)}}Gl.LegacyContentCtx=Gf,Gl.getFieldCtx=function(t,n,r){return new Gf(t,[...n.fieldPath,n.fieldKey,...r||[]],n.allTypes)},Gl.defaultCtx=function(t,n=new Map){return new Gf(t,[],n)};var Gp,Gh,Gm={},Gg={};function Gy(){return Gh||(Gh=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanContentDefaultValue=t.BooleanContent=t.BooleanLegacy=t.isBooleanContent=t.BooleanContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga();t.BooleanContentType="BooleanContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.BooleanContentType;t.isBooleanContent=o;let a=n=>new r.Type("BooleanLegacy",t.isBooleanContent,n=>(0,UQ.pipe)(r.boolean.decode(n),UG.either.map(n=>t.BooleanContent.encode({value:n,__TYPE__:t.BooleanContentType}))),t=>({content:t.value,types:{[n.keyOfType]:"Boolean"}}));t.BooleanLegacy=a,t.BooleanContent=r.strict({__TYPE__:r.literal(t.BooleanContentType),value:r.boolean});let u=n=>{var r;return(null===(r=n.config)||void 0===r?void 0:r.default_value)!==void 0?{__TYPE__:t.BooleanContentType,value:n.config.default_value||!1}:void 0};t.BooleanContentDefaultValue=u}(Gg)),Gg}var Gv,Gb={};function Gx(){return Gv||(Gv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedContent=t.EmbedLegacy=t.EmbedContentLegacy=t.isEmbedContent=t.EmbedContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Kz(),o=Ga();t.EmbedContentType="EmbedContent";let a=n=>(0,o.hasContentType)(n)&&n.__TYPE__===t.EmbedContentType;t.isEmbedContent=a,t.EmbedContentLegacy=r.exact(r.intersection([r.type({embed_url:r.string,type:r.string}),r.partial({version:r.union([r.string,r.number,r.null]),title:i.StringOrNull,author_name:i.StringOrNull,author_url:i.StringOrNull,provider_name:i.StringOrNull,provider_url:i.StringOrNull,cache_age:r.union([r.string,r.number,r.null]),thumbnail_url:i.StringOrNull,thumbnail_width:i.NumberOrNull,thumbnail_height:i.NumberOrNull,html:i.StringOrNull})]));let u=n=>new r.Type("EmbedLegacy",t.isEmbedContent,n=>(0,UQ.pipe)(t.EmbedContentLegacy.decode(n),UG.either.map(r=>({...r,all:n,__TYPE__:t.EmbedContentType}))),t=>({content:t.all,types:{[n.keyOfType]:"Embed"}}));t.EmbedLegacy=u,t.EmbedContent=r.intersection([t.EmbedContentLegacy,r.strict({__TYPE__:r.literal(t.EmbedContentType),all:r.unknown})])}(Gb)),Gb}var G_={},GS={},GT={};Object.defineProperty(GT,"__esModule",{value:!0});let Gw=n1,GO=(0,Gw.__importStar)(V4);GT.default=new GO.Type("TrimmedString",GO.string.is,(t,n)=>(0,$r.pipe)(GO.string.validate(t,n),(0,Ko.chain)(t=>GO.success(function(t){let n=0;for(;n<t.length&&t[n]<=" ";)n++;let r=t.length;for(;n<r&&t[r-1]<=" ";)r--;return t.substring(n,r)}(t)))),t=>t);var Gk={};function GC(){return GI||(GI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContent=t.ColorLegacy=t.isColorContent=void 0;let n=n1,r=(0,n.__importStar)(V4),i=(0,n.__importDefault)(GT),o=Ga(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===Gk.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Color"===t.type;t.isColorContent=a;let u=n=>new r.Type("ColorLegacy",t.isColorContent,n=>(0,UQ.pipe)(i.default.decode(n),UG.either.map(n=>t.ColorContent.encode({value:n,type:HJ.ColorFieldType,__TYPE__:Gk.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:HJ.ColorFieldType}}));t.ColorLegacy=u,t.ColorContent=r.strict({type:r.literal(HJ.ColorFieldType),value:i.default,__TYPE__:r.literal(Gk.FieldContentType)})}(GS)),GS}Object.defineProperty(Gk,"__esModule",{value:!0}),Gk.FieldContentType=void 0,Gk.FieldContentType="FieldContent";var GI,GM,GR={};function GE(){return GM||(GM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DateContent=t.DateLegacy=t.isDateContent=void 0;let n=n1,r=(0,n.__importStar)(V4),i=(0,n.__importDefault)(GT),o=Ga(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===Gk.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Date"===t.type;t.isDateContent=a;let u=n=>new r.Type("DateLegacy",t.isDateContent,n=>(0,UQ.pipe)(i.default.decode(n),UG.either.map(n=>t.DateContent.encode({value:n,type:HJ.DateFieldType,__TYPE__:Gk.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:HJ.DateFieldType}}));t.DateLegacy=u,t.DateContent=r.strict({type:r.literal(HJ.DateFieldType),value:i.default,__TYPE__:r.literal(Gk.FieldContentType)})}(GR)),GR}var Gj,GA={};function GN(){return Gj||(Gj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NumberContent=t.NumberLegacy=t.isNumberContent=void 0;let n=n1,r=(0,n.__importStar)(V4),i=(0,n.__importDefault)(GT),o=Ga(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===Gk.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Number"===t.type;t.isNumberContent=a;let u=n=>new r.Type("NumberLegacy",t.isNumberContent,n=>(0,UQ.pipe)(i.default.decode(n),UG.either.map(n=>t.NumberContent.encode({value:n,type:HJ.NumberFieldType,__TYPE__:Gk.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:HJ.NumberFieldType}}));t.NumberLegacy=u,t.NumberContent=r.strict({type:r.literal(HJ.NumberFieldType),value:i.default,__TYPE__:r.literal(Gk.FieldContentType)})}(GA)),GA}var GP,GL={};function GF(){return GP||(GP=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RangeContent=t.RangeLegacy=t.isRangeContent=void 0;let n=n1,r=(0,n.__importStar)(V4),i=(0,n.__importDefault)(GT),o=Ga(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===Gk.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Range"===t.type;t.isRangeContent=a;let u=n=>new r.Type("RangeLegacy",t.isRangeContent,n=>(0,UQ.pipe)(i.default.decode(n),UG.either.map(n=>t.RangeContent.encode({value:n,type:HJ.RangeFieldType,__TYPE__:Gk.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:HJ.RangeFieldType}}));t.RangeLegacy=u,t.RangeContent=r.strict({type:r.literal(HJ.RangeFieldType),value:i.default,__TYPE__:r.literal(Gk.FieldContentType)})}(GL)),GL}var GD,GW={};function GU(){return GD||(GD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SelectContentDefaultValue=t.SelectContent=t.SelectLegacy=t.isSelectContent=void 0;let n=n1,r=(0,n.__importStar)(V4),i=(0,n.__importDefault)(GT),o=Ga(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===Gk.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Select"===t.type;t.isSelectContent=a;let u=n=>new r.Type("SelectLegacy",t.isSelectContent,n=>(0,UQ.pipe)(i.default.decode(n),UG.either.map(n=>t.SelectContent.encode({value:n,type:HJ.SelectFieldType,__TYPE__:Gk.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:HJ.SelectFieldType}}));t.SelectLegacy=u,t.SelectContent=r.strict({type:r.literal(HJ.SelectFieldType),value:i.default,__TYPE__:r.literal(Gk.FieldContentType)});let s=t=>{var n;return!(null===(n=t.config)||void 0===n)&&n.default_value?{__TYPE__:Gk.FieldContentType,type:HJ.SelectFieldType,value:t.config.default_value||""}:void 0};t.SelectContentDefaultValue=s}(GW)),GW}var Gz,GB={};function GV(){return Gz||(Gz=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TextContent=t.TextLegacy=t.isTextContent=void 0;let n=n1,r=(0,n.__importStar)(V4),i=(0,n.__importDefault)(GT),o=Ga(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===Gk.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Text"===t.type;t.isTextContent=a;let u=n=>new r.Type("TextLegacy",t.isTextContent,n=>(0,UQ.pipe)(i.default.decode(n),UG.either.map(n=>t.TextContent.encode({value:n,type:HJ.TextFieldType,__TYPE__:Gk.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:HJ.TextFieldType}}));t.TextLegacy=u,t.TextContent=r.strict({type:r.literal(HJ.TextFieldType),value:i.default,__TYPE__:r.literal(Gk.FieldContentType)})}(GB)),GB}var G$,Gq={};function GK(){return G$||(G$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TimestampContent=t.TimestampLegacy=t.isTimestampContent=void 0;let n=n1,r=(0,n.__importStar)(V4),i=(0,n.__importDefault)(GT),o=Ga(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===Gk.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Timestamp"===t.type;t.isTimestampContent=a;let u=n=>new r.Type("TimestampLegacy",t.isTimestampContent,n=>(0,UQ.pipe)(i.default.decode(n),UG.either.map(n=>t.TimestampContent.encode({value:n,type:HJ.TimestampFieldType,__TYPE__:Gk.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:HJ.TimestampFieldType}}));t.TimestampLegacy=u,t.TimestampContent=r.strict({type:r.literal(HJ.TimestampFieldType),value:i.default,__TYPE__:r.literal(Gk.FieldContentType)})}(Gq)),Gq}function GH(){return GG||(GG=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FieldContent=t.FieldType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=GC(),o=GE(),a=GN(),u=GF(),s=GU(),l=GV(),c=GK();t.FieldType=r.keyof({Text:null,Date:null,Timestamp:null,Color:null,Number:null,Range:null,Select:null}),t.FieldContent=r.union([o.DateContent,i.ColorContent,a.NumberContent,u.RangeContent,s.SelectContent,l.TextContent,c.TimestampContent]),(0,n.__exportStar)(GC(),t),(0,n.__exportStar)(Gk,t),(0,n.__exportStar)(GE(),t),(0,n.__exportStar)(GN(),t),(0,n.__exportStar)(GF(),t),(0,n.__exportStar)(GU(),t),(0,n.__exportStar)(GV(),t),(0,n.__exportStar)(GK(),t)}(G_)),G_}var GG,GZ,GY={};function GJ(){return GZ||(GZ=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoPointContent=t.GeoPointLegacy=t.isGeoPointContent=t.GeoPointContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga();t.GeoPointContentType="GeoPointContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.GeoPointContentType;t.isGeoPointContent=o;let a=r.strict({position:r.strict({lat:r.number,lng:r.number})}),u=n=>new r.Type("GeoPointLegacy",t.isGeoPointContent,n=>(0,$r.pipe)(a.decode(n),UG.either.map(n=>t.GeoPointContent.encode({...n,__TYPE__:t.GeoPointContentType}))),t=>({content:{position:t.position},types:{[n.keyOfType]:"GeoPoint"}}));t.GeoPointLegacy=u,t.GeoPointContent=r.intersection([a,r.strict({__TYPE__:r.literal(t.GeoPointContentType)})])}(GY)),GY}var GQ,GX={};function G0(){return GQ||(GQ=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ImageContent=t.ImageLegacy=t.ImageContentView=t.isImageContent=t.ImageContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Kz(),o=Ga();t.ImageContentType="ImageContent";let a=n=>(0,o.hasContentType)(n)&&n.__TYPE__===t.ImageContentType;t.isImageContent=a;let u=r.exact(r.type({id:r.string,url:r.string,width:r.number,height:r.number}));t.ImageContentView=r.exact(r.intersection([r.type({origin:u,width:r.number,height:r.number,edit:r.type({zoom:r.number,crop:r.type({x:r.number,y:r.number}),background:r.string})}),r.partial({url:r.string,credits:i.NonEmptyStringOrNull,alt:i.NonEmptyStringOrNull,provider:i.StringOrNull})]));let s=r.intersection([t.ImageContentView,r.partial({thumbnails:r.record(r.string,t.ImageContentView)})]),l=n=>new r.Type("ImageLegacy",t.isImageContent,n=>(0,UQ.pipe)(s.decode(n),UG.either.map(n=>t.ImageContent.encode({...n,__TYPE__:t.ImageContentType}))),t=>({content:(0,HB.withOptionals)({edit:t.edit,height:t.height,origin:t.origin,width:t.width},[["alt",t.alt],["credits",t.credits],["provider",t.provider],["thumbnails",t.thumbnails],["url",t.url]]),types:{[n.keyOfType]:"Image"}}));t.ImageLegacy=l,t.ImageContent=r.intersection([s,r.strict({__TYPE__:r.literal(t.ImageContentType)})])}(GX)),GX}var G1,G2={};function G3(){return G1||(G1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationFieldContent=t.IntegrationFieldLegacy=t.isIntegrationFieldContent=t.IntegrationFieldContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga();t.IntegrationFieldContentType="IntegrationFieldsContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.IntegrationFieldContentType;t.isIntegrationFieldContent=o;let a=n=>new r.Type("IntegrationFieldLegacy",t.isIntegrationFieldContent,n=>(0,UQ.pipe)(r.string.decode(n),UG.either.map(n=>t.IntegrationFieldContent.encode({value:n,__TYPE__:t.IntegrationFieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:"IntegrationFields"}}));t.IntegrationFieldLegacy=a,t.IntegrationFieldContent=r.strict({__TYPE__:r.literal(t.IntegrationFieldContentType),value:r.string})}(G2)),G2}var G4,G5={};function G6(){return G4||(G4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LinkContent=t.Link=t.LinkContentLegacy=t.LinkLegacy=t.isLinkContent=t.LinkContentType=t.ExternalLinkContent=t.ExternalLinkType=t.DocumentLinkContent=t.DocumentLinkType=t.FileLinkContent=t.FileLinkType=t.ImageLinkContent=t.ImageLinkType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Kz(),o=Ga();t.ImageLinkType="ImageLink";let a=r.exact(r.intersection([r.type({id:r.string,url:r.string,height:r.string,width:r.string,size:r.string,name:r.string,kind:r.string}),r.partial({date:i.StringOrNull})])),u=new r.Type("ImageLink",n=>(0,o.hasContentType)(n)&&n.__TYPE__===t.ImageLinkType,n=>(0,UQ.pipe)(a.decode(n),UG.either.map(n=>t.ImageLinkContent.encode({...n,__TYPE__:t.ImageLinkType}))),t=>a.encode(t));t.ImageLinkContent=r.intersection([r.strict({__TYPE__:r.literal(t.ImageLinkType)}),a]),t.FileLinkType="FileLink";let s=r.exact(r.intersection([r.type({id:r.string,url:r.string,name:r.string,kind:r.string,size:(0,q$.withFallback)(r.string,"0")}),r.partial({date:(0,$n.nullable)(r.string)})])),l=new r.Type("FileLink",n=>(0,o.hasContentType)(n)&&n.__TYPE__===t.FileLinkType,n=>(0,UQ.pipe)(s.decode(n),UG.either.map(n=>t.FileLinkContent.encode({...n,__TYPE__:t.FileLinkType}))),t=>s.encode(t));t.FileLinkContent=r.intersection([s,r.exact(r.intersection([r.type({__TYPE__:r.literal(t.FileLinkType)}),r.partial({size:(0,q$.withFallback)(r.string,"0")})]))]),t.DocumentLinkType="DocumentLink";let c=r.strict({id:i.NonEmptyString}),d=new r.Type("DocumentLink",n=>(0,o.hasContentType)(n)&&n.__TYPE__===t.DocumentLinkType,n=>(0,UQ.pipe)(c.decode(n),UG.either.map(n=>t.DocumentLinkContent.encode({...n,__TYPE__:t.DocumentLinkType}))),t=>c.encode(t));t.DocumentLinkContent=r.intersection([r.strict({__TYPE__:r.literal(t.DocumentLinkType)}),c]),t.ExternalLinkType="ExternalLink";let f=r.exact(r.intersection([r.type({url:r.string}),r.partial({kind:r.literal("web"),target:i.StringOrNull,preview:(0,$n.nullable)(r.partial({title:r.string}))})])),p=new r.Type("ExternalLink",n=>(0,o.hasContentType)(n)&&n.__TYPE__===t.ExternalLinkType,n=>(0,UQ.pipe)(f.decode(n),UG.either.map(n=>t.ExternalLinkContent.encode({...n,__TYPE__:t.ExternalLinkType}))),t=>f.encode(t));t.ExternalLinkContent=r.intersection([r.strict({__TYPE__:r.literal(t.ExternalLinkType)}),f]),t.LinkContentType="LinkContent";let h=n=>(0,o.hasContentType)(n)&&n.__TYPE__===t.LinkContentType;t.isLinkContent=h,t.LinkLegacy=r.union([u,l,d,p]);let m=n=>new r.Type("LinkLegacy",t.isLinkContent,n=>(0,UQ.pipe)(t.LinkLegacy.decode(n),UG.either.map(n=>t.LinkContent.encode({value:n,__TYPE__:t.LinkContentType}))),r=>({content:t.LinkLegacy.encode(r.value),types:{[n.keyOfType]:"Link"}}));t.LinkContentLegacy=m,t.Link=r.union([t.ImageLinkContent,t.FileLinkContent,t.DocumentLinkContent,t.ExternalLinkContent]),t.LinkContent=r.strict({__TYPE__:r.literal(t.LinkContentType),value:t.Link})}(G5)),G5}var G9,G8={},G7={},Ze={};function Zt(){return G9||(G9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Block=t.BlockLegacy=t.TextBlock=t.checkEmbedBlock=t.EmbedBlock=t.checkImageBlock=t.ImageBlock=t.ValidatedSpans=t.SpanLegacy=t.Span=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Kz(),o=Gx(),a=G0(),u=G6(),s=t=>r.strict({data:t,start:r.number,end:r.number,type:r.literal(Hg.RichTextNodeType.hyperlink)}),l=r.strict({data:(0,q$.withFallback)(r.string,""),start:r.number,end:r.number,type:r.literal("label")}),c=r.strict({start:r.number,end:r.number,type:r.keyof({[Hg.RichTextNodeType.strong]:null,[Hg.RichTextNodeType.em]:null,"list-item":null})});t.Span=r.union([s(u.Link),l,c]),t.SpanLegacy=r.union([s(u.LinkLegacy),l,c]);let d=t=>new r.Type("ValidatedSpans",n=>Array.isArray(n)&&n.every(t.is),(n,i)=>{if(!Array.isArray(n))return r.failure(n,i);{let o=n.reduce((n,r)=>{let i=t.decode(r);return(0,UZ.isLeft)(i)?n:[...n,i.right]},[]).sort((t,n)=>t.start-n.start);return r.success(o)}},n=>n.reduce((n,r)=>{let i=t.encode(r);return[...n,i]},[]));t.ValidatedSpans=d;let f=t=>r.exact(r.intersection([r.type({type:r.literal(Hg.RichTextNodeType.image),data:r.intersection([a.ImageContentView,r.partial({linkTo:(0,$n.nullable)(t)})])}),r.partial({label:i.StringOrNull,direction:i.StringOrNull})]));t.ImageBlock=f(u.Link);let p=f(u.LinkLegacy);t.checkImageBlock=function(t){return t.type===Hg.RichTextNodeType.image};let h=r.exact(r.intersection([r.type({type:r.literal(Hg.RichTextNodeType.embed),data:r.unknown}),r.partial({label:i.StringOrNull,direction:i.StringOrNull})])),m=new r.Type("EmbedBlockLegacy",t=>"embed"===t.type,n=>(0,UQ.pipe)(h.decode(n),UG.either.chain(t=>UG.either.map(n=>[t,n])(o.EmbedContentLegacy.decode(t.data))),UG.either.map(([n,r])=>t.EmbedBlock.encode({...n,data:{...r,__TYPE__:o.EmbedContentType,all:n.data}}))),t=>({...h.encode(t),data:o.EmbedContentLegacy.encode(t.data)}));t.EmbedBlock=r.exact(r.intersection([r.type({type:r.literal(Hg.RichTextNodeType.embed),data:o.EmbedContent}),r.partial({label:i.StringOrNull,direction:i.StringOrNull})])),t.checkEmbedBlock=function(t){return t.type===Hg.RichTextNodeType.embed};let g=n=>r.exact(r.intersection([r.type({type:(0,$n.refineType)(Hg.RichTextNodeTypeCodec,`string which isn't ${Hg.RichTextNodeType.image} ${Hg.RichTextNodeType.embed}`,t=>t!==Hg.RichTextNodeType.image&&t!==Hg.RichTextNodeType.embed),content:r.intersection([r.type({text:r.string}),r.partial({spans:(0,t.ValidatedSpans)(n)})])}),r.partial({label:r.string,direction:r.string})]));t.TextBlock=g(t.Span);let y=g(t.SpanLegacy),v=r.union([m,p,y]);t.BlockLegacy=new r.Type("BlockLegacy",t=>m.is(t)||p.is(t)||y.is(t),t=>v.decode(t),n=>t.ImageBlock.is(n)?p.encode(n):t.EmbedBlock.is(n)?m.encode(n):y.encode(n)),t.Block=r.union([t.ImageBlock,t.EmbedBlock,t.TextBlock])}(Ze)),Ze}function Zn(){return Zr||(Zr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextLegacy=t.RichTextContent=t.isRichTextContent=t.RichTextContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga(),o=Zt();t.RichTextContentType="StructuredTextContent";let a=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.RichTextContentType;t.isRichTextContent=a;let u=r.array(o.BlockLegacy);t.RichTextContent=r.strict({__TYPE__:r.literal(t.RichTextContentType),value:r.array(o.Block)}),(0,n.__exportStar)(Zt(),t);let s=n=>new r.Type("RichTextLegacy",t.isRichTextContent,n=>(0,UQ.pipe)(u.decode(n),UG.either.map(n=>({value:n,__TYPE__:t.RichTextContentType}))),t=>({content:u.encode(t.value),types:{[n.keyOfType]:"StructuredText"}}));t.RichTextLegacy=s}(G7)),G7}var Zr,Zi,Zo={};function Za(){return Zi||(Zi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SeparatorContent=t.SeparatorLegacy=t.isSeparatorContent=t.SeparatorContentType=void 0;let n=(0,n1.__importStar)(V4),r=Ga();t.SeparatorContentType="SeparatorContent";let i=n=>(0,r.hasContentType)(n)&&n.__TYPE__===t.SeparatorContentType;t.isSeparatorContent=i;let o=r=>new n.Type("SeparatorLegacy",t.isSeparatorContent,()=>n.success(t.SeparatorContent.encode({__TYPE__:t.SeparatorContentType})),()=>({content:{},types:{[r.keyOfType]:"Separator"}}));t.SeparatorLegacy=o,t.SeparatorContent=n.strict({__TYPE__:n.literal(t.SeparatorContentType)})}(Zo)),Zo}function Zu(){return Zl||(Zl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(Gy(),t),(0,n.__exportStar)(Gx(),t),(0,n.__exportStar)(GH(),t),(0,n.__exportStar)(GJ(),t),(0,n.__exportStar)(G0(),t),(0,n.__exportStar)(G3(),t),(0,n.__exportStar)(G6(),t),(0,n.__exportStar)(function(){if(Zs)return G8;Zs=1,Object.defineProperty(G8,"__esModule",{value:!0}),G8.NestableLegacy=G8.isNestableContent=G8.NestableContentDefaultValue=G8.NestableContent=void 0;let t=n1,n=(0,t.__importStar)(V4),r=Gu(),i=Gy(),o=Gx(),a=GH(),u=GJ(),s=G0(),l=G3(),c=G6(),d=Zn(),f=Za();G8.NestableContent=n.union([r.EmptyContent,i.BooleanContent,o.EmbedContent,a.TextContent,a.TimestampContent,a.SelectContent,a.RangeContent,a.NumberContent,a.DateContent,a.ColorContent,u.GeoPointContent,s.ImageContent,l.IntegrationFieldContent,c.LinkContent,d.RichTextContent,f.SeparatorContent]);let p=t=>{switch(t.type){case"Boolean":return(0,i.BooleanContentDefaultValue)(t);case"Select":return(0,a.SelectContentDefaultValue)(t);default:return}};G8.NestableContentDefaultValue=p;let h=t=>(0,a.isTextContent)(t)||(0,a.isColorContent)(t)||(0,a.isDateContent)(t)||(0,a.isTimestampContent)(t)||(0,a.isNumberContent)(t)||(0,a.isRangeContent)(t)||(0,a.isSelectContent)(t)||(0,u.isGeoPointContent)(t)||(0,d.isRichTextContent)(t)||(0,i.isBooleanContent)(t)||(0,o.isEmbedContent)(t)||(0,s.isImageContent)(t)||(0,l.isIntegrationFieldContent)(t)||(0,c.isLinkContent)(t)||(0,f.isSeparatorContent)(t)||(0,r.isEmptyContent)(t);G8.isNestableContent=h;let m=t=>({decode(n){if(!t.fieldType)return;let p=(0,r.EmptyLegacy)(t.fieldType).decode(n);if((0,UZ.isRight)(p))return p;let h=(()=>{switch(t.fieldType){case"Text":return(0,a.TextLegacy)(t);case"Color":return(0,a.ColorLegacy)(t);case"Date":return(0,a.DateLegacy)(t);case"Timestamp":return(0,a.TimestampLegacy)(t);case"Number":return(0,a.NumberLegacy)(t);case"Range":return(0,a.RangeLegacy)(t);case"Select":return(0,a.SelectLegacy)(t);case"GeoPoint":return(0,u.GeoPointLegacy)(t);case"StructuredText":return(0,d.RichTextLegacy)(t);case"Boolean":return(0,i.BooleanLegacy)(t);case"Embed":return(0,o.EmbedLegacy)(t);case"Image":return(0,s.ImageLegacy)(t);case"IntegrationFields":return(0,l.IntegrationFieldLegacy)(t);case"Link":return(0,c.LinkContentLegacy)(t);case"Separator":return(0,f.SeparatorLegacy)(t);default:return}})();if(h)return h.decode(n)},encode(n){switch(n.__TYPE__){case Gk.FieldContentType:return"Text"===n.type?(0,a.TextLegacy)(t).encode(n):"Color"===n.type?(0,a.ColorLegacy)(t).encode(n):"Range"===n.type?(0,a.RangeLegacy)(t).encode(n):"Date"===n.type?(0,a.DateLegacy)(t).encode(n):"Number"===n.type?(0,a.NumberLegacy)(t).encode(n):"Timestamp"===n.type?(0,a.TimestampLegacy)(t).encode(n):"Select"===n.type?(0,a.SelectLegacy)(t).encode(n):void 0;case u.GeoPointContentType:return(0,u.GeoPointLegacy)(t).encode(n);case d.RichTextContentType:return(0,d.RichTextLegacy)(t).encode(n);case o.EmbedContentType:return(0,o.EmbedLegacy)(t).encode(n);case i.BooleanContentType:return(0,i.BooleanLegacy)(t).encode(n);case s.ImageContentType:return(0,s.ImageLegacy)(t).encode(n);case l.IntegrationFieldContentType:return(0,l.IntegrationFieldLegacy)(t).encode(n);case c.LinkContentType:return(0,c.LinkContentLegacy)(t).encode(n);case f.SeparatorContentType:return(0,f.SeparatorLegacy)(t).encode(n);default:return}}});return G8.NestableLegacy=m,G8}(),t),(0,n.__exportStar)(Zn(),t),(0,n.__exportStar)(Za(),t)}(Gm)),Gm}var Zs,Zl,Zc,Zd={};function Zf(){if(Zc)return Zd;Zc=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.repeatableContentWithDefaultNestableContentValues=Zd.withDefaultNestableContentValues=void 0;let t=Zu();return Zd.withDefaultNestableContentValues=function(n,r){return Object.entries(n).reduce((n,[i,o])=>{if(void 0===r[i]){let a=(0,t.NestableContentDefaultValue)(o);return void 0!==a?{...n,[i]:a}:n}return n},r)},Zd.repeatableContentWithDefaultNestableContentValues=function(n,r){let i=Object.entries(n);return r.map(n=>i.reduce((r,[i,o])=>{if(!n.value.find(([t])=>t===i)){let a=(0,t.NestableContentDefaultValue)(o);return{...r,value:[...r.value,...a?[[i,a]]:[]]}}return r},n))},Zd}function Zp(){return Zh||(Zh=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.traverseGroupItemsContent=t.traverseGroupContent=t.groupContentWithDefaultValues=t.GroupContent=t.isGroupContent=t.GroupContentType=t.GroupLegacy=t.GroupItemLegacy=t.GroupItemContent=t.GroupItemContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga(),o=Zu(),a=Zf();t.GroupItemContentType="GroupItemContent",t.GroupItemContent=r.strict({__TYPE__:r.literal(t.GroupItemContentType),value:r.array(r.tuple([r.string,o.NestableContent]))});let u=r.record(r.string,r.unknown),s=n=>new r.Type("GroupItemLegacy",n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.GroupItemContentType,r=>(0,UQ.pipe)(u.decode(r),UG.either.map(r=>({value:Object.entries(r).reduce((t,[r,i])=>{let a=(0,Gl.getFieldCtx)(r,n),u=(0,o.NestableLegacy)(a).decode(i);return!u||(0,UZ.isLeft)(u)?t:[...t,[r,u.right]]},[]),__TYPE__:t.GroupItemContentType}))),t=>t.value.reduce((t,[r,i])=>{let a=(0,Gl.getFieldCtx)(r,n),u=(0,o.NestableLegacy)(a).encode(i);return u?{content:{...t.content,[r]:u.content},types:{...t.types,...u.types}}:t},{content:{},types:{}}));t.GroupItemLegacy=s;let l=n=>{let i=r.array(r.union([r.null,(0,t.GroupItemLegacy)(n)])),o=r.array((0,t.GroupItemLegacy)(n));return new r.Type("GroupLegacy",t.isGroupContent,n=>(0,UQ.pipe)(i.decode(n),UG.either.map(n=>({value:n.map(n=>null===n?{__TYPE__:t.GroupItemContentType,value:[]}:n),__TYPE__:t.GroupContentType}))),t=>{let r=o.encode(t.value);return{content:r.map(t=>t.content),types:r.reduce((t,n)=>({...t,...n.types}),{[n.keyOfType]:"Group"})}})};t.GroupLegacy=l,t.GroupContentType="GroupContentType";let c=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.GroupContentType;function d({path:t,model:n,content:r}){return i=>r.map((r,a)=>{let u=t.concat([{key:a.toString(),type:"GroupItem"}]),s=r.value.reduce((t,[r,a])=>{let s=null==n?void 0:n[r],l=i({path:u.concat([{key:r,type:"Widget"}]),key:r,apiId:r,model:s,content:a});return l&&(0,o.isNestableContent)(l)?t.concat([[r,l]]):t},[]);return{__TYPE__:r.__TYPE__,value:s}})}t.isGroupContent=c,t.GroupContent=r.strict({__TYPE__:r.literal(t.GroupContentType),value:r.array(t.GroupItemContent)}),t.groupContentWithDefaultValues=function(t,n){var r;let i=null===(r=t.config)||void 0===r?void 0:r.fields;return i?{...n,value:(0,a.repeatableContentWithDefaultNestableContentValues)(i,n.value)}:n},t.traverseGroupContent=function({path:t,key:n,apiId:r,model:i,content:o}){return a=>{var u;let s=d({path:t,model:null===(u=null==i?void 0:i.config)||void 0===u?void 0:u.fields,content:o.value})(a);return a({path:t,key:n,apiId:r,model:i,content:{__TYPE__:o.__TYPE__,value:s}})}},t.traverseGroupItemsContent=d}(Gs)),Gs}var Zh,Zm,Zg={},Zy={},Zv={},Zb={};function Zx(){if(Zm)return Zb;Zm=1,Object.defineProperty(Zb,"__esModule",{value:!0}),Zb.RepeatableWidgets=Zb.RepeatableWidgetsLegacy=void 0;let t=(0,n1.__importStar)(V4),n=Zp(),r=Zu(),i=r=>t.array((0,n.GroupItemLegacy)(r));Zb.RepeatableWidgetsLegacy=i;let o=t.tuple([t.string,r.NestableContent]),a=t.strict({__TYPE__:t.literal(n.GroupItemContentType),value:t.array(o)});return Zb.RepeatableWidgets=t.array(a),Zb}function Z_(){return ZS||(ZS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.migrateCompositeSlice=t.traverseCompositeSliceContent=t.compositeSliceContentWithDefaultValues=t.CompositeSliceContent=t.CompositeSliceLegacy=t.isCompositeSliceContent=t.CompositeSliceContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga(),o=Zp(),a=Zu(),u=Zf(),s=Zx();t.CompositeSliceContentType="CompositeSliceContent";let l=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.CompositeSliceContentType;t.isCompositeSliceContent=l;let c=r.exact(r.partial({repeat:r.array(r.unknown),"non-repeat":r.UnknownRecord})),d=n=>new r.Type("CompositeSliceLegacy",t.isCompositeSliceContent,r=>(0,UQ.pipe)(c.decode(r),UG.either.map(r=>{let i=(()=>{let t=(0,Gl.getFieldCtx)("repeat",n),i=(0,s.RepeatableWidgetsLegacy)(t).decode(r.repeat);if(!(!i||(0,UZ.isLeft)(i)))return i.right})()||[];return{nonRepeat:Object.entries(r["non-repeat"]||{}).reduce((t,[r,i])=>{let o=(0,Gl.getFieldCtx)(r,n,["non-repeat"]);if(!o)return t;let u=(0,a.NestableLegacy)(o).decode(i);return!u||(0,UZ.isLeft)(u)?t:{...t,[r]:u.right}},{}),repeat:i,__TYPE__:t.CompositeSliceContentType}})),t=>{let r=Object.entries(t.nonRepeat).reduce((t,[r,i])=>{let o=(0,Gl.getFieldCtx)(r,n,["non-repeat"]),u=(0,a.NestableLegacy)(o).encode(i);return u?{content:{...t.content,[r]:u.content},types:{...t.types,...u.types}}:t},{content:{},types:{}}),i=(()=>{let r=(0,Gl.getFieldCtx)("repeat",n);return(0,s.RepeatableWidgetsLegacy)(r).encode(t.repeat)})()||[];return{content:{"non-repeat":r.content,repeat:i.map(t=>t.content)},types:{[n.keyOfType]:"Slice",...r.types,...i.reduce((t,n)=>({...t,...n.types}),{})}}});t.CompositeSliceLegacy=d,t.CompositeSliceContent=r.strict({__TYPE__:r.literal(t.CompositeSliceContentType),nonRepeat:r.record(r.string,a.NestableContent),repeat:s.RepeatableWidgets}),t.compositeSliceContentWithDefaultValues=function(t,n){var r,i;let o=(0,u.withDefaultNestableContentValues)(null!==(r=t["non-repeat"])&&void 0!==r?r:{},n.nonRepeat),a=(0,u.repeatableContentWithDefaultNestableContentValues)(null!==(i=t.repeat)&&void 0!==i?i:{},n.repeat);return{...n,nonRepeat:o,repeat:a}},t.traverseCompositeSliceContent=function({path:t,sliceKey:n,sliceName:r,model:i,content:u}){return(s,l)=>{let c=Object.entries(u.widget.nonRepeat).reduce((o,[u,l])=>{var c,d,f;let p=(null==i?void 0:i.type)==="SharedSlice"?null===(d=null===(c=null==i?void 0:i.fields)||void 0===c?void 0:c.primary)||void 0===d?void 0:d[u]:null===(f=null==i?void 0:i["non-repeat"])||void 0===f?void 0:f[u],h=s({path:t.concat([{key:"non-repeat",type:"primary"},{key:u,type:"Widget"}]),key:u,apiId:r,model:p,content:l});return h?(0,a.isNestableContent)(h)?{...o,[u]:h}:(console.warn(`Warn: Non nestable content with key [${u}] detected in a composite slice [${r}] with key [${n}]`),o):o},{}),d=(0,o.traverseGroupItemsContent)({path:t.concat([{key:"repeat",type:"items"}]),model:(null==i?void 0:i.type)==="SharedSlice"?null==i?void 0:i.fields.items:null==i?void 0:i.repeat,content:u.widget.repeat})(s);return l({key:n,apiId:r,path:t,model:i,content:{...u,widget:{__TYPE__:"CompositeSliceContent",repeat:d,nonRepeat:c}}})}},t.migrateCompositeSlice=function(t,n){let[,r]=n.key.split("$");return{key:`${t.sliceName}$${r}`,name:t.sliceName,maybeLabel:n.maybeLabel,widget:{__TYPE__:"SharedSliceContent",variation:t.variationId,primary:Object.entries(n.widget.nonRepeat).reduce((r,[i,o])=>{var a;return!(null===(a=t.fields.primary)||void 0===a)&&a[i]?{...r,[i]:o}:(console.warn(`The widget ${i} in the non-repeat zone of the composite slice [${t.sliceName}] with key [${n.key}] doesn't exist in the model.`),r)},{}),items:n.widget.repeat.map(r=>({__TYPE__:"GroupItemContent",value:r.value.reduce((r,[i,o])=>{var a;return!(null===(a=t.fields.items)||void 0===a)&&a[i]?r.concat([[i,o]]):(console.warn(`The widget ${i} in the repeat zone of the composite slice [${t.sliceName}] with key [${n.key}] doesn't exist in the model.`),r)},[])}),[])}}}}(Zv)),Zv}var ZS,ZT,Zw={};function ZO(){return ZT||(ZT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.traverseSharedSliceContent=t.sharedSliceContentWithDefaultValues=t.SharedSliceContent=t.SharedSliceLegacy=t.isSharedSliceContent=t.SharedSliceContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga(),o=Zp(),a=Zu(),u=Zf(),s=Zx();t.SharedSliceContentType="SharedSliceContent";let l=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.SharedSliceContentType;t.isSharedSliceContent=l;let c=r.exact(r.type({variation:r.string,items:(0,q$.withFallback)(r.array(r.unknown),[]),primary:(0,q$.withFallback)(r.UnknownRecord,{})})),d=n=>new r.Type("SharedSliceLegacy",t.isSharedSliceContent,r=>(0,UQ.pipe)(c.decode(r),UG.either.map(r=>{let i=(()=>{let t=(0,Gl.getFieldCtx)("items",n,["variations",r.variation]),i=(0,s.RepeatableWidgetsLegacy)(t).decode(r.items);if(!(!i||(0,UZ.isLeft)(i)))return i.right})()||[],o=Object.entries(r.primary).reduce((t,[i,o])=>{let u=(0,Gl.getFieldCtx)(i,n,["variations",r.variation,"primary"]),s=(0,a.NestableLegacy)(u).decode(o);return!s||(0,UZ.isLeft)(s)?t:{...t,[i]:s.right}},{});return{variation:r.variation,primary:o,items:i,__TYPE__:t.SharedSliceContentType}})),t=>{let r=Object.entries(t.primary).reduce((r,[i,o])=>{let u=(0,Gl.getFieldCtx)(i,n,["variations",t.variation,"primary"]),s=(0,a.NestableLegacy)(u).encode(o);return s?{content:{...r.content,[i]:s.content},types:{...r.types,...s.types}}:r},{content:{},types:{}}),i=(()=>{let r=(0,Gl.getFieldCtx)("items",n,["variations",t.variation]);return(0,s.RepeatableWidgetsLegacy)(r).encode(t.items)})()||[];return{content:{primary:r.content,items:i.map(t=>t.content),variation:t.variation},types:{[n.keyOfType]:"SharedSlice",...r.types,...i.reduce((t,n)=>({...t,...n.types}),{})}}});t.SharedSliceLegacy=d,t.SharedSliceContent=r.strict({__TYPE__:r.literal(t.SharedSliceContentType),variation:r.string,primary:r.record(r.string,a.NestableContent),items:s.RepeatableWidgets}),t.sharedSliceContentWithDefaultValues=function(t,n){var r,i;let o=t.variations.find(t=>t.id===n.variation),a=null!==(r=null==o?void 0:o.primary)&&void 0!==r?r:{},s=null!==(i=null==o?void 0:o.items)&&void 0!==i?i:{},l=(0,u.withDefaultNestableContentValues)(a,n.primary),c=(0,u.repeatableContentWithDefaultNestableContentValues)(s,n.items);return{...n,primary:l,items:c}},t.traverseSharedSliceContent=function({path:t,sliceKey:n,sliceName:r,model:i,content:u}){return(s,l)=>{let c=Object.entries(u.widget.primary).reduce((o,[u,l])=>{var c,d;let f=null===(d=null===(c=null==i?void 0:i.fields)||void 0===c?void 0:c.primary)||void 0===d?void 0:d[u],p=s({path:t.concat([{key:"primary",type:"primary"},{key:u,type:"Widget"}]),key:u,apiId:r,model:f,content:l});return p?(0,a.isNestableContent)(p)?{...o,[u]:p}:(console.warn(`Warn: Non nestable content with key [${u}] detected in a shared slice [${r}] with key [${n}]`),o):o},{}),d=(0,o.traverseGroupItemsContent)({path:t.concat([{key:"items",type:"items"}]),model:null==i?void 0:i.fields.items,content:u.widget.items})(s);return l({key:n,apiId:r,path:t,model:i,content:{...u,widget:{__TYPE__:"SharedSliceContent",variation:u.widget.variation,primary:c,items:d}}})}}}(Zw)),Zw}var Zk,ZC={};function ZI(){if(Zk)return ZC;Zk=1,Object.defineProperty(ZC,"__esModule",{value:!0}),ZC.migrateSimpleSlice=ZC.traverseSimpleSliceContent=ZC.SimpleSliceLegacy=ZC.isSimpleSliceContent=ZC.SimpleSliceContent=void 0;let t=(0,n1.__importStar)(V4),n=Zp(),r=Zu();ZC.SimpleSliceContent=t.union([r.NestableContent,n.GroupContent]);let i=t=>(0,r.isNestableContent)(t)||(0,n.isGroupContent)(t);ZC.isSimpleSliceContent=i;let o=t=>({decode:"Group"===t.fieldType?(0,n.GroupLegacy)(t).decode.bind(null):(0,r.NestableLegacy)(t).decode.bind(null),encode:i=>"GroupContentType"===i.__TYPE__?(0,n.GroupLegacy)(t).encode(i):(0,r.NestableLegacy)(t).encode(i)});return ZC.SimpleSliceLegacy=o,ZC.traverseSimpleSliceContent=function({path:t,sliceKey:r,sliceName:i,model:o,content:a}){return(u,s)=>{var l;if((0,n.isGroupContent)(a.widget)){let c=(0,n.traverseGroupContent)({path:t,key:a.key,apiId:a.name,model:(null==o?void 0:o.type)==="Group"?o:(null==o?void 0:o.type)==="SharedSlice"?{type:"Group",config:{fields:o.fields.items||{}}}:void 0,content:a.widget})(u);return c&&s({key:a.key,apiId:a.name,path:t,model:o,content:{...a,widget:c}})}let d=u({key:a.key,apiId:a.name,path:t,model:(null==o?void 0:o.type)==="SharedSlice"?null===(l=o.fields.primary)||void 0===l?void 0:l[a.name]:(null==o?void 0:o.type)!=="Group"?o:void 0,content:a.widget});return d&&s({key:r,apiId:i,path:t,model:o,content:{...a,widget:d}})}},ZC.migrateSimpleSlice=function(t,n){var r;let[,i]=n.key.split("$"),o=`${t.sliceName}$${i}`;return"GroupContentType"===n.widget.__TYPE__?{key:o,name:t.sliceName,maybeLabel:n.maybeLabel,widget:{__TYPE__:"SharedSliceContent",variation:t.variationId,primary:{},items:n.widget.value.map(n=>({__TYPE__:"GroupItemContent",value:n.value.reduce((n,[r,i])=>{var o;return!(null===(o=t.fields.items)||void 0===o)&&o[r]?n.concat([[r,i]]):n},[])}),[])}}:{key:o,name:t.sliceName,maybeLabel:n.maybeLabel,widget:{__TYPE__:"SharedSliceContent",variation:t.variationId,primary:!(null===(r=t.fields.primary)||void 0===r)&&r[n.name]?{[n.name]:n.widget}:{},items:[]}}},ZC}function ZM(){return ZR||(ZR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SliceContent=t.SliceLegacy=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Z_(),o=ZO(),a=ZI(),u=t=>({decode:n=>(()=>{switch(t.fieldType){case"Slice":return(0,i.CompositeSliceLegacy)(t);case"SharedSlice":return(0,o.SharedSliceLegacy)(t);default:return(0,a.SimpleSliceLegacy)(t)}})().decode(n),encode(n){switch(n.__TYPE__){case"SharedSliceContent":return(0,o.SharedSliceLegacy)(t).encode(n);case"CompositeSliceContent":return(0,i.CompositeSliceLegacy)(t).encode(n);default:return(0,a.SimpleSliceLegacy)(t).encode(n)}}});t.SliceLegacy=u,t.SliceContent=r.union([i.CompositeSliceContent,o.SharedSliceContent,a.SimpleSliceContent]),(0,n.__exportStar)(Z_(),t),(0,n.__exportStar)(ZO(),t),(0,n.__exportStar)(ZI(),t)}(Zy)),Zy}var ZR,ZE,Zj={};function ZA(){if(ZE)return Zj;ZE=1,Object.defineProperty(Zj,"__esModule",{value:!0}),Zj.migrateSliceItem=Zj.SlicesItemLegacy=Zj.sliceItemContentWithDefaultValues=Zj.isSimpleSliceItemContent=Zj.isCompositeSliceItemContent=Zj.isSharedSliceItemContent=Zj.SliceItemContent=void 0;let t=n1,n=(0,t.__importStar)(V4),r=Zp(),i=Zu(),o=Zf(),a=ZM(),u=Z_(),s=ZO(),l=ZI();function c(t){return(0,u.isCompositeSliceContent)(t.widget)}function d(t){return(0,r.isGroupContent)(t.widget)||(0,i.isNestableContent)(t.widget)}Zj.SliceItemContent=n.type({key:n.string,name:n.string,maybeLabel:n.union([n.string,n.undefined]),widget:a.SliceContent}),Zj.isSharedSliceItemContent=function(t){return(0,s.isSharedSliceContent)(t.widget)},Zj.isCompositeSliceItemContent=c,Zj.isSimpleSliceItemContent=d,Zj.sliceItemContentWithDefaultValues=function(t,n){var i;if("SharedSlice"===t.type&&(0,s.isSharedSliceContent)(n))return(0,a.sharedSliceContentWithDefaultValues)(t,n);if("Slice"===t.type&&(0,u.isCompositeSliceContent)(n))return(0,a.compositeSliceContentWithDefaultValues)(t,n);if("Group"===t.type&&(0,r.isGroupContent)(n)&&!(null===(i=t.config)||void 0===i)&&i.fields){let l=(0,o.repeatableContentWithDefaultNestableContentValues)(t.config.fields,n.value);return{...n,value:l}}return n};let f=n.exact(n.intersection([n.type({key:n.string,value:n.unknown}),n.partial({label:(0,$n.nullable)(n.string)})])),p=t=>new n.Type("SlicesItemLegacy",t=>((0,s.isSharedSliceContent)(t.widget),(0,u.isCompositeSliceContent)(t.widget),(0,l.isSimpleSliceContent)(t.widget)),(r,i)=>(0,UQ.pipe)(f.decode(r),UG.either.chain(o=>{var u;let s=o.key.indexOf("$"),l=o.key.substring(0,s>0?s:void 0),c=(0,Gl.getFieldCtx)(l,t),d=(0,a.SliceLegacy)(c).decode(o.value);return!d||(0,UZ.isLeft)(d)?n.failure(r,i):n.success({key:o.key,name:l,maybeLabel:null!==(u=o.label)&&void 0!==u?u:void 0,widget:d.right})})),n=>{let r=(0,Gl.getFieldCtx)(n.name,t),i=(0,a.SliceLegacy)(r).encode(n.widget);return{content:{key:n.key,label:n.maybeLabel,value:(null==i?void 0:i.content)||{}},types:(null==i?void 0:i.types)||{}}});Zj.SlicesItemLegacy=p;let h=({model:t,content:n})=>c(n)&&(null==t?void 0:t.type)==="SharedSlice"?(0,u.migrateCompositeSlice)(t,n):d(n)&&(null==t?void 0:t.type)==="SharedSlice"?(0,l.migrateSimpleSlice)(t,n):n;return Zj.migrateSliceItem=h,Zj}var ZN,ZP={};function ZL(){return ZF||(ZF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(ZM(),t),(0,n.__exportStar)(ZA(),t),(0,n.__exportStar)((ZN||(ZN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.traverseSlices=t.slicesContentWithDefaultValues=t.SlicesContent=t.SlicesLegacy=t.isSlicesContent=t.SlicesContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga(),o=Z_(),a=ZO(),u=ZI(),s=ZA();t.SlicesContentType="SliceContentType";let l=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.SlicesContentType;t.isSlicesContent=l;let c=n=>{let i=r.array((0,s.SlicesItemLegacy)(n));return new r.Type("SlicesLegacy",t.isSlicesContent,n=>(0,UQ.pipe)(i.decode(n),UG.either.map(n=>({__TYPE__:t.SlicesContentType,value:n}))),t=>{let r=i.encode(t.value);return{content:r.map(t=>t.content),types:r.reduce((t,n)=>({...t,...n.types}),{[n.keyOfType]:"Slices"})}})};t.SlicesLegacy=c,t.SlicesContent=r.type({__TYPE__:r.literal(t.SlicesContentType),value:r.array(s.SliceItemContent)}),t.slicesContentWithDefaultValues=function(t,n){var r;let i=null===(r=null==t?void 0:t.config)||void 0===r?void 0:r.choices;if(void 0===i)return n;let o=n.value.map(t=>{let n=i[t.name];if(n){let r=(0,s.sliceItemContentWithDefaultValues)(n,t.widget);return{...t,widget:r}}return t});return{...n,value:o}},t.traverseSlices=function({path:t,key:n,model:r,content:i}){return({transformWidget:l=({content:t})=>t,transformSlice:c=({content:t})=>t})=>{let d=i.value.reduce((n,i)=>{let d=r&&function(t,n,r){var i,o;let a=null===(o=null===(i=null==n?void 0:n.config)||void 0===i?void 0:i.choices)||void 0===o?void 0:o[r.name];return(()=>{if((0,s.isSharedSliceItemContent)(r)&&a&&(0,qJ.isStaticSharedSlice)(a)){let t=a.variations.find(t=>t.id===r.widget.variation);return t?{type:"SharedSlice",sliceName:a.id,variationId:t.id,fields:{primary:t.primary||{},items:t.items||{}}}:void 0}})()||(()=>{var i;let o=V5.ContentPath.append(V5.ContentPath.serialize(t),r.name),a=Object.values((null===(i=null==n?void 0:n.config)||void 0===i?void 0:i.choices)||{}).find(t=>{var n;return!!(0,qJ.isStaticSharedSlice)(t)&&!!(!(null===(n=t.legacyPaths)||void 0===n)&&n[o])});if(!a)return;let u=null==a?void 0:a.variations.find(t=>{var n;return t.id===(null===(n=a.legacyPaths)||void 0===n?void 0:n[o])});if(u)return{type:"SharedSlice",sliceName:a.id,variationId:u.id,fields:{primary:u.primary||{},items:u.items||{}}}})()||(()=>{if(a){if((0,qJ.isCompositeSlice)(a))return{type:"Slice","non-repeat":a["non-repeat"]||{},repeat:a.repeat||{}};if((0,qJ.isLegacySlice)(a))return a}})()}(t,r,i),f=(0,s.isSharedSliceItemContent)(i)?(0,a.traverseSharedSliceContent)({path:t.concat({key:i.key,type:"SharedSlice"}),sliceKey:i.key,sliceName:i.name,model:(null==d?void 0:d.type)==="SharedSlice"?d:void 0,content:i})(l,c):(0,s.isCompositeSliceItemContent)(i)?(0,o.traverseCompositeSliceContent)({path:t.concat({key:i.key,type:"Slice"}),sliceKey:i.key,sliceName:i.name,model:(null==d?void 0:d.type)==="Slice"||(null==d?void 0:d.type)==="SharedSlice"?d:void 0,content:i})(l,c):(0,s.isSimpleSliceItemContent)(i)?(0,u.traverseSimpleSliceContent)({path:t.concat({key:i.key,type:"LegacySlice"}),sliceKey:i.key,sliceName:i.name,model:d&&(null==d?void 0:d.type)!=="Slice"?d:void 0,content:i})(l,c):void 0;return f?n.concat(f):n},[]);return l({path:t,key:n,apiId:n,model:r,content:{__TYPE__:i.__TYPE__,value:d}})}}}(ZP)),ZP),t)}(Zg)),Zg}var ZF,ZD,ZW={};function ZU(){return ZD||(ZD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UIDContent=t.UIDLegacy=t.isUIDContent=t.UIDContentType=void 0;let n=n1,r=(0,n.__importStar)(V4),i=Ga();t.UIDContentType="UIDContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.UIDContentType;t.isUIDContent=o;let a=n=>new r.Type("UIDLegacy",t.isUIDContent,n=>(0,UQ.pipe)(r.string.decode(n),UG.either.map(n=>t.UIDContent.encode({value:n,__TYPE__:t.UIDContentType}))),t=>({content:t.value,types:{[n.keyOfType]:"UID"}}));t.UIDLegacy=a,t.UIDContent=r.type({__TYPE__:r.literal(t.UIDContentType),value:r.string})}(ZW)),ZW}var Zz,ZB={};function ZV(){return i||(i=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(Gu(),t),(0,n.__exportStar)(Zp(),t),(0,n.__exportStar)(Zu(),t),(0,n.__exportStar)(ZL(),t),(0,n.__exportStar)(ZU(),t),(0,n.__exportStar)(function(){if(Zz)return ZB;Zz=1,Object.defineProperty(ZB,"__esModule",{value:!0}),ZB.WidgetLegacy=ZB.isWidgetContent=ZB.WidgetContent=void 0;let t=(0,n1.__importStar)(V4),n=Zp(),r=Zu(),i=ZL(),o=ZU();ZB.WidgetContent=t.union([n.GroupContent,r.NestableContent,o.UIDContent,i.SlicesContent]);let a=t=>(0,n.isGroupContent)(t)||(0,r.isNestableContent)(t)||(0,o.isUIDContent)(t)||(0,i.isSlicesContent)(t);ZB.isWidgetContent=a;let u=t=>({decode(a){if(!t.fieldType)return;let u=(()=>{switch(t.fieldType){case"UID":return(0,o.UIDLegacy)(t);case"Group":return(0,n.GroupLegacy)(t);case"Choice":case"Slices":return(0,i.SlicesLegacy)(t);default:return(0,r.NestableLegacy)(t)}})();if(u)return u.decode(a)},encode(a){switch(a.__TYPE__){case o.UIDContentType:return(0,o.UIDLegacy)(t).encode(a);case n.GroupContentType:return(0,n.GroupLegacy)(t).encode(a);case i.SlicesContentType:return(0,i.SlicesLegacy)(t).encode(a);default:return(0,r.NestableLegacy)(t).encode(a)}}});return ZB.WidgetLegacy=u,ZB}(),t)}(Gr)),Gr}Object.defineProperty(n2,"__esModule",{value:!0}),n2.migrateDocument=n2.collectWidgets=n2.traverseDocument=n2.fillDocumentWithDefaultValues=n2.DocumentLegacy=n2.Document=void 0;let Z$=n1,Zq=(0,Z$.__importStar)(V4),ZK=ZV();n2.Document=Zq.record(V6.WidgetKey,ZK.WidgetContent);let ZH=Zq.record(V6.WidgetKey,Zq.unknown),ZG=t=>new Zq.Type("Document",t=>!!t&&"object"==typeof t,n=>(0,UQ.pipe)(ZH.decode(n),UG.either.map(n=>Object.entries(n).reduce((n,[r,i])=>{let o=(0,Gl.defaultCtx)(r,t),a=(0,ZK.WidgetLegacy)(o).decode(i);return!a||(0,UZ.isLeft)(a)?n:{...n,[r]:a.right}},{}))),n=>Object.entries(n).reduce((n,[r,i])=>{let o=(0,Gl.defaultCtx)(r,t),a=(0,ZK.WidgetLegacy)(o).encode(i);return a?{content:{...n.content,[r]:a.content},types:{...n.types,...a.types}}:n},{content:{},types:{}}));function ZZ(t){let n=Object.entries(t),{types:r,widgets:i}=n.reduce((t,[n,r])=>{if(n.endsWith("_TYPE")){let i=Gl.FieldOrSliceType.decode(r);if((0,UZ.isRight)(i))return{...t,types:t.types.set(n.substring(0,n.length-5),i.right)}}return n.endsWith("_POSITION")||n.endsWith("_TYPE")?t:{...t,widgets:{...t.widgets,[n]:r}}},{types:new Map,widgets:{}}),o=t.slugs_INTERNAL||[],a=t.uid;return{widgets:i,types:r,uid:a,slugs:o}}function ZY(t){return{customTypeId:null==t?void 0:t.id,fields:Object.fromEntries((0,qJ.flattenSections)(t))}}function ZJ({document:t,customType:n}){let r=n&&qJ.StaticCustomType.is(n)?ZY(n):n;return({transformWidget:n=({content:t})=>t,transformSlice:i=({content:t})=>t})=>{let o=r&&Object.entries(r.fields).reduce((t,[n,r])=>({...t,[n]:r}),{});return Object.entries(t).reduce((t,[a,u])=>{let s=o&&o[a],l=V5.ContentPath.make([{key:null==r?void 0:r.customTypeId,type:"CustomType"},{key:a,type:"Widget"}]),c=(()=>{switch(u.__TYPE__){case"SliceContentType":return(0,ZK.traverseSlices)({path:l,key:a,model:(null==s?void 0:s.type)==="Slices"||(null==s?void 0:s.type)==="Choice"?s:void 0,content:u})({transformWidget:n,transformSlice:i});case"GroupContentType":return(0,ZK.traverseGroupContent)({path:l,key:a,apiId:a,model:(null==s?void 0:s.type)==="Group"?s:void 0,content:u})(n);default:return n({path:l,key:a,apiId:a,model:(null==s?void 0:s.type)!=="Group"&&(null==s?void 0:s.type)!=="Slices"&&(null==s?void 0:s.type)!=="Choice"?s:void 0,content:u})}})();return{...t,...c?{[a]:c}:{}}},{})}}function ZQ(t,n){let r=qJ.StaticCustomType.is(n)?ZY(n):n;return Object.values((0,qJ.collectSharedSlices)(r)).some(t=>Boolean(t.legacyPaths))?ZJ({document:t,customType:n})({transformSlice:ZK.migrateSliceItem}):t}n2.DocumentLegacy={_codec:ZG,extractMetadata:ZZ,parse:function(t,n){let r=(0,UQ.pipe)(Zq.record(V6.WidgetKey,Zq.unknown).decode(t),UG.either.chain(t=>{let{types:n,widgets:r}=ZZ(t);return ZG(n).decode(r)}));return(0,UZ.isLeft)(r)?void 0:ZQ(r.right,n)},encode:function(t){let n=ZG().encode(t);return{...n.content,...n.types}}},n2.fillDocumentWithDefaultValues=function(t,n){let{fields:r}=t&&qJ.StaticCustomType.is(t)?ZY(t):t;return Object.entries(r).reduce((t,[r,i])=>{let o=n[r],a=(()=>{switch(i.type){case"Group":return(0,ZK.isGroupContent)(o)?(0,ZK.groupContentWithDefaultValues)(i,o):o;case"Choice":case"Slices":return(0,ZK.isSlicesContent)(o)?(0,ZK.slicesContentWithDefaultValues)(i,o):o;default:return void 0===o&&qJ.NestableWidget.is(i)?(0,ZK.NestableContentDefaultValue)(i):o}})();return a?{...t,[r]:a}:t},n)},n2.traverseDocument=ZJ,n2.collectWidgets=function(t,n){let r={};return ZJ({document:t})({transformWidget({content:t,path:i}){let o=V5.ContentPath.serialize(i);return n(t,i)&&(r[o]=t),t}}),r},n2.migrateDocument=ZQ,function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=n1;(0,n.__exportStar)(n2,t),(0,n.__exportStar)(ZV(),t),(0,n.__exportStar)(Gl,t)}(n0);let ZX=(0,o.createContext)({update(){}});function Z0(t){var n;return(null==(n=t.config)?void 0:n.label)??("Boolean"===t.type||"Separator"===t.type?void 0:t.fieldset)??t.type}function Z1(t,n){var r,i,o;return"Boolean"===t.type?(n?null==(r=t.config)?void 0:r.placeholder_true:null==(i=t.config)?void 0:i.placeholder_false)||"...":(null==(o=t.config)?void 0:o.placeholder)||"..."}function Z2(t){var n;let{content:r,field:i,id:o,readOnly:a,onContentChange:s}=t,l=(null==r?void 0:r.value)??(null==(n=i.config)?void 0:n.default_value)??!1;return M.jsxs(u.gN,{children:[M.jsx(u.fw,{name:"toggleOff"}),M.jsx(u.Qy,{htmlFor:o,children:Z0(i)}),M.jsxs(u.JO,{children:[M.jsx(u.xu,{padding:4,alignItems:"center",children:M.jsx(u.xv,{children:Z1(i,l)})}),M.jsx(u.rs,{id:o,sx:{alignSelf:"center",marginLeft:"auto",marginRight:12},checked:l,onCheckedChange(t){var n;a||s((n=t,{__TYPE__:"BooleanContent",value:n}))}})]})]})}function Z3(t){let{id:n,field:r,content:i,onContentChange:o}=t;return M.jsxs(u.gN,{children:[M.jsx(u.fw,{name:"colorLens"}),M.jsx(u.Qy,{id:n,children:Z0(r)}),M.jsx(u.JO,{children:M.jsx(u.xu,{padding:{left:4},alignItems:"center",children:M.jsx(u.TC,{onValueChange(t){var n;return o((n=t,void 0===n?void 0:{__TYPE__:"FieldContent",type:"Color",value:n}))},value:null==i?void 0:i.value,"aria-labelledby":n,placeholder:Z1(r)})})})]})}function Z4(t){let{id:n,readOnly:r,field:i,content:o,onContentChange:a}=t,s=null!=o&&o.value?(0,l._O)(o.value):void 0;return M.jsxs(u.gN,{children:[M.jsx(u.fw,{name:"dateRange"}),M.jsx(u.Qy,{id:n,children:Z0(i)}),M.jsx(u.JO,{children:M.jsx(u.xu,{padding:{left:4,right:12},width:"100%",flexDirection:"column",justifyContent:"center",children:M.jsx(u.Wr,{mode:"date","aria-labelledby":n,disabled:r,value:s,onValueChange:t=>a(function(t){if(t)return{__TYPE__:"FieldContent",type:"Date",value:function(t){let n=`${t.getFullYear()}`.padStart(4,"0"),r=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${n}-${r}-${i}`}(t)}}(t))})})})]})}let Z5=(0,o.forwardRef)(function(t,n){return M.jsx(u.oi,{...t,padding:Z6,ref:n,sx:{...t.sx,alignSelf:"stretch"}})}),Z6={input:{inline:4},adornment:{inline:12}};function Z9(t){this.content=t}Z9.prototype={constructor:Z9,find:function(t){for(var n=0;n<this.content.length;n+=2)if(this.content[n]===t)return n;return -1},get:function(t){var n=this.find(t);return -1==n?void 0:this.content[n+1]},update:function(t,n,r){var i=r&&r!=t?this.remove(r):this,o=i.find(t),a=i.content.slice();return -1==o?a.push(r||t,n):(a[o+1]=n,r&&(a[o]=r)),new Z9(a)},remove:function(t){var n=this.find(t);if(-1==n)return this;var r=this.content.slice();return r.splice(n,2),new Z9(r)},addToStart:function(t,n){return new Z9([t,n].concat(this.remove(t).content))},addToEnd:function(t,n){var r=this.remove(t).content.slice();return r.push(t,n),new Z9(r)},addBefore:function(t,n,r){var i=this.remove(n),o=i.content.slice(),a=i.find(t);return o.splice(-1==a?o.length:a,0,n,r),new Z9(o)},forEach:function(t){for(var n=0;n<this.content.length;n+=2)t(this.content[n],this.content[n+1])},prepend:function(t){return(t=Z9.from(t)).size?new Z9(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=Z9.from(t)).size?new Z9(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var n=this;t=Z9.from(t);for(var r=0;r<t.content.length;r+=2)n=n.remove(t.content[r]);return n},toObject:function(){var t={};return this.forEach(function(n,r){t[n]=r}),t},get size(){return this.content.length>>1}},Z9.from=function(t){if(t instanceof Z9)return t;var n=[];if(t)for(var r in t)n.push(r,t[r]);return new Z9(n)};class Z8{constructor(t,n){if(this.content=t,this.size=n||0,null==n)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let a=0,u=0;u<n;a++){let s=this.content[a],l=u+s.nodeSize;if(l>t&&!1!==r(s,i+u,o||null,a)&&s.content.size){let c=u+1;s.nodesBetween(Math.max(0,t-c),Math.min(s.content.size,n-c),r,i+c)}u=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",a=!0;return this.nodesBetween(t,n,(u,s)=>{u.isText?(o+=u.text.slice(Math.max(t,s)-s,n-s),a=!r):u.isLeaf?(i?o+="function"==typeof i?i(u):i:u.type.spec.leafText&&(o+=u.type.spec.leafText(u)),a=!r):!a&&u.isBlock&&(o+=r,a=!0)},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Z8(i,this.size+t.size)}cut(t,n=this.size){if(0==t&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,a=0;a<n;o++){let u=this.content[o],s=a+u.nodeSize;s>t&&((a<t||s>n)&&(u=u.isText?u.cut(Math.max(0,t-a),Math.min(u.text.length,n-a)):u.cut(Math.max(0,t-a-1),Math.min(u.content.size,n-a-1))),r.push(u),i+=u.nodeSize),a=s}return new Z8(r,i)}cutByIndex(t,n){return t==n?Z8.empty:0==t&&n==this.content.length?this:new Z8(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Z8(i,o)}addToStart(t){return new Z8([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Z8(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return function t(n,r,i){for(let o=0;;o++){if(o==n.childCount||o==r.childCount)return n.childCount==r.childCount?null:i;let a=n.child(o),u=r.child(o);if(a==u){i+=a.nodeSize;continue}if(!a.sameMarkup(u))return i;if(a.isText&&a.text!=u.text){for(let s=0;a.text[s]==u.text[s];s++)i++;return i}if(a.content.size||u.content.size){let l=t(a.content,u.content,i+1);if(null!=l)return l}i+=a.nodeSize}}(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return function t(n,r,i,o){for(let a=n.childCount,u=r.childCount;;){if(0==a||0==u)return a==u?null:{a:i,b:o};let s=n.child(--a),l=r.child(--u),c=s.nodeSize;if(s==l){i-=c,o-=c;continue}if(!s.sameMarkup(l))return{a:i,b:o};if(s.isText&&s.text!=l.text){let d=0,f=Math.min(s.text.length,l.text.length);for(;d<f&&s.text[s.text.length-d-1]==l.text[l.text.length-d-1];)d++,i--,o--;return{a:i,b:o}}if(s.content.size||l.content.size){let p=t(s.content,l.content,i-1,o-1);if(p)return p}i-=c,o-=c}}(this,t,n,r)}findIndex(t,n=-1){if(0==t)return Ye(0,t);if(t==this.size)return Ye(this.content.length,t);if(t>this.size||t<0)throw RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=i+this.child(r).nodeSize;if(o>=t)return o==t||n>0?Ye(r+1,o):Ye(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Z8.empty;if(!Array.isArray(n))throw RangeError("Invalid input for Fragment.fromJSON");return new Z8(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Z8.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Z8(n||t,r)}static from(t){if(!t)return Z8.empty;if(t instanceof Z8)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Z8([t],t.nodeSize);throw RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Z8.empty=new Z8([],0);let Z7={index:0,offset:0};function Ye(t,n){return Z7.index=t,Z7.offset=n,Z7}function Yt(t,n){if(t===n)return!0;if(!(t&&"object"==typeof t)||!(n&&"object"==typeof n))return!1;let r=Array.isArray(t);if(Array.isArray(n)!=r)return!1;if(r){if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(!Yt(t[i],n[i]))return!1}else{for(let o in t)if(!(o in n)||!Yt(t[o],n[o]))return!1;for(let a in n)if(!(a in t))return!1}return!0}let Yn=class t{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Yt(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(n){if(!n||Array.isArray(n)&&0==n.length)return t.none;if(n instanceof t)return[n];let r=n.slice();return r.sort((t,n)=>t.type.rank-n.type.rank),r}};Yn.none=[];class Yr extends Error{}class Yi{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=function t(n,r,i,o){let{index:a,offset:u}=n.findIndex(r),s=n.maybeChild(a);if(u==r||s.isText)return o&&!o.canReplace(a,a,i)?null:n.cut(0,r).append(i).append(n.cut(r));let l=t(s.content,r-u-1,i);return l&&n.replaceChild(a,s.copy(l))}(this.content,t+this.openStart,n);return r&&new Yi(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Yi(function t(n,r,i){let{index:o,offset:a}=n.findIndex(r),u=n.maybeChild(o),{index:s,offset:l}=n.findIndex(i);if(a==r||u.isText){if(l!=i&&!n.child(s).isText)throw RangeError("Removing non-flat range");return n.cut(0,r).append(n.cut(i))}if(o!=s)throw RangeError("Removing non-flat range");return n.replaceChild(o,u.copy(t(u.content,r-a-1,i-a-1)))}(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Yi.empty;let r=n.openStart||0,i=n.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw RangeError("Invalid input for Slice.fromJSON");return new Yi(Z8.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new Yi(t,r,i)}}function Yo(t,n){if(!n.type.compatibleContent(t.type))throw new Yr("Cannot join "+n.type.name+" onto "+t.type.name)}function Ya(t,n,r){let i=t.node(r);return Yo(i,n.node(r)),i}function Yu(t,n){let r=n.length-1;r>=0&&t.isText&&t.sameMarkup(n[r])?n[r]=t.withText(n[r].text+t.text):n.push(t)}function Ys(t,n,r,i){let o=(n||t).node(r),a=0,u=n?n.index(r):o.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(Yu(t.nodeAfter,i),a++));for(let s=a;s<u;s++)Yu(o.child(s),i);n&&n.depth==r&&n.textOffset&&Yu(n.nodeBefore,i)}function Yl(t,n){return t.type.checkContent(n),t.copy(n)}function Yc(t,n,r){let i=[];return Ys(null,t,r,i),t.depth>r&&Yu(Yl(Ya(t,n,r+1),Yc(t,n,r+1)),i),Ys(n,null,r,i),new Z8(i)}Yi.empty=new Yi(Z8.empty,0,0);class Yd{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):0==t?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[3*n],i=0==n?0:this.path[3*n-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(0==t.content.size)return Yn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let o=r;r=i,i=o}let a=r.marks;for(var u=0;u<a.length;u++)!1!==a[u].type.spec.inclusive||i&&a[u].isInSet(i.marks)||(a=a[u--].removeFromSet(a));return a}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)!1!==r[o].type.spec.inclusive||i&&r[o].isInSet(i.marks)||(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ym(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let a=t;;){let{index:u,offset:s}=a.content.findIndex(o),l=o-s;if(r.push(a,u,i+s),!l||(a=a.child(u)).isText)break;o=l-1,i+=s+1}return new Yd(n,r,o)}static resolveCached(t,n){for(let r=0;r<Yf.length;r++){let i=Yf[r];if(i.pos==n&&i.doc==t)return i}let o=Yf[Yp]=Yd.resolve(t,n);return Yp=(Yp+1)%Yh,o}}let Yf=[],Yp=0,Yh=12;class Ym{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}let Yg=Object.create(null),Yy=class t{constructor(t,n,r,i=Yn.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Z8.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Yt(this.attrs,n||t.defaultAttrs||Yg)&&Yn.sameSet(this.marks,r||Yn.none)}copy(n=null){return n==this.content?this:new t(this.type,this.attrs,n,this.marks)}mark(n){return n==this.marks?this:new t(this.type,this.attrs,this.content,n)}cut(t,n=this.content.size){return 0==t&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Yi.empty;let i=this.resolve(t),o=this.resolve(n),a=r?0:i.sharedDepth(n),u=i.start(a),s=i.node(a).content.cut(i.pos-u,o.pos-u);return new Yi(s,i.depth-a,o.depth-a)}replace(t,n,r){return function(t,n,r){if(r.openStart>t.depth)throw new Yr("Inserted content deeper than insertion position");if(t.depth-r.openStart!=n.depth-r.openEnd)throw new Yr("Inconsistent open depths");return function t(n,r,i,o){let a=n.index(o),u=n.node(o);if(a==r.index(o)&&o<n.depth-i.openStart){let s=t(n,r,i,o+1);return u.copy(u.content.replaceChild(a,s))}if(!i.content.size)return Yl(u,Yc(n,r,o));if(i.openStart||i.openEnd||n.depth!=o||r.depth!=o){let{start:l,end:c}=function(t,n){let r=n.depth-t.openStart,i=n.node(r).copy(t.content);for(let o=r-1;o>=0;o--)i=n.node(o).copy(Z8.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}(i,n);return Yl(u,function t(n,r,i,o,a){let u=n.depth>a&&Ya(n,r,a+1),s=o.depth>a&&Ya(i,o,a+1),l=[];return Ys(null,n,a,l),u&&s&&r.index(a)==i.index(a)?(Yo(u,s),Yu(Yl(u,t(n,r,i,o,a+1)),l)):(u&&Yu(Yl(u,Yc(n,r,a+1)),l),Ys(r,i,a,l),s&&Yu(Yl(s,Yc(i,o,a+1)),l)),Ys(o,null,a,l),new Z8(l)}(n,l,c,r,o))}{let d=n.parent,f=d.content;return Yl(d,f.cut(0,n.parentOffset).append(i.content).append(f.cut(r.parentOffset)))}}(t,n,r,0)}(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(!(n=n.maybeChild(r)))return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Yd.resolveCached(this,t)}resolveNoCache(t){return Yd.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,t=>(r.isInSet(t.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Yb(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Z8.empty,i=0,o=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,o),u=a&&a.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let s=i;s<o;s++)if(!this.type.allowsMarks(r.child(s).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),a=o&&o.matchFragment(this.content,n);return!!a&&a.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=Yn.none;for(let n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!Yn.sameSet(t,this.marks))throw RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(t=>t.toJSON())),t}static fromJSON(t,n){if(!n)throw RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if("text"==n.type){if("string"!=typeof n.text)throw RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Z8.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,i,r)}};Yy.prototype.text=void 0;class Yv extends Yy{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Yb(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Yv(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Yv(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return 0==t&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Yb(t,n){for(let r=t.length-1;r>=0;r--)n=t[r].type.name+"("+n+")";return n}class Yx{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){var r;let i=new Y_(t,n);if(null==i.next)return Yx.empty;let o=YS(i);i.next&&i.err("Unexpected trailing text");let a,u=(r=function(t){let n=[[]];return o(a(t,0),r()),n;function r(){return n.push([])-1}function i(t,r,i){let o={term:i,to:r};return n[t].push(o),o}function o(t,n){t.forEach(t=>t.to=n)}function a(t,n){if("choice"==t.type)return t.exprs.reduce((t,r)=>t.concat(a(r,n)),[]);if("seq"==t.type)for(let u=0;;u++){let s=a(t.exprs[u],n);if(u==t.exprs.length-1)return s;o(s,n=r())}else if("star"==t.type){let l=r();return i(n,l),o(a(t.expr,l),l),[i(l)]}else if("plus"==t.type){let c=r();return o(a(t.expr,n),c),o(a(t.expr,c),c),[i(c)]}else{if("opt"==t.type)return[i(n)].concat(a(t.expr,n));if("range"==t.type){let d=n;for(let f=0;f<t.min;f++){let p=r();o(a(t.expr,d),p),d=p}if(-1==t.max)o(a(t.expr,d),d);else for(let h=t.min;h<t.max;h++){let m=r();i(d,m),o(a(t.expr,d),m),d=m}return[i(d)]}if("name"==t.type)return[i(n,void 0,t.value)];throw Error("Unknown expr type")}}}(o),a=Object.create(null),function t(n){let i=[];n.forEach(t=>{r[t].forEach(({term:t,to:n})=>{if(!t)return;let o;for(let a=0;a<i.length;a++)i[a][0]==t&&(o=i[a][1]);YM(r,n).forEach(n=>{o||i.push([t,o=[]]),-1==o.indexOf(n)&&o.push(n)})})});let o=a[n.join(",")]=new Yx(n.indexOf(r.length-1)>-1);for(let u=0;u<i.length;u++){let s=i[u][1].sort(YI);o.next.push({type:i[u][0],next:a[s.join(",")]||t(s)})}return o}(YM(r,0)));return function(t,n){for(let r=0,i=[t];r<i.length;r++){let o=i[r],a=!o.validEnd,u=[];for(let s=0;s<o.next.length;s++){let{type:l,next:c}=o.next[s];u.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),-1==i.indexOf(c)&&i.push(c)}a&&n.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(u,i),u}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];return function o(a,u){let s=a.matchFragment(t,r);if(s&&(!n||s.validEnd))return Z8.from(u.map(t=>t.createAndFill()));for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];if(!(c.isText||c.hasRequiredAttrs())&&-1==i.indexOf(d)){i.push(d);let f=o(d,u.concat(c));if(f)return f}}return null}(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let u=i;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:c}=o.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in n||i.type&&!c.validEnd||(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function n(r){t.push(r);for(let i=0;i<r.next.length;i++)-1==t.indexOf(r.next[i].next)&&n(r.next[i].next)}(this),t.map((n,r)=>{let i=r+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+t.indexOf(n.next[o].next);return i}).join(`
`)}}Yx.empty=new Yx(!0);class Y_{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw SyntaxError(t+" (in content expression '"+this.string+"')")}}function YS(t){let n=[];do n.push(YT(t));while(t.eat("|"));return 1==n.length?n[0]:{type:"choice",exprs:n}}function YT(t){let n=[];do n.push(Yw(t));while(t.next&&")"!=t.next&&"|"!=t.next);return 1==n.length?n[0]:{type:"seq",exprs:n}}function Yw(t){let n=YC(t);for(;;)if(t.eat("+"))n={type:"plus",expr:n};else if(t.eat("*"))n={type:"star",expr:n};else if(t.eat("?"))n={type:"opt",expr:n};else if(t.eat("{"))n=Yk(t,n);else break;return n}function YO(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let n=Number(t.next);return t.pos++,n}function Yk(t,n){let r=YO(t),i=r;return t.eat(",")&&(i="}"!=t.next?YO(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:i,expr:n}}function YC(t){if(t.eat("(")){let n=YS(t);return t.eat(")")||t.err("Missing closing paren"),n}if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let r=(function(t,n){let r=t.nodeTypes,i=r[n];if(i)return[i];let o=[];for(let a in r){let u=r[a];u.groups.indexOf(n)>-1&&o.push(u)}return 0==o.length&&t.err("No node type or group '"+n+"' found"),o})(t,t.next).map(n=>(null==t.inline?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,1==r.length?r[0]:{type:"choice",exprs:r}}}function YI(t,n){return n-t}function YM(t,n){let r=[];return function n(i){let o=t[i];if(1==o.length&&!o[0].term)return n(o[0].to);r.push(i);for(let a=0;a<o.length;a++){let{term:u,to:s}=o[a];u||-1!=r.indexOf(s)||n(s)}}(n),r.sort(YI)}function YR(t){let n=Object.create(null);for(let r in t){let i=t[r];if(!i.hasDefault)return null;n[r]=i.default}return n}function YE(t,n){let r=Object.create(null);for(let i in t){let o=n&&n[i];if(void 0===o){let a=t[i];if(a.hasDefault)o=a.default;else throw RangeError("No value supplied for attribute "+i)}r[i]=o}return r}function Yj(t){let n=Object.create(null);if(t)for(let r in t)n[r]=new YN(t[r]);return n}let YA=class t{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Yj(r.attrs),this.defaultAttrs=YR(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Yx.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:YE(this.attrs,t)}create(t=null,n,r){if(this.isText)throw Error("NodeType.create can't construct text nodes");return new Yy(this,this.computeAttrs(t),Z8.from(n),Yn.setFrom(r))}createChecked(t=null,n,r){return n=Z8.from(n),this.checkContent(n),new Yy(this,this.computeAttrs(t),n,Yn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),(n=Z8.from(n)).size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let o=this.contentMatch.matchFragment(n),a=o&&o.fillBefore(Z8.empty,!0);return a?new Yy(this,t,n.append(a),Yn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Yn.none:t}static compile(n,r){let i=Object.create(null);n.forEach((n,o)=>i[n]=new t(n,r,o));let o=r.spec.topNode||"doc";if(!i[o])throw RangeError("Schema is missing its top node type ('"+o+"')");if(!i.text)throw RangeError("Every schema needs a 'text' type");for(let a in i.text.attrs)throw RangeError("The text node type should not have attributes");return i}};class YN{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class YP{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=Yj(i.attrs),this.excluded=null;let o=YR(this.attrs);this.instance=o?new Yn(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Yn(this,YE(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((t,o)=>r[t]=new YP(t,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}excludes(t){return this.excluded.indexOf(t)>-1}}class YL{constructor(t){this.cached=Object.create(null);let n=this.spec={};for(let r in t)n[r]=t[r];n.nodes=Z9.from(t.nodes),n.marks=Z9.from(t.marks||{}),this.nodes=YA.compile(this.spec.nodes,this),this.marks=YP.compile(this.spec.marks,this);let i=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw RangeError(o+" can not be both a node and a mark");let a=this.nodes[o],u=a.spec.content||"",s=a.spec.marks;a.contentMatch=i[u]||(i[u]=Yx.parse(u,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet="_"==s?null:s?YF(this,s.split(" ")):""!=s&&a.inlineContent?null:[]}for(let l in this.marks){let c=this.marks[l],d=c.spec.excludes;c.excluded=null==d?[c]:""==d?[]:YF(this,d.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if("string"==typeof t)t=this.nodeType(t);else if(t instanceof YA){if(t.schema!=this)throw RangeError("Node type from different schema used ("+t.name+")")}else throw RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new Yv(r,r.defaultAttrs,t,Yn.setFrom(n))}mark(t,n){return"string"==typeof t&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Yy.fromJSON(this,t)}markFromJSON(t){return Yn.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw RangeError("Unknown node type: "+t);return n}}function YF(t,n){let r=[];for(let i=0;i<n.length;i++){let o=n[i],a=t.marks[o],u=a;if(a)r.push(a);else for(let s in t.marks){let l=t.marks[s];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&r.push(u=l)}if(!u)throw SyntaxError("Unknown mark type: '"+n[i]+"'")}return r}class YD{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(t=>{t.tag?this.tags.push(t):t.style&&this.styles.push(t)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let r=t.nodes[n.node];return r.contentMatch.matchType(r)})}parse(t,n={}){let r=new Y$(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new Y$(this,n,!0);return r.addAll(t,n.from,n.to),Yi.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Yq(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(!1===a)continue;o.attrs=a||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],u=a.style;if(!(0!=u.indexOf(t)||a.context&&!r.matchesContext(a.context)||u.length>t.length&&(61!=u.charCodeAt(t.length)||u.slice(t.length+1)!=n))){if(a.getAttrs){let s=a.getAttrs(n);if(!1===s)continue;a.attrs=s||void 0}return a}}}static schemaRules(t){let n=[];function r(t){let r=null==t.priority?50:t.priority,i=0;for(;i<n.length;i++){let o=n[i];if((null==o.priority?50:o.priority)<r)break}n.splice(i,0,t)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(t=>{r(t=YK(t)),t.mark||t.ignore||t.clearMark||(t.mark=i)})}for(let a in t.nodes){let u=t.nodes[a].spec.parseDOM;u&&u.forEach(t=>{r(t=YK(t)),t.node||t.ignore||t.mark||(t.node=a)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new YD(t,YD.schemaRules(t)))}}let YW={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},YU={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Yz={ol:!0,ul:!0};function YB(t,n,r){return null!=n?(n?1:0)|("full"===n?2:0):t&&"pre"==t.whitespace?3:-5&r}class YV{constructor(t,n,r,i,o,a,u){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=u,this.content=[],this.activeMarks=Yn.none,this.stashMarks=[],this.match=a||(4&u?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Z8.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let n=this.content[this.content.length-1],r;n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-r[0].length)))}let i=Z8.from(this.content);return!t&&this.match&&(i=i.append(this.match.fillBefore(Z8.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):YH(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!YW.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class Y${constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,a=YB(null,n.preserveWhitespace,0)|(r?4:0);o=i?new YV(i.type,i.attrs,Yn.none,Yn.none,!0,n.topMatch||i.type.contentMatch,a):r?new YV(null,null,Yn.none,Yn.none,!0,null,a):new YV(t.schema.topNodeType,null,Yn.none,Yn.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){let n=t.getAttribute("style");if(n){let r=this.readStyles(function(t){let n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r,i=[];for(;r=n.exec(t);)i.push(r[1],r[2].trim());return i}(n));if(!r)return;let[i,o]=r,a=this.top;for(let u=0;u<o.length;u++)this.removePendingMark(o[u],a);for(let s=0;s<i.length;s++)this.addPendingMark(i[s]);this.addElement(t);for(let l=0;l<i.length;l++)this.removePendingMark(i[l],a);for(let c=0;c<o.length;c++)this.addPendingMark(o[c])}else this.addElement(t)}}addTextNode(t){let n=t.nodeValue,r=this.top;if(2&r.options||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(1&r.options)n=2&r.options?n.replace(/\r\n?/g,`
`):n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=t.previousSibling;(!i||o&&"BR"==o.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;Yz.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(let n=t.firstChild,r=null;n;n=n.nextSibling){let i=1==n.nodeType?n.nodeName.toLowerCase():null;i&&Yz.hasOwnProperty(i)&&r?(r.appendChild(n),n=r):"li"==i?r=n:i&&(r=null)}}(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(o?o.ignore:YU.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let a,u=this.top,s=this.needsBlock;if(YW.hasOwnProperty(r))u.content.length&&u.content[0].isInline&&this.open&&(this.open--,u=this.top),a=!0,u.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),a&&this.sync(u),this.needsBlock=s}else this.addElementByRule(t,o,!1===o.consuming?i:void 0)}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=Yn.none,r=Yn.none;e:for(let i=0;i<t.length;i+=2)for(let o;;){let a=this.parser.matchStyle(t[i],t[i+1],this,o);if(!a)continue e;if(a.ignore)return null;if(a.clearMark?this.top.pendingMarks.forEach(t=>{a.clearMark(t)&&(r=t.addToSet(r))}):n=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(n),!1===a.consuming)o=a;else break}return[n,r]}addElementByRule(t,n,r){let i,o,a;n.node?(o=this.parser.schema.nodes[n.node]).isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(t):i=this.enter(o,n.attrs||null,n.preserveWhitespace):(a=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(a));let u=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(t=>this.insertNode(t));else{let s=t;"string"==typeof n.contentElement?s=t.querySelector(n.contentElement):"function"==typeof n.contentElement?s=n.contentElement(t):n.contentElement&&(s=n.contentElement),this.findAround(t,s,!0),this.addAll(s)}i&&this.sync(u)&&this.open--,a&&this.removePendingMark(a,u)}addAll(t,n,r){let i=n||0;for(let o=n?t.childNodes[n]:t.firstChild,a=null==r?null:t.childNodes[r];o!=a;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(t);if(a&&(!n||n.length>a.length)&&(n=a,r=o,!a.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let u=0;u<n.length;u++)this.enterInner(n[u],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));let i=r.activeMarks;for(let o=0;o<t.marks.length;o++)(!r.type||r.type.allowsMarkType(t.marks[o].type))&&(i=t.marks[o].addToSet(i));return r.content.push(t.mark(i)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t);let a=YB(t,i,o.options);4&o.options&&0==o.content.length&&(a|=4),this.nodes.push(new YV(t,n,o.activeMarks,o.pendingMarks,r,null,a)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(t,u)=>{for(;t>=0;t--){let s=n[t];if(""==s){if(t==n.length-1||0==t)continue;for(;u>=o;u--)if(a(t-1,u))return!0;return!1}{let l=u>0||0==u&&i?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!l||l.name!=s&&-1==l.groups.indexOf(s))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let i in this.parser.schema.nodes){let o=this.parser.schema.nodes[i];if(o.isTextblock&&o.defaultAttrs)return o}}addPendingMark(t){let n=function(t,n){for(let r=0;r<n.length;r++)if(t.eq(n[r]))return n[r]}(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function Yq(t,n){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,n)}function YK(t){let n={};for(let r in t)n[r]=t[r];return n}function YH(t,n){let r=n.schema.nodes;for(let i in r){let o=r[i];if(!o.allowsMarkType(t))continue;let a=[],u=t=>{a.push(t);for(let r=0;r<t.edgeCount;r++){let{type:i,next:o}=t.edge(r);if(i==n||0>a.indexOf(o)&&u(o))return!0}};if(u(o.contentMatch))return!0}}class YG{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=YY(n).createDocumentFragment());let i=r,o=[];return t.forEach(t=>{if(o.length||t.marks.length){let r=0,a=0;for(;r<o.length&&a<t.marks.length;){let u=t.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[r][0])||!1===u.type.spec.spanning)break;r++,a++}for(;r<o.length;)i=o.pop()[1];for(;a<t.marks.length;){let s=t.marks[a++],l=this.serializeMark(s,t.isInline,n);l&&(o.push([s,i]),i.appendChild(l.dom),i=l.contentDOM||l.dom)}}i.appendChild(this.serializeNodeInner(t,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=YG.renderSpec(YY(n),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&YG.renderSpec(YY(r),i(t,n))}static renderSpec(t,n,r=null){if("string"==typeof n)return{dom:t.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let a,u=r?t.createElementNS(r,i):t.createElement(i),s=n[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s)){for(let c in l=2,s)if(null!=s[c]){let d=c.indexOf(" ");d>0?u.setAttributeNS(c.slice(0,d),c.slice(d+1),s[c]):u.setAttribute(c,s[c])}}for(let f=l;f<n.length;f++){let p=n[f];if(0===p){if(f<n.length-1||f>l)throw RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}{let{dom:h,contentDOM:m}=YG.renderSpec(t,p,r);if(u.appendChild(h),m){if(a)throw RangeError("Multiple content holes");a=m}}}return{dom:u,contentDOM:a}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new YG(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=YZ(t.nodes);return n.text||(n.text=t=>t.text),n}static marksFromSchema(t){return YZ(t.marks)}}function YZ(t){let n={};for(let r in t){let i=t[r].spec.toDOM;i&&(n[r]=i)}return n}function YY(t){return t.document||window.document}function YJ(t,n){return t+65536*n}function YQ(t){return 65535&t}class YX{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Y0{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Y0.empty)return Y0.empty}recover(t){var n;let r=0,i=YQ(t);if(!this.inverted)for(let o=0;o<i;o++)r+=this.ranges[3*o+2]-this.ranges[3*o+1];return this.ranges[3*i]+r+(t-(65535&t))/65536}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let s=this.ranges[u]-(this.inverted?i:0);if(s>t)break;let l=this.ranges[u+o],c=this.ranges[u+a],d=s+l;if(t<=d){let f=l?t==s?-1:t==d?1:n:n,p=s+i+(f<0?0:c);if(r)return p;let h=t==(n<0?s:d)?null:YJ(u/3,t-s),m=t==s?2:t==d?1:4;return(n<0?t!=s:t!=d)&&(m|=8),new YX(p,m,h)}i+=c-l}return r?t+i:new YX(t+i,0,null)}touches(t,n){let r=0,i=YQ(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let s=this.ranges[u]-(this.inverted?r:0);if(s>t)break;let l=this.ranges[u+o];if(t<=s+l&&u==3*i)return!0;r+=this.ranges[u+a]-l}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],u=a-(this.inverted?o:0),s=a+(this.inverted?0:o),l=this.ranges[i+n],c=this.ranges[i+r];t(u,u+l,s,s+c),o+=c-l}}invert(){return new Y0(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?Y0.empty:new Y0(t<0?[0,-t,0]:[0,0,t])}}Y0.empty=new Y0([]);class Y1{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new Y1(this.maps,this.mirror,t,n)}copy(){return new Y1(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),null!=n&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],null!=i&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),null!=i&&i>n?r-i-1:void 0)}}invert(){let t=new Y1;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o].mapResult(t,n);if(null!=a.recover){let u=this.getMirror(o);if(null!=u&&u>o&&u<this.to){o=u,t=this.maps[u].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new YX(t,i,null)}}let Y2=Object.create(null);class Y3{getMap(){return Y0.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw RangeError("Invalid input for Step.fromJSON");let r=Y2[n.stepType];if(!r)throw RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Y2)throw RangeError("Duplicate use of step JSON ID "+t);return Y2[t]=n,n.prototype.jsonID=t,n}}class Y4{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Y4(t,null)}static fail(t){return new Y4(null,t)}static fromReplace(t,n,r,i){try{return Y4.ok(t.replace(n,r,i))}catch(o){if(o instanceof Yr)return Y4.fail(o.message);throw o}}}function Y5(t,n,r){let i=[];for(let o=0;o<t.childCount;o++){let a=t.child(o);a.content.size&&(a=a.copy(Y5(a.content,n,a))),a.isInline&&(a=n(a,r,o)),i.push(a)}return Z8.fromArray(i)}class Y6 extends Y3{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Yi(Y5(n.content,(t,n)=>t.isAtom&&n.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t,i),n.openStart,n.openEnd);return Y4.fromReplace(t,this.from,this.to,o)}invert(){return new Y9(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Y6(n.pos,r.pos,this.mark)}merge(t){return t instanceof Y6&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Y6(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new Y6(n.from,n.to,t.markFromJSON(n.mark))}}Y3.jsonID("addMark",Y6);class Y9 extends Y3{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Yi(Y5(n.content,t=>t.mark(this.mark.removeFromSet(t.marks)),t),n.openStart,n.openEnd);return Y4.fromReplace(t,this.from,this.to,r)}invert(){return new Y6(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Y9(n.pos,r.pos,this.mark)}merge(t){return t instanceof Y9&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Y9(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Y9(n.from,n.to,t.markFromJSON(n.mark))}}Y3.jsonID("removeMark",Y9);class Y8 extends Y3{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Y4.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Y4.fromReplace(t,this.pos,this.pos+1,new Yi(Z8.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Y8(this.pos,n.marks[i]);return new Y8(this.pos,this.mark)}}return new Y7(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Y8(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if("number"!=typeof n.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Y8(n.pos,t.markFromJSON(n.mark))}}Y3.jsonID("addNodeMark",Y8);class Y7 extends Y3{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Y4.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Y4.fromReplace(t,this.pos,this.pos+1,new Yi(Z8.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return n&&this.mark.isInSet(n.marks)?new Y8(this.pos,this.mark):this}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Y7(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if("number"!=typeof n.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Y7(n.pos,t.markFromJSON(n.mark))}}Y3.jsonID("removeNodeMark",Y7);class Je extends Y3{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&Jn(t,this.from,this.to)?Y4.fail("Structure replace would overwrite content"):Y4.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Y0([this.from,this.to-this.from,this.slice.size])}invert(t){return new Je(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Je(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof Je)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let n=this.slice.size+t.slice.size==0?Yi.empty:new Yi(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Je(t.from,this.to,n,this.structure)}}{let r=this.slice.size+t.slice.size==0?Yi.empty:new Yi(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Je(this.from,this.to+(t.to-t.from),r,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new Je(n.from,n.to,Yi.fromJSON(t,n.slice),!!n.structure)}}Y3.jsonID("replace",Je);class Jt extends Y3{constructor(t,n,r,i,o,a,u=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=u}apply(t){if(this.structure&&(Jn(t,this.from,this.gapFrom)||Jn(t,this.gapTo,this.to)))return Y4.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Y4.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Y4.fromReplace(t,this.from,this.to,r):Y4.fail("Content does not fit in gap")}getMap(){return new Y0([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Jt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Jt(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Jt(n.from,n.to,n.gapFrom,n.gapTo,Yi.fromJSON(t,n.slice),n.insert,!!n.structure)}}function Jn(t,n,r){let i=t.resolve(n),o=r-n,a=i.depth;for(;o>0&&a>0&&i.indexAfter(a)==i.node(a).childCount;)a--,o--;if(o>0){let u=i.node(a).maybeChild(i.indexAfter(a));for(;o>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,o--}}return!1}function Jr(t,n,r){return(0==n||t.canReplace(n,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Ji(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,a,n))return r;if(0==r||i.type.spec.isolating||!Jr(i,o,a))break}return null}function Jo(t,n,r=null,i=t){let o=function(t,n){let{parent:r,startIndex:i,endIndex:o}=t,a=r.contentMatchAt(i).findWrapping(n);if(!a)return null;let u=a.length?a[0]:n;return r.canReplaceWith(i,o,u)?a:null}(t,n),a=o&&function(t,n){let{parent:r,startIndex:i,endIndex:o}=t,a=r.child(i),u=n.contentMatch.findWrapping(a.type);if(!u)return null;let s=(u.length?u[u.length-1]:n).contentMatch;for(let l=i;s&&l<o;l++)s=s.matchType(r.child(l).type);return s&&s.validEnd?u:null}(i,n);return a?o.map(Ja).concat({type:n,attrs:r}).concat(a.map(Ja)):null}function Ja(t){return{type:t,attrs:null}}function Ju(t,n,r=1,i){let o=t.resolve(n),a=o.depth-r,u=i&&i[i.length-1]||o.parent;if(a<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!u.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let s=o.depth-1,l=r-2;s>a;s--,l--){let c=o.node(s),d=o.index(s);if(c.type.spec.isolating)return!1;let f=c.content.cutByIndex(d,c.childCount),p=i&&i[l+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let h=i&&i[l]||c;if(!c.canReplace(d+1,c.childCount)||!h.type.validContent(f))return!1}let m=o.indexAfter(a),g=i&&i[0];return o.node(a).canReplaceWith(m,m,g?g.type:o.node(a+1).type)}function Js(t,n){let r=t.resolve(n),i=r.index();return Jl(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(i,i+1)}function Jl(t,n){return!!(t&&n&&!t.isLeaf&&t.canAppend(n))}function Jc(t,n,r=-1){let i=t.resolve(n);for(let o=i.depth;;o--){let a,u,s=i.index(o);if(o==i.depth?(a=i.nodeBefore,u=i.nodeAfter):r>0?(a=i.node(o+1),s++,u=i.node(o).maybeChild(s)):(a=i.node(o).maybeChild(s-1),u=i.node(o+1)),a&&!a.isTextblock&&Jl(a,u)&&i.node(o).canReplace(s,s+1))return n;if(0==o)break;n=r<0?i.before(o):i.after(o)}}function Jd(t,n,r=n,i=Yi.empty){if(n==r&&!i.size)return null;let o=t.resolve(n),a=t.resolve(r);return Jf(o,a,i)?new Je(n,r,i):new Jp(o,a,i).fit()}function Jf(t,n,r){return!r.openStart&&!r.openEnd&&t.start()==n.start()&&t.parent.canReplace(t.index(),n.index(),r.content)}Y3.jsonID("replaceAround",Jt);class Jp{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Z8.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let a=t.depth;a>0;a--)this.placed=Z8.from(t.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(n<0?this.$to:i.doc.resolve(n));if(!o)return null;let a=this.placed,u=i.depth,s=o.depth;for(;u&&s&&1==a.childCount;)a=a.firstChild.content,u--,s--;let l=new Yi(a,u,s);return n>-1?new Jt(i.pos,n,this.$to.pos,this.$to.end(),l,r):l.size||i.pos!=this.$to.pos?new Je(i.pos,o.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let a=1;a<=2;a++)for(let u=1==a?t:this.unplaced.openStart;u>=0;u--){let s,l=null,c=(u?(l=Jg(this.unplaced.content,u-1).firstChild).content:this.unplaced.content).firstChild;for(let d=this.depth;d>=0;d--){let{type:f,match:p}=this.frontier[d],h,m=null;if(1==a&&(c?p.matchType(c.type)||(m=p.fillBefore(Z8.from(c),!1)):l&&f.compatibleContent(l.type)))return{sliceDepth:u,frontierDepth:d,parent:l,inject:m};if(2==a&&c&&(h=p.findWrapping(c.type)))return{sliceDepth:u,frontierDepth:d,parent:l,wrap:h};if(l&&p.matchType(l.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Jg(t,n);return!!i.childCount&&!i.firstChild.isLeaf&&(this.unplaced=new Yi(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Jg(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new Yi(Jh(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Yi(Jh(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let a=0;a<o.length;a++)this.openFrontierNode(o[a]);let u=this.unplaced,s=r?r.content:u.content,l=u.openStart-t,c=0,d=[],{match:f,type:p}=this.frontier[n];if(i){for(let h=0;h<i.childCount;h++)d.push(i.child(h));f=f.matchFragment(i)}let m=s.size+t-(u.content.size-u.openEnd);for(;c<s.childCount;){let g=s.child(c),y=f.matchType(g.type);if(!y)break;(++c>1||0==l||g.content.size)&&(f=y,d.push(Jy(g.mark(p.allowedMarks(g.marks)),1==c?l:0,c==s.childCount?m:-1)))}let v=c==s.childCount;v||(m=-1),this.placed=Jm(this.placed,n,Z8.from(d)),this.frontier[n].match=f,v&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,x=s;b<m;b++){let _=x.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),x=_.content}this.unplaced=v?0==t?Yi.empty:new Yi(Jh(u.content,t-1,1),t-1,m<0?u.openEnd:t-1):new Yi(Jh(u.content,t,c),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Jv(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return -1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=Jv(t,n,i,r,o);if(a){for(let u=n-1;u>=0;u--){let{match:s,type:l}=this.frontier[u],c=Jv(t,u,l,s,!0);if(!c||c.childCount)continue e}return{depth:n,fit:a,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Jm(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Jm(this.placed,this.depth,Z8.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Z8.empty,!0);t.childCount&&(this.placed=Jm(this.placed,this.frontier.length,t))}}function Jh(t,n,r){return 0==n?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Jh(t.firstChild.content,n-1,r)))}function Jm(t,n,r){return 0==n?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Jm(t.lastChild.content,n-1,r)))}function Jg(t,n){for(let r=0;r<n;r++)t=t.firstChild.content;return t}function Jy(t,n,r){if(n<=0)return t;let i=t.content;return n>1&&(i=i.replaceChild(0,Jy(i.firstChild,n-1,1==i.childCount?r-1:0))),n>0&&(i=t.type.contentMatch.fillBefore(i).append(i),r<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(Z8.empty,!0)))),t.copy(i)}function Jv(t,n,r,i,o){let a=t.node(n),u=o?t.indexAfter(n):t.index(n);if(u==a.childCount&&!r.compatibleContent(a.type))return null;let s=i.fillBefore(a.content,!0,u);return s&&!function(t,n,r){for(let i=r;i<n.childCount;i++)if(!t.allowsMarks(n.child(i).marks))return!0;return!1}(r,a.content,u)?s:null}function Jb(t){return t.spec.defining||t.spec.definingForContent}function Jx(t,n,r,i,o){if(n<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(Jx(a.content,n+1,r,i,a)))}if(n>i){let u=o.contentMatchAt(0),s=u.fillBefore(t).append(t);t=s.append(u.matchFragment(s).fillBefore(Z8.empty,!0))}return t}function J_(t,n){let r=[],i=Math.min(t.depth,n.depth);for(let o=i;o>=0;o--){let a=t.start(o);if(a<t.pos-(t.depth-o)||n.end(o)>n.pos+(n.depth-o)||t.node(o).type.spec.isolating||n.node(o).type.spec.isolating)break;(a==n.start(o)||o==t.depth&&o==n.depth&&t.parent.inlineContent&&n.parent.inlineContent&&o&&n.start(o-1)==a-1)&&r.push(o)}return r}class JS extends Y3{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Y4.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Y4.fromReplace(t,this.pos,this.pos+1,new Yi(Z8.from(o),0,n.isLeaf?0:1))}getMap(){return Y0.empty}invert(t){return new JS(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new JS(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if("number"!=typeof n.pos||"string"!=typeof n.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new JS(n.pos,n.attr,n.value)}}Y3.jsonID("attr",JS);let JT=class extends Error{};(JT=function t(n){let r=Error.call(this,n);return r.__proto__=t.prototype,r}).prototype=Object.create(Error.prototype),JT.prototype.constructor=JT,JT.prototype.name="TransformError";class Jw{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Y1}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new JT(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Yi.empty){let i=Jd(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Yi(Z8.from(r),0,0))}delete(t,n){return this.replace(t,n,Yi.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return function(t,n,r,i){if(!i.size)return t.deleteRange(n,r);let o=t.doc.resolve(n),a=t.doc.resolve(r);if(Jf(o,a,i))return t.step(new Je(n,r,i));let u=J_(o,t.doc.resolve(r));0==u[u.length-1]&&u.pop();let s=-(o.depth+1);u.unshift(s);for(let l=o.depth,c=o.pos-1;l>0;l--,c--){let d=o.node(l).type.spec;if(d.defining||d.definingAsContext||d.isolating)break;u.indexOf(l)>-1?s=l:o.before(l)==c&&u.splice(1,0,-l)}let f=u.indexOf(s),p=[],h=i.openStart;for(let m=i.content,g=0;;g++){let y=m.firstChild;if(p.push(y),g==i.openStart)break;m=y.content}for(let v=h-1;v>=0;v--){let b=p[v].type,x=Jb(b);if(x&&o.node(f).type!=b)h=v;else if(x||!b.isTextblock)break}for(let _=i.openStart;_>=0;_--){let S=(_+h+1)%(i.openStart+1),T=p[S];if(T)for(let w=0;w<u.length;w++){let O=u[(w+f)%u.length],k=!0;O<0&&(k=!1,O=-O);let C=o.node(O-1),I=o.index(O-1);if(C.canReplaceWith(I,I,T.type,T.marks))return t.replace(o.before(O),k?a.after(O):r,new Yi(Jx(i.content,0,i.openStart,S),S,i.openEnd))}}let M=t.steps.length;for(let R=u.length-1;R>=0&&(t.replace(n,r,i),!(t.steps.length>M));R--){let E=u[R];E<0||(n=o.before(E),r=a.after(E))}}(this,t,n,r),this}replaceRangeWith(t,n,r){return function(t,n,r,i){if(!i.isInline&&n==r&&t.doc.resolve(n).parent.content.size){let o=function(t,n,r){let i=t.resolve(n);if(i.parent.canReplaceWith(i.index(),i.index(),r))return n;if(0==i.parentOffset)for(let o=i.depth-1;o>=0;o--){let a=i.index(o);if(i.node(o).canReplaceWith(a,a,r))return i.before(o+1);if(a>0)return null}if(i.parentOffset==i.parent.content.size)for(let u=i.depth-1;u>=0;u--){let s=i.indexAfter(u);if(i.node(u).canReplaceWith(s,s,r))return i.after(u+1);if(s<i.node(u).childCount)break}return null}(t.doc,n,i.type);null!=o&&(n=r=o)}t.replaceRange(n,r,new Yi(Z8.from(i),0,0))}(this,t,n,r),this}deleteRange(t,n){return function(t,n,r){let i=t.doc.resolve(n),o=t.doc.resolve(r),a=J_(i,o);for(let u=0;u<a.length;u++){let s=a[u],l=u==a.length-1;if(l&&0==s||i.node(s).type.contentMatch.validEnd)return t.delete(i.start(s),o.end(s));if(s>0&&(l||i.node(s-1).canReplace(i.index(s-1),o.indexAfter(s-1))))return t.delete(i.before(s),o.after(s))}for(let c=1;c<=i.depth&&c<=o.depth;c++)if(n-i.start(c)==i.depth-c&&r>i.end(c)&&o.end(c)-r!=o.depth-c)return t.delete(i.before(c),r);t.delete(n,r)}(this,t,n),this}lift(t,n){return function(t,n,r){let{$from:i,$to:o,depth:a}=n,u=i.before(a+1),s=o.after(a+1),l=u,c=s,d=Z8.empty,f=0;for(let p=a,h=!1;p>r;p--)h||i.index(p)>0?(h=!0,d=Z8.from(i.node(p).copy(d)),f++):l--;let m=Z8.empty,g=0;for(let y=a,v=!1;y>r;y--)v||o.after(y+1)<o.end(y)?(v=!0,m=Z8.from(o.node(y).copy(m)),g++):c++;t.step(new Jt(l,c,u,s,new Yi(d.append(m),f,g),d.size-f,!0))}(this,t,n),this}join(t,n=1){return function(t,n,r){let i=new Je(n-r,n+r,Yi.empty,!0);t.step(i)}(this,t,n),this}wrap(t,n){return function(t,n,r){let i=Z8.empty;for(let o=r.length-1;o>=0;o--){if(i.size){let a=r[o].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=Z8.from(r[o].type.create(r[o].attrs,i))}let u=n.start,s=n.end;t.step(new Jt(u,s,u,s,new Yi(i,0,0),r.length,!0))}(this,t,n),this}setBlockType(t,n=t,r,i=null){return function(t,n,r,i,o){if(!i.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(n,r,(n,r)=>{var u,s,l;let c,d;if(n.isTextblock&&!n.hasMarkup(i,o)&&(u=t.doc,s=t.mapping.slice(a).map(r),l=i,c=u.resolve(s),d=c.index(),c.parent.canReplaceWith(d,d+1,l))){t.clearIncompatible(t.mapping.slice(a).map(r,1),i);let f=t.mapping.slice(a),p=f.map(r,1),h=f.map(r+n.nodeSize,1);return t.step(new Jt(p,h,p+1,h-1,new Yi(Z8.from(i.create(o,null,n.marks)),0,0),1,!0)),!1}})}(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return function(t,n,r,i,o){let a=t.doc.nodeAt(n);if(!a)throw RangeError("No node at given position");r||(r=a.type);let u=r.create(i,null,o||a.marks);if(a.isLeaf)return t.replaceWith(n,n+a.nodeSize,u);if(!r.validContent(a.content))throw RangeError("Invalid content for node type "+r.name);t.step(new Jt(n,n+a.nodeSize,n+1,n+a.nodeSize-1,new Yi(Z8.from(u),0,0),1,!0))}(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new JS(t,n,r)),this}addNodeMark(t,n){return this.step(new Y8(t,n)),this}removeNodeMark(t,n){if(!(n instanceof Yn)){let r=this.doc.nodeAt(t);if(!r)throw RangeError("No node at position "+t);if(!(n=n.isInSet(r.marks)))return this}return this.step(new Y7(t,n)),this}split(t,n=1,r){return function(t,n,r=1,i){let o=t.doc.resolve(n),a=Z8.empty,u=Z8.empty;for(let s=o.depth,l=o.depth-r,c=r-1;s>l;s--,c--){a=Z8.from(o.node(s).copy(a));let d=i&&i[c];u=Z8.from(d?d.type.create(d.attrs,u):o.node(s).copy(u))}t.step(new Je(n,n,new Yi(a.append(u),r,r),!0))}(this,t,n,r),this}addMark(t,n,r){var i,o,a,u;let s,l,c,d;return i=this,s=[],l=[],i.doc.nodesBetween(t,n,(i,o,a)=>{if(!i.isInline)return;let u=i.marks;if(!r.isInSet(u)&&a.type.allowsMarkType(r.type)){let f=Math.max(o,t),p=Math.min(o+i.nodeSize,n),h=r.addToSet(u);for(let m=0;m<u.length;m++)u[m].isInSet(h)||(c&&c.to==f&&c.mark.eq(u[m])?c.to=p:s.push(c=new Y9(f,p,u[m])));d&&d.to==f?d.to=p:l.push(d=new Y6(f,p,r))}}),s.forEach(t=>i.step(t)),l.forEach(t=>i.step(t)),this}removeMark(t,n,r){var i,o,a,u;let s,l;return i=this,s=[],l=0,i.doc.nodesBetween(t,n,(i,o)=>{if(!i.isInline)return;l++;let a=null;if(r instanceof YP){let u=i.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(i.marks)&&(a=[r]):a=i.marks;if(a&&a.length){let d=Math.min(o+i.nodeSize,n);for(let f=0;f<a.length;f++){let p=a[f],h;for(let m=0;m<s.length;m++){let g=s[m];g.step==l-1&&p.eq(s[m].style)&&(h=g)}h?(h.to=d,h.step=l):s.push({style:p,from:Math.max(o,t),to:d,step:l})}}}),s.forEach(t=>i.step(new Y9(t.from,t.to,t.style))),this}clearIncompatible(t,n,r){return function(t,n,r,i=r.contentMatch){let o=t.doc.nodeAt(n),a=[],u=n+1;for(let s=0;s<o.childCount;s++){let l=o.child(s),c=u+l.nodeSize,d=i.matchType(l.type);if(d){i=d;for(let f=0;f<l.marks.length;f++)r.allowsMarkType(l.marks[f].type)||t.step(new Y9(u,c,l.marks[f]))}else a.push(new Je(u,c,Yi.empty));u=c}if(!i.validEnd){let p=i.fillBefore(Z8.empty,!0);t.replace(u,u,new Yi(p,0,0))}for(let h=a.length-1;h>=0;h--)t.step(a[h])}(this,t,n,r),this}}let JO=Object.create(null);class Jk{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new JC(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Yi.empty){let r=n.content.lastChild,i=null;for(let o=0;o<n.openEnd;o++)i=r,r=r.lastChild;let a=t.steps.length,u=this.ranges;for(let s=0;s<u.length;s++){let{$from:l,$to:c}=u[s],d=t.mapping.slice(a);t.replaceRange(d.map(l.pos),d.map(c.pos),s?Yi.empty:n),0==s&&JF(t,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:u}=i[o],s=t.mapping.slice(r),l=s.map(a.pos),c=s.map(u.pos);o?t.deleteRange(l,c):(t.replaceRangeWith(l,c,n),JF(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new JR(t):JL(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let a=n<0?JL(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):JL(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new JN(t.node(0))}static atStart(t){return JL(t,t,0,0,1)||new JN(t)}static atEnd(t){return JL(t,t,t.content.size,t.childCount,-1)||new JN(t)}static fromJSON(t,n){if(!n||!n.type)throw RangeError("Invalid input for Selection.fromJSON");let r=JO[n.type];if(!r)throw RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in JO)throw RangeError("Duplicate use of selection JSON ID "+t);return JO[t]=n,n.prototype.jsonID=t,n}getBookmark(){return JR.between(this.$anchor,this.$head).getBookmark()}}Jk.prototype.visible=!0;class JC{constructor(t,n){this.$from=t,this.$to=n}}let JI=!1;function JM(t){JI||t.parent.inlineContent||(JI=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class JR extends Jk{constructor(t,n=t){JM(t),JM(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Jk.near(r);let i=t.resolve(n.map(this.anchor));return new JR(i.parent.inlineContent?i:r,r)}replace(t,n=Yi.empty){if(super.replace(t,n),n==Yi.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof JR&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new JE(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new JR(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Jk.findFrom(n,r,!0)||Jk.findFrom(n,-r,!0);if(!o)return Jk.near(n,r);n=o.$head}return t.parent.inlineContent||(0==i?t=n:(t=(Jk.findFrom(t,-r,!0)||Jk.findFrom(t,r,!0)).$anchor).pos<n.pos!=i<0&&(t=n)),new JR(t,n)}}Jk.jsonID("text",JR);class JE{constructor(t,n){this.anchor=t,this.head=n}map(t){return new JE(t.map(this.anchor),t.map(this.head))}resolve(t){return JR.between(t.resolve(this.anchor),t.resolve(this.head))}}class Jj extends Jk{constructor(t){let n=t.nodeAfter;super(t,t.node(0).resolve(t.pos+n.nodeSize)),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?Jk.near(o):new Jj(o)}content(){return new Yi(Z8.from(this.node),0,0)}eq(t){return t instanceof Jj&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new JA(this.anchor)}static fromJSON(t,n){if("number"!=typeof n.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new Jj(t.resolve(n.anchor))}static create(t,n){return new Jj(t.resolve(n))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}Jj.prototype.visible=!1,Jk.jsonID("node",Jj);class JA{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new JE(r,r):new JA(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Jj.isSelectable(r)?new Jj(n):Jk.near(n)}}class JN extends Jk{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Yi.empty){if(n==Yi.empty){t.delete(0,t.doc.content.size);let r=Jk.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new JN(t)}map(t){return new JN(t)}eq(t){return t instanceof JN}getBookmark(){return JP}}Jk.jsonID("all",JN);let JP={map(){return this},resolve:t=>new JN(t)};function JL(t,n,r,i,o,a=!1){if(n.inlineContent)return JR.create(t,r);for(let u=i-(o>0?0:1);o>0?u<n.childCount:u>=0;u+=o){let s=n.child(u);if(s.isAtom){if(!a&&Jj.isSelectable(s))return Jj.create(t,r-(o<0?s.nodeSize:0))}else{let l=JL(t,s,r+o,o<0?s.childCount:0,o,a);if(l)return l}r+=s.nodeSize*o}return null}function JF(t,n,r){let i=t.steps.length-1;if(i<n)return;let o=t.steps[i];if(!(o instanceof Je||o instanceof Jt))return;let a;t.mapping.maps[i].forEach((t,n,r,i)=>{null==a&&(a=i)}),t.setSelection(Jk.near(t.doc.resolve(a),r))}class JD extends Jw{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(1|this.updated)&-3,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return Yn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,n){super.addStep(t,n),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Yn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(null==n)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(null==r&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(Jk.near(this.selection.$to)),this}}setMeta(t,n){return this.meta["string"==typeof t?t:t.key]=n,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function JW(t,n){return n&&t?t.bind(n):t}class JU{constructor(t,n,r){this.name=t,this.init=JW(n.init,r),this.apply=JW(n.apply,r)}}let Jz=[new JU("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new JU("selection",{init:(t,n)=>t.selection||Jk.atStart(n.doc),apply:t=>t.selection}),new JU("storedMarks",{init:t=>t.storedMarks||null,apply:(t,n,r,i)=>i.selection.$cursor?t.storedMarks:null}),new JU("scrollToSelection",{init:()=>0,apply:(t,n)=>t.scrolledIntoView?n+1:n})];class JB{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Jz.slice(),n&&n.forEach(t=>{if(this.pluginsByKey[t.key])throw RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new JU(t.key,t.spec.state,t))})}}class JV{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let s=i?i[a].n:0,l=i?i[a].state:this,c=s<n.length&&u.spec.appendTransaction.call(u,s?n.slice(s):n,l,r);if(c&&r.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<a?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let n=new JV(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new JD(this)}static create(t){let n=new JB(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new JV(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new JB(this.schema,t.plugins),r=n.fields,i=new JV(n);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(t=>t.toJSON())),t&&"object"==typeof t)for(let r in t){if("doc"==r||"selection"==r)throw RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw RangeError("Required config field 'schema' missing");let i=new JB(t.schema,t.plugins),o=new JV(i);return i.fields.forEach(i=>{if("doc"==i.name)o.doc=Yy.fromJSON(t.schema,n.doc);else if("selection"==i.name)o.selection=Jk.fromJSON(o.doc,n.selection);else if("storedMarks"==i.name)n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let u=r[a],s=u.spec.state;if(u.key==i.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[i.name]=s.fromJSON.call(u,t,n[a],o);return}}o[i.name]=i.init(t,o)}}),o}}class J${constructor(t){this.spec=t,this.props={},t.props&&function t(n,r,i){for(let o in n){let a=n[o];a instanceof Function?a=a.bind(r):"handleDOMEvents"==o&&(a=t(a,r,{})),i[o]=a}return i}(t.props,this,this.props),this.key=t.key?t.key.key:JK("plugin")}getState(t){return t[this.key]}}let Jq=Object.create(null);function JK(t){return t in Jq?t+"$"+ ++Jq[t]:(Jq[t]=0,t+"$")}class JH{constructor(t="key"){this.key=JK(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}let JG=function(t){for(var n=0;;n++)if(!(t=t.previousSibling))return n},JZ=function(t){let n=t.assignedSlot||t.parentNode;return n&&11==n.nodeType?n.host:n},JY=null,JJ=function(t,n,r){let i=JY||(JY=document.createRange());return i.setEnd(t,r??t.nodeValue.length),i.setStart(t,n||0),i},JQ=function(t,n,r,i){return r&&(J0(t,n,r,i,-1)||J0(t,n,r,i,1))},JX=/^(img|br|input|textarea|hr)$/i;function J0(t,n,r,i,o){for(;;){if(t==r&&n==i)return!0;if(n==(o<0?0:J1(t))){let a=t.parentNode;if(!a||1!=a.nodeType||J2(t)||JX.test(t.nodeName)||"false"==t.contentEditable)return!1;n=JG(t)+(o<0?0:1),t=a}else{if(1!=t.nodeType||"false"==(t=t.childNodes[n+(o<0?-1:0)]).contentEditable)return!1;n=o<0?J1(t):0}}}function J1(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function J2(t){let n;for(let r=t;r&&!(n=r.pmViewDesc);r=r.parentNode);return n&&n.node&&n.node.isBlock&&(n.dom==t||n.contentDOM==t)}let J3=function(t){return t.focusNode&&JQ(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function J4(t,n){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=n,r}function J5(t,n,r){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(n,r);if(i)return{node:i.offsetNode,offset:i.offset}}catch{}if(t.caretRangeFromPoint){let o=t.caretRangeFromPoint(n,r);if(o)return{node:o.startContainer,offset:o.startOffset}}}let J6="u">typeof navigator?navigator:null,J9="u">typeof document?document:null,J8=J6&&J6.userAgent||"",J7=/Edge\/(\d+)/.exec(J8),Qe=/MSIE \d/.exec(J8),Qt=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(J8),Qn=!!(Qe||Qt||J7),Qr=Qe?document.documentMode:Qt?+Qt[1]:J7?+J7[1]:0,Qi=!Qn&&/gecko\/(\d+)/i.test(J8);Qi&&(/Firefox\/(\d+)/.exec(J8)||[0,0])[1];let Qo=!Qn&&/Chrome\/(\d+)/.exec(J8),Qa=!!Qo,Qu=Qo?+Qo[1]:0,Qs=!Qn&&!!J6&&/Apple Computer/.test(J6.vendor),Ql=Qs&&(/Mobile\/\w+/.test(J8)||!!J6&&J6.maxTouchPoints>2),Qc=Ql||!!J6&&/Mac/.test(J6.platform),Qd=!!J6&&/Win/.test(J6.platform),Qf=/Android \d/.test(J8),Qp=!!J9&&"webkitFontSmoothing"in J9.documentElement.style,Qh=Qp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Qm(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Qg(t,n){return"number"==typeof t?t:t[n]}function Qy(t){let n=t.getBoundingClientRect(),r=n.width/t.offsetWidth||1,i=n.height/t.offsetHeight||1;return{left:n.left,right:n.left+t.clientWidth*r,top:n.top,bottom:n.top+t.clientHeight*i}}function Qv(t,n,r){let i=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let u=r||t.dom;u;u=JZ(u)){if(1!=u.nodeType)continue;let s=u,l=s==a.body,c=l?Qm(a):Qy(s),d=0,f=0;if(n.top<c.top+Qg(i,"top")?f=-(c.top-n.top+Qg(o,"top")):n.bottom>c.bottom-Qg(i,"bottom")&&(f=n.bottom-c.bottom+Qg(o,"bottom")),n.left<c.left+Qg(i,"left")?d=-(c.left-n.left+Qg(o,"left")):n.right>c.right-Qg(i,"right")&&(d=n.right-c.right+Qg(o,"right")),d||f){if(l)a.defaultView.scrollBy(d,f);else{let p=s.scrollLeft,h=s.scrollTop;f&&(s.scrollTop+=f),d&&(s.scrollLeft+=d);let m=s.scrollLeft-p,g=s.scrollTop-h;n={left:n.left-m,top:n.top-g,right:n.right-m,bottom:n.bottom-g}}}if(l)break}}function Qb(t){let n=[],r=t.ownerDocument;for(let i=t;i&&(n.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=r);i=JZ(i));return n}function Qx(t,n){for(let r=0;r<t.length;r++){let{dom:i,top:o,left:a}=t[r];i.scrollTop!=o+n&&(i.scrollTop=o+n),i.scrollLeft!=a&&(i.scrollLeft=a)}}let Q_=null;function QS(t,n){return t.left>=n.left-1&&t.left<=n.right+1&&t.top>=n.top-1&&t.top<=n.bottom+1}function QT(t){return t.top<t.bottom||t.left<t.right}function Qw(t,n){let r=t.getClientRects();if(r.length){let i=r[n<0?0:r.length-1];if(QT(i))return i}return Array.prototype.find.call(r,QT)||t.getBoundingClientRect()}let QO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Qk(t,n,r){let{node:i,offset:o,atom:a}=t.docView.domFromPos(n,r<0?-1:1),u=Qp||Qi;if(3==i.nodeType){if(u&&(QO.test(i.nodeValue)||(r<0?!o:o==i.nodeValue.length))){let s=Qw(JJ(i,o,o),r);if(Qi&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){let l=Qw(JJ(i,o-1,o-1),-1);if(l.top==s.top){let c=Qw(JJ(i,o,o+1),-1);if(c.top!=s.top)return QC(c,c.left<l.left)}}return s}{let d=o,f=o,p=r<0?1:-1;return r<0&&!o?(f++,p=-1):r>=0&&o==i.nodeValue.length?(d--,p=1):r<0?d--:f++,QC(Qw(JJ(i,d,f),p),p<0)}}if(!t.state.doc.resolve(n-(a||0)).parent.inlineContent){if(null==a&&o&&(r<0||o==J1(i))){let h=i.childNodes[o-1];if(1==h.nodeType)return QI(h.getBoundingClientRect(),!1)}if(null==a&&o<J1(i)){let m=i.childNodes[o];if(1==m.nodeType)return QI(m.getBoundingClientRect(),!0)}return QI(i.getBoundingClientRect(),r>=0)}if(null==a&&o&&(r<0||o==J1(i))){let g=i.childNodes[o-1],y=3==g.nodeType?JJ(g,J1(g)-(u?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(y)return QC(Qw(y,1),!1)}if(null==a&&o<J1(i)){let v=i.childNodes[o];for(;v.pmViewDesc&&v.pmViewDesc.ignoreForCoords;)v=v.nextSibling;let b=v?3==v.nodeType?JJ(v,0,u?0:1):1==v.nodeType?v:null:null;if(b)return QC(Qw(b,-1),!0)}return QC(Qw(3==i.nodeType?JJ(i):i,-r),r>=0)}function QC(t,n){if(0==t.width)return t;let r=n?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function QI(t,n){if(0==t.height)return t;let r=n?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function QM(t,n,r){let i=t.state,o=t.root.activeElement;i!=n&&t.updateState(n),o!=t.dom&&t.focus();try{return r()}finally{i!=n&&t.updateState(i),o!=t.dom&&o&&o.focus()}}let QR=/[\u0590-\u08ac]/,QE=null,Qj=null,QA=!1;class QN{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=0,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(r<0){let i,o;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}{let a,u;if(t==this.contentDOM)a=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((u=a.pmViewDesc)&&u.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(u):this.posAtEnd}}let s;if(t==this.dom&&this.contentDOM)s=n>JG(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==n)for(let l=t;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.previousSibling)break}if(null==s&&n==t.childNodes.length)for(let c=t;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!n||o.node)){if(!r||!(a=o.nodeDOM)||(1==a.nodeType?a.contains(1==t.nodeType?t:t.parentNode):a==t))return o;r=!1}}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return -1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],u=o+a.size;if(u>t||a instanceof Qz){i=t-o;break}o=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof QP&&s.side>=0;r--);if(n<=0){let l,c=!0;for(;!(!(l=r?this.children[r-1]:null)||l.dom.parentNode==this.contentDOM);r--,c=!1);return l&&n&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,n):{node:this.contentDOM,offset:l?JG(l.dom)+1:0}}{let d,f=!0;for(;!(!(d=r<this.children.length?this.children[r]:null)||d.dom.parentNode==this.contentDOM);r++,f=!1);return d&&f&&!d.border&&!d.domAtom?d.domFromPos(0,n):{node:this.contentDOM,offset:d?JG(d.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,u=0;;u++){let s=this.children[u],l=a+s.size;if(-1==i&&t<=l){let c=a+s.border;if(t>=c&&n<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(t,n,c);t=a;for(let d=u;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=JG(f.dom)+1;break}t-=f.size}-1==i&&(i=0)}if(i>-1&&(l>n||u==this.children.length-1)){n=l;for(let p=u+1;p<this.children.length;p++){let h=this.children[p];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=JG(h.dom);break}n+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}a=l}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return 0==n.size||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(1!=n.nodeType||r==n.childNodes.length)throw RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),a=Math.max(t,n);for(let u=0,s=0;u<this.children.length;u++){let l=this.children[u],c=s+l.size;if(o>s&&a<c)return l.setSelection(t-s-l.border,n-s-l.border,r,i);s=c}let d=this.domFromPos(t,t?-1:1),f=n==t?d:this.domFromPos(n,n?-1:1),p=r.getSelection(),h=!1;if((Qi||Qs)&&t==n){let{node:m,offset:g}=d;if(3==m.nodeType){if((h=!!(g&&m.nodeValue[g-1]==`
`))&&g==m.nodeValue.length)for(let y=m,v;y;y=y.parentNode){if(v=y.nextSibling){"BR"==v.nodeName&&(d=f={node:v.parentNode,offset:JG(v)+1});break}let b=y.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let x=m.childNodes[g-1];h=x&&("BR"==x.nodeName||"false"==x.contentEditable)}}if(Qi&&p.focusNode&&p.focusNode!=f.node&&1==p.focusNode.nodeType){let _=p.focusNode.childNodes[p.focusOffset];_&&"false"==_.contentEditable&&(i=!0)}if(!(i||h&&Qs)&&JQ(d.node,d.offset,p.anchorNode,p.anchorOffset)&&JQ(f.node,f.offset,p.focusNode,p.focusOffset))return;let S=!1;if((p.extend||t==n)&&!h){p.collapse(d.node,d.offset);try{t!=n&&p.extend(f.node,f.offset),S=!0}catch{}}if(!S){if(t>n){let T=d;d=f,f=T}let w=document.createRange();w.setEnd(f.node,f.offset),w.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(w)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let u=r+o.border,s=a-o.border;if(t>=u&&n<=s){this.dirty=t==r||n==a?2:1,t==u&&n==s&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=3:o.markDirty(t-u,n-u);return}o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}r=a}this.dirty=2}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=1==t?2:1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class QP extends QN{constructor(t,n,r,i){let o,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:i)),!n.type.spec.raw){if(1!=a.nodeType){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return!!n&&n(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class QL extends QN{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class QF extends QN{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return a&&a.dom||(a=YG.renderSpec(document,n.type.spec.toDOM(n,r))),new QF(t,n,a.dom,a.contentDOM||a.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),0!=this.dirty){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}slice(t,n,r){let i=QF.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=QX(o,n,a,r)),t>0&&(o=QX(o,0,t,r));for(let u=0;u<o.length;u++)o[u].parent=i;return i.children=o,i}}class QD extends QN{constructor(t,n,r,i,o,a,u,s,l){super(t,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(t,n,r,i,o,a){let u=o.nodeViews[n.type.name],s,l=u&&u(n,o,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:a,r,i),c=l&&l.dom,d=l&&l.contentDOM;if(n.isText){if(c){if(3!=c.nodeType)throw RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(n.text)}else c||({dom:c,contentDOM:d}=YG.renderSpec(document,n.type.spec.toDOM(n)));d||n.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=QG(c,r,n),l?s=new QB(t,n,r,i,c,d||null,f,l,o,a+1):n.isText?new QU(t,n,r,i,c,f,o):new QD(t,n,r,i,c,d||null,f,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM){if(this.contentLost){for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Z8.empty)}else t.contentElement=this.contentDOM}else t.getContent=()=>this.node.content;return t}matchesNode(t,n,r){return 0==this.dirty&&t.eq(this.node)&&QZ(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,a=o&&o.pos>-1?o:null,u=o&&o.pos<0,s=new QJ(this,a&&a.node,t);(function(t,n,r,i){let o=n.locals(t),a=0;if(0==o.length){for(let u=0;u<t.childCount;u++){let s=t.child(u);i(s,o,n.forChild(a,s),u),a+=s.nodeSize}return}let l=0,c=[],d=null;for(let f=0;;){if(l<o.length&&o[l].to==a){let p=o[l++],h;for(;l<o.length&&o[l].to==a;)(h||(h=[p])).push(o[l++]);if(h){h.sort(QQ);for(let m=0;m<h.length;m++)r(h[m],f,!!d)}else r(p,f,!!d)}let g,y;if(d)y=-1,g=d,d=null;else if(f<t.childCount)y=f,g=t.child(f++);else break;for(let v=0;v<c.length;v++)c[v].to<=a&&c.splice(v--,1);for(;l<o.length&&o[l].from<=a&&o[l].to>a;)c.push(o[l++]);let b=a+g.nodeSize;if(g.isText){let x=b;l<o.length&&o[l].from<x&&(x=o[l].from);for(let _=0;_<c.length;_++)c[_].to<x&&(x=c[_].to);x<b&&(d=g.cut(x-a),g=g.cut(0,x-a),b=x,y=-1)}let S=g.isInline&&!g.isLeaf?c.filter(t=>!t.inline):c.slice();i(g,S,n.forChild(a,g),y),a=b}})(this.node,this.innerDeco,(n,o,a)=>{n.spec.marks?s.syncToMarks(n.spec.marks,r,t):n.type.side>=0&&!a&&s.syncToMarks(o==this.node.childCount?Yn.none:this.node.child(o).marks,r,t),s.placeWidget(n,t,i)},(n,a,l,c)=>{s.syncToMarks(n.marks,r,t);let d;s.findNodeMatch(n,a,l,c)||u&&t.state.selection.from>i&&t.state.selection.to<i+n.nodeSize&&(d=s.findIndexWithChild(o.node))>-1&&s.updateNodeAt(n,a,l,d,t)||s.updateNextNode(n,a,l,t,c,i)||s.addNode(n,a,l,t,i),i+=n.nodeSize}),s.syncToMarks([],r,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(a&&this.protectLocalComposition(t,a),function t(n,r,i){let o=n.firstChild,a=!1;for(let u=0;u<r.length;u++){let s=r[u],l=s.dom;if(l.parentNode==n){for(;l!=o;)o=QY(o),a=!0;o=o.nextSibling}else a=!0,n.insertBefore(l,o);if(s instanceof QF){let c=o?o.previousSibling:n.lastChild;t(s.contentDOM,s.children,i),o=c?c.nextSibling:n.firstChild}}for(;o;)o=QY(o),a=!0;a&&i.trackWrites==n&&(i.trackWrites=null)}(this.contentDOM,this.children,t),Ql&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){let n=t.style.cssText;t.style.cssText=n+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=n}}(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof JR)||r<n||i>n+this.node.content.size)return null;let o=t.domSelectionRange(),a=function(t,n){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&n>0){if(t.childNodes.length>n&&3==t.childNodes[n].nodeType)return t.childNodes[n];n=J1(t=t.childNodes[n-1])}else{if(1!=t.nodeType||!(n<t.childNodes.length))return null;t=t.childNodes[n],n=0}}}(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(!this.node.inlineContent)return{node:a,pos:-1,text:""};{let u=a.nodeValue,s=function(t,n,r,i){for(let o=0,a=0;o<t.childCount&&a<=i;){let u=t.child(o++);if(a+=u.nodeSize,!u.isText)continue;let s=u.text;for(;o<t.childCount;){let l=t.child(o++);if(a+=l.nodeSize,!l.isText)break;s+=l.text}if(a>=r){let c=a<i?s.lastIndexOf(n,i-a-1):-1;if(c>=0&&c+n.length+a>=r)return a+c;if(r==i&&s.length>=i+n.length-a&&s.slice(i-a,i-a+n.length)==n)return i}}return -1}(this.node.content,u,r-n,i-n);return s<0?null:{node:a,pos:s,text:u}}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new QL(this,o,n,i);t.input.compositionNodes.push(a),this.children=QX(this.children,r,r+i.length,t,a)}update(t,n,r,i){return!!(3!=this.dirty&&t.sameMarkup(this.node))&&(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(QZ(t,this.outerDeco))return;let n=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=QK(this.dom,this.nodeDOM,Qq(this.outerDeco,this.node,n),Qq(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function QW(t,n,r,i,o){QG(i,n,t);let a=new QD(void 0,t,n,r,i,i,i,o,0);return a.contentDOM&&a.updateChildren(o,0),a}class QU extends QD{constructor(t,n,r,i,o,a,u){super(t,n,r,i,o,null,a,u,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return!!(3!=this.dirty&&(0==this.dirty||this.inParent())&&t.sameMarkup(this.node))&&(this.updateOuterDeco(n),(0!=this.dirty||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=0,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new QU(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(0==t||n==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class Qz extends QN{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class QB extends QD{constructor(t,n,r,i,o,a,u,s,l,c){super(t,n,r,i,o,a,u,l,c),this.spec=s}update(t,n,r,i){if(3==this.dirty)return!1;if(!this.spec.update)return(!!this.contentDOM||!!t.isLeaf)&&super.update(t,n,r,i);{let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}let QV=function(t){t&&(this.nodeName=t)};QV.prototype=Object.create(null);let Q$=[new QV];function Qq(t,n,r){if(0==t.length)return Q$;let i=r?Q$[0]:new QV,o=[i];for(let a=0;a<t.length;a++){let u=t[a].type.attrs;if(u)for(let s in u.nodeName&&o.push(i=new QV(u.nodeName)),u){let l=u[s];null!=l&&(r&&1==o.length&&o.push(i=new QV(n.isInline?"span":"div")),"class"==s?i.class=(i.class?i.class+" ":"")+l:"style"==s?i.style=(i.style?i.style+";":"")+l:"nodeName"!=s&&(i[s]=l))}}return o}function QK(t,n,r,i){if(r==Q$&&i==Q$)return n;let o=n;for(let a=0;a<i.length;a++){let u=i[a],s=r[a];if(a){let l;s&&s.nodeName==u.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==u.nodeName||((l=document.createElement(u.nodeName)).pmIsDeco=!0,l.appendChild(o),s=Q$[0]),o=l}QH(o,s||Q$[0],u)}return o}function QH(t,n,r){for(let i in n)"class"==i||"style"==i||"nodeName"==i||i in r||t.removeAttribute(i);for(let o in r)"class"!=o&&"style"!=o&&"nodeName"!=o&&r[o]!=n[o]&&t.setAttribute(o,r[o]);if(n.class!=r.class){let a=n.class?n.class.split(" ").filter(Boolean):[],u=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<a.length;s++)-1==u.indexOf(a[s])&&t.classList.remove(a[s]);for(let l=0;l<u.length;l++)-1==a.indexOf(u[l])&&t.classList.add(u[l]);0==t.classList.length&&t.removeAttribute("class")}if(n.style!=r.style){if(n.style){let c=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,d;for(;d=c.exec(n.style);)t.style.removeProperty(d[1])}r.style&&(t.style.cssText+=r.style)}}function QG(t,n,r){return QK(t,t,Q$,Qq(n,r,1!=t.nodeType))}function QZ(t,n){if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(n[r].type))return!1;return!0}function QY(t){let n=t.nextSibling;return t.parentNode.removeChild(t),n}class QJ{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(t,n){let r=n,i=r.children.length,o=t.childCount,a=new Map,u=[];e:for(;o>0;){let s;for(;;)if(i){let l=r.children[i-1];if(l instanceof QF)r=l,i=l.children.length;else{s=l,i--;break}}else{if(r==n)break e;i=r.parent.children.indexOf(r),r=r.parent}let c=s.node;if(c){if(c!=t.child(o-1))break;--o,a.set(s,o),u.push(s)}}return{index:o,matched:a,matches:u.reverse()}}(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&!1!==t[i].type.spec.spanning;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let s=this.index;s<Math.min(this.index+3,this.top.children.length);s++){let l=this.top.children[s];if(l.matchesMark(t[o])&&!this.isLocked(l.dom)){u=s;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let c=QF.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))o=this.top.children.indexOf(a,this.index);else for(let u=this.index,s=Math.min(this.top.children.length,u+5);u<s;u++){let l=this.top.children[u];if(l.matchesNode(t,n,r)&&!this.preMatch.matched.has(l)){o=u;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let a=this.top.children[i];return 3==a.dirty&&a.dom==a.contentDOM&&(a.dirty=2),!!a.update(t,n,r,o)&&(this.destroyBetween(this.index,i),this.index++,!0)}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return -1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return -1}t=n}}updateNextNode(t,n,r,i,o,a){for(let u=this.index;u<this.top.children.length;u++){let s=this.top.children[u];if(s instanceof QD){let l=this.preMatch.matched.get(s);if(null!=l&&l!=o)return!1;let c=s.dom,d,f=this.isLocked(c)&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&QZ(n,s.outerDeco));if(!f&&s.update(t,n,r,i))return this.destroyBetween(this.index,u),s.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(s,t,n,r,i,a)))return this.top.children[this.index]=d,d.dirty=2,d.updateChildren(i,a+1),d.dirty=0,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let u=QD.create(this.top,n,r,i,o,a);if(!u.contentDOM)return null;for(let s of(u.children=t.children,t.children=[],t.destroy(),u.children))s.parent=u;return u}addNode(t,n,r,i,o){let a=QD.create(this.top,t,n,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new QP(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof QF;)t=(n=t).children[n.children.length-1];(!t||!(t instanceof QU)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Qs||Qa)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);"IMG"==t&&(r.className="ProseMirror-separator",r.alt=""),"BR"==t&&(r.className="ProseMirror-trailingBreak");let i=new Qz(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function QQ(t,n){return t.type.side-n.type.side}function QX(t,n,r,i,o){let a=[];for(let u=0,s=0;u<t.length;u++){let l=t[u],c=s+=l.size;s>=r||c<=n?a.push(l):(s<n&&a.push(l.slice(0,n-s,i)),o&&(a.push(o),o=void 0),c>r&&a.push(l.slice(r-s,l.size,i)))}return a}function Q0(t,n=null){let r=t.domSelectionRange(),i=t.state.doc;if(!r.focusNode)return null;let o=t.docView.nearestDesc(r.focusNode),a=o&&0==o.size,u=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(u<0)return null;let s=i.resolve(u),l,c;if(J3(r)){for(l=s;o&&!o.node;)o=o.parent;let d=o.node;if(o&&d.isAtom&&Jj.isSelectable(d)&&o.parent&&!(d.isInline&&function(t,n,r){for(let i=0==n,o=n==J1(t);i||o;){if(t==r)return!0;let a=JG(t);if(!(t=t.parentNode))return!1;i=i&&0==a,o=o&&a==J1(t)}}(r.focusNode,r.focusOffset,o.dom))){let f=o.posBefore;c=new Jj(u==f?s:i.resolve(f))}}else{let p=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(p<0)return null;l=i.resolve(p)}if(!c){let h="pointer"==n||t.state.selection.head<s.pos&&!a?1:-1;c=Q7(t,l,s,h)}return c}function Q1(t){return t.editable?t.hasFocus():Xt(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Q2(t,n=!1){let r=t.state.selection;if(Q9(t,r),Q1(t)){var i,o;if(!n&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Qa){let a=t.domSelectionRange(),u=t.domObserver.currentSelection;if(a.anchorNode&&u.anchorNode&&JQ(a.anchorNode,a.anchorOffset,u.anchorNode,u.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper){let s,l,c,d;i=t,s=i.domSelection(),l=document.createRange(),c=i.cursorWrapper.dom,d="IMG"==c.nodeName,d?l.setEnd(c.parentNode,JG(c)+1):l.setEnd(c,0),l.collapse(!1),s.removeAllRanges(),s.addRange(l),!d&&!i.state.selection.visible&&Qn&&Qr<=11&&(c.disabled=!0,c.disabled=!1)}else{let{anchor:f,head:p}=r,h,m,g,y,v,b;!Q3||r instanceof JR||(r.$from.parent.inlineContent||(h=Q4(t,r.from)),r.empty||r.$from.parent.inlineContent||(m=Q4(t,r.to))),t.docView.setSelection(f,p,t.root,n),Q3&&(h&&Q6(h),m&&Q6(m)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&(o=t,g=o.dom.ownerDocument,g.removeEventListener("selectionchange",o.input.hideSelectionGuard),y=o.domSelectionRange(),v=y.anchorNode,b=y.anchorOffset,g.addEventListener("selectionchange",o.input.hideSelectionGuard=()=>{(y.anchorNode!=v||y.anchorOffset!=b)&&(g.removeEventListener("selectionchange",o.input.hideSelectionGuard),setTimeout(()=>{(!Q1(o)||o.state.selection.visible)&&o.dom.classList.remove("ProseMirror-hideselection")},20))})))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}let Q3=Qs||Qa&&Qu<63;function Q4(t,n){let{node:r,offset:i}=t.docView.domFromPos(n,0),o=i<r.childNodes.length?r.childNodes[i]:null,a=i?r.childNodes[i-1]:null;if(Qs&&o&&"false"==o.contentEditable)return Q5(o);if((!o||"false"==o.contentEditable)&&(!a||"false"==a.contentEditable)){if(o)return Q5(o);if(a)return Q5(a)}}function Q5(t){return t.contentEditable="true",Qs&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Q6(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Q9(t,n){if(n instanceof Jj){let r=t.docView.descAt(n.from);r!=t.lastSelectedViewDesc&&(Q8(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else Q8(t)}function Q8(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Q7(t,n,r,i){return t.someProp("createSelectionBetween",i=>i(t,n,r))||JR.between(n,r,i)}function Xe(t){return(!t.editable||!!t.hasFocus())&&Xt(t)}function Xt(t){let n=t.domSelectionRange();if(!n.anchorNode)return!1;try{return t.dom.contains(3==n.anchorNode.nodeType?n.anchorNode.parentNode:n.anchorNode)&&(t.editable||t.dom.contains(3==n.focusNode.nodeType?n.focusNode.parentNode:n.focusNode))}catch{return!1}}function Xn(t,n){let{$anchor:r,$head:i}=t.selection,o=n>0?r.max(i):r.min(i),a=o.parent.inlineContent?o.depth?t.doc.resolve(n>0?o.after():o.before()):null:o;return a&&Jk.findFrom(a,n)}function Xr(t,n){return t.dispatch(t.state.tr.setSelection(n).scrollIntoView()),!0}function Xi(t,n,r){let i=t.state.selection;if(i instanceof JR){if(!i.empty||r.indexOf("s")>-1)return!1;if(t.endOfTextblock(n>0?"forward":"backward")){let o=Xn(t.state,n);return!!o&&o instanceof Jj&&Xr(t,o)}if(!(Qc&&r.indexOf("m")>-1)){let a=i.$head,u=a.textOffset?null:n<0?a.nodeBefore:a.nodeAfter,s;if(!u||u.isText)return!1;let l=n<0?a.pos-u.nodeSize:a.pos;return!!(u.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM)&&(Jj.isSelectable(u)?Xr(t,new Jj(n<0?t.state.doc.resolve(a.pos-u.nodeSize):a)):!!Qp&&Xr(t,new JR(t.state.doc.resolve(n<0?l:l+u.nodeSize))))}}else{if(i instanceof Jj&&i.node.isInline)return Xr(t,new JR(n>0?i.$to:i.$from));{let c=Xn(t.state,n);return!!c&&Xr(t,c)}}}function Xo(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Xa(t){let n=t.pmViewDesc;return n&&0==n.size&&(t.nextSibling||"BR"!=t.nodeName)}function Xu(t,n){return n<0?function(t){let n=t.domSelectionRange(),r=n.focusNode,i=n.focusOffset;if(!r)return;let o,a,u=!1;for(Qi&&1==r.nodeType&&i<Xo(r)&&Xa(r.childNodes[i])&&(u=!0);;)if(i>0){if(1!=r.nodeType)break;{let s=r.childNodes[i-1];if(Xa(s))o=r,a=--i;else if(3==s.nodeType)i=(r=s).nodeValue.length;else break}}else{if(Xl(r))break;{let l=r.previousSibling;for(;l&&Xa(l);)o=r.parentNode,a=JG(l),l=l.previousSibling;if(l)i=Xo(r=l);else{if((r=r.parentNode)==t.dom)break;i=0}}}u?Xc(t,r,i):o&&Xc(t,o,a)}(t):Xs(t)}function Xs(t){let n=t.domSelectionRange(),r=n.focusNode,i=n.focusOffset;if(!r)return;let o=Xo(r),a,u;for(;;)if(i<o){if(1!=r.nodeType)break;if(Xa(r.childNodes[i]))a=r,u=++i;else break}else{if(Xl(r))break;{let s=r.nextSibling;for(;s&&Xa(s);)a=s.parentNode,u=JG(s)+1,s=s.nextSibling;if(s)i=0,o=Xo(r=s);else{if((r=r.parentNode)==t.dom)break;i=o=0}}}a&&Xc(t,a,u)}function Xl(t){let n=t.pmViewDesc;return n&&n.node&&n.node.isBlock}function Xc(t,n,r){let i=t.domSelection();if(J3(i)){let o=document.createRange();o.setEnd(n,r),o.setStart(n,r),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(n,r);t.domObserver.setCurSelection();let{state:a}=t;setTimeout(()=>{t.state==a&&Q2(t)},50)}function Xd(t,n){let r=t.state.doc.resolve(n);if(!(Qa||Qd)&&r.parent.inlineContent){let i=t.coordsAtPos(n);if(n>r.start()){let o=t.coordsAtPos(n-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(n<r.end()){let u=t.coordsAtPos(n+1),s=(u.top+u.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(u.left-i.left)>1)return u.left>i.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(t.dom).direction?"rtl":"ltr"}function Xf(t,n,r){let i=t.state.selection;if(i instanceof JR&&!i.empty||r.indexOf("s")>-1||Qc&&r.indexOf("m")>-1)return!1;let{$from:o,$to:a}=i;if(!o.parent.inlineContent||t.endOfTextblock(n<0?"up":"down")){let u=Xn(t.state,n);if(u&&u instanceof Jj)return Xr(t,u)}if(!o.parent.inlineContent){let s=n<0?o:a,l=i instanceof JN?Jk.near(s,n):Jk.findFrom(s,n);return!!l&&Xr(t,l)}return!1}function Xp(t,n){if(!(t.state.selection instanceof JR))return!0;let{$head:r,$anchor:i,empty:o}=t.state.selection;if(!r.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(n>0?"forward":"backward"))return!0;let a=!r.textOffset&&(n<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let u=t.state.tr;return n<0?u.delete(r.pos-a.nodeSize,r.pos):u.delete(r.pos,r.pos+a.nodeSize),t.dispatch(u),!0}return!1}function Xh(t,n,r){t.domObserver.stop(),n.contentEditable=r,t.domObserver.start()}function Xm(t,n){t.someProp("transformCopied",r=>{n=r(n,t)});let r=[],{content:i,openStart:o,openEnd:a}=n;for(;o>1&&a>1&&1==i.childCount&&1==i.firstChild.childCount;){o--,a--;let u=i.firstChild;r.push(u.type.name,u.attrs!=u.type.defaultAttrs?u.attrs:null),i=u.content}let s=t.someProp("clipboardSerializer")||YG.fromSchema(t.state.schema),l=XO(),c=l.createElement("div");c.appendChild(s.serializeFragment(i,{document:l}));let d=c.firstChild,f,p=0;for(;d&&1==d.nodeType&&(f=XT[d.nodeName.toLowerCase()]);){for(let h=f.length-1;h>=0;h--){let m=l.createElement(f[h]);for(;c.firstChild;)m.appendChild(c.firstChild);c.appendChild(m),p++}d=c.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${o} ${a}${p?` -${p}`:""} ${JSON.stringify(r)}`),{dom:c,text:t.someProp("clipboardTextSerializer",r=>r(n,t))||n.content.textBetween(0,n.content.size,`

`)}}function Xg(t,n,r,i,o){let a=o.parent.type.spec.code,u,s;if(!r&&!n)return null;let l=n&&(i||a||!r);if(l){if(t.someProp("transformPastedText",r=>{n=r(n,a||i,t)}),a)return n?new Yi(Z8.from(t.state.schema.text(n.replace(/\r\n?/g,`
`))),0,0):Yi.empty;let c=t.someProp("clipboardTextParser",r=>r(n,o,i,t));if(c)s=c;else{let d=o.marks(),{schema:f}=t.state,p=YG.fromSchema(f);u=document.createElement("div"),n.split(/(?:\r\n?|\n)+/).forEach(t=>{let n=u.appendChild(document.createElement("p"));t&&n.appendChild(p.serializeNode(f.text(t,d)))})}}else t.someProp("transformPastedHTML",n=>{r=n(r,t)}),u=function(t){let n=/^(\s*<meta [^>]*>)*/.exec(t);n&&(t=t.slice(n[0].length));let r=XO().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),o;if((o=i&&XT[i[1].toLowerCase()])&&(t=o.map(t=>"<"+t+">").join("")+t+o.map(t=>"</"+t+">").reverse().join("")),r.innerHTML=t,o)for(let a=0;a<o.length;a++)r=r.querySelector(o[a])||r;return r}(r),Qp&&function(t){let n=t.querySelectorAll(Qa?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<n.length;r++){let i=n[r];1==i.childNodes.length&&"\xa0"==i.textContent&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}(u);let h=u&&u.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let y=u.firstChild;for(;y&&1!=y.nodeType;)y=y.nextSibling;if(!y)break;u=y}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||YD.fromSchema(t.state.schema)).parseSlice(u,{preserveWhitespace:!!(l||m),context:o,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||Xy.test(t.parentNode.nodeName)?null:{ignore:!0}})),m)s=function(t,n){if(!t.size)return t;let r=t.content.firstChild.type.schema,i;try{i=JSON.parse(n)}catch{return t}let{content:o,openStart:a,openEnd:u}=t;for(let s=i.length-2;s>=0;s-=2){let l=r.nodes[i[s]];if(!l||l.hasRequiredAttrs())break;o=Z8.from(l.create(i[s+1],o)),a++,u++}return new Yi(o,a,u)}(XS(s,+m[1],+m[2]),m[4]);else if((s=Yi.maxOpen(function(t,n){if(t.childCount<2)return t;for(let r=n.depth;r>=0;r--){let i=n.node(r).contentMatchAt(n.index(r)),o,a=[];if(t.forEach(t=>{if(!a)return;let n=i.findWrapping(t.type),r;if(!n)return a=null;if(r=a.length&&o.length&&Xb(n,o,t,a[a.length-1],0))a[a.length-1]=r;else{a.length&&(a[a.length-1]=Xx(a[a.length-1],o.length));let u=Xv(t,n);a.push(u),i=i.matchType(u.type),o=n}}),a)return Z8.from(a)}return t}(s.content,o),!0)).openStart||s.openEnd){let v=0,b=0;for(let x=s.content.firstChild;v<s.openStart&&!x.type.spec.isolating;v++,x=x.firstChild);for(let _=s.content.lastChild;b<s.openEnd&&!_.type.spec.isolating;b++,_=_.lastChild);s=XS(s,v,b)}return t.someProp("transformPasted",n=>{s=n(s,t)}),s}let Xy=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Xv(t,n,r=0){for(let i=n.length-1;i>=r;i--)t=n[i].create(null,Z8.from(t));return t}function Xb(t,n,r,i,o){if(o<t.length&&o<n.length&&t[o]==n[o]){let a=Xb(t,n,r,i.lastChild,o+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(o==t.length-1?r.type:t[o+1]))return i.copy(i.content.append(Z8.from(Xv(r,t,o+1))))}}function Xx(t,n){if(0==n)return t;let r=t.content.replaceChild(t.childCount-1,Xx(t.lastChild,n-1)),i=t.contentMatchAt(t.childCount).fillBefore(Z8.empty,!0);return t.copy(r.append(i))}function X_(t,n,r,i,o,a){let u=n<0?t.firstChild:t.lastChild,s=u.content;return t.childCount>1&&(a=0),o<i-1&&(s=X_(s,n,r,i,o+1,a)),o>=r&&(s=n<0?u.contentMatchAt(0).fillBefore(s,a<=o).append(s):s.append(u.contentMatchAt(u.childCount).fillBefore(Z8.empty,!0))),t.replaceChild(n<0?0:t.childCount-1,u.copy(s))}function XS(t,n,r){return n<t.openStart&&(t=new Yi(X_(t.content,-1,n,t.openStart,0,t.openEnd),n,t.openEnd)),r<t.openEnd&&(t=new Yi(X_(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}let XT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Xw=null;function XO(){return Xw||(Xw=document.implementation.createHTMLDocument("title"))}let Xk={},XC={},XI={touchstart:!0,touchmove:!0};class XM{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function XR(t,n){t.input.lastSelectionOrigin=n,t.input.lastSelectionTime=Date.now()}function XE(t){t.someProp("handleDOMEvents",n=>{for(let r in n)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Xj(t,n))})}function Xj(t,n){return t.someProp("handleDOMEvents",r=>{let i=r[n.type];return!!i&&(i(t,n)||n.defaultPrevented)})}function XA(t,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let r=n.target;r!=t.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(n))return!1;return!0}function XN(t){return{left:t.clientX,top:t.clientY}}function XP(t,n,r,i,o){if(-1==i)return!1;let a=t.state.doc.resolve(i);for(let u=a.depth+1;u>0;u--)if(t.someProp(n,n=>u>a.depth?n(t,r,a.nodeAfter,a.before(u),o,!0):n(t,r,a.node(u),a.before(u),o,!1)))return!0;return!1}function XL(t,n,r){t.focused||t.focus();let i=t.state.tr.setSelection(n);"pointer"==r&&i.setMeta("pointer",!0),t.dispatch(i)}function XF(t,n,r,i){return XP(t,"handleDoubleClickOn",n,r,i)||t.someProp("handleDoubleClick",r=>r(t,n,i))}function XD(t,n,r,i){return XP(t,"handleTripleClickOn",n,r,i)||t.someProp("handleTripleClick",r=>r(t,n,i))||function(t,n,r){if(0!=r.button)return!1;let i=t.state.doc;if(-1==n)return!!i.inlineContent&&(XL(t,JR.create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(n);for(let a=o.depth+1;a>0;a--){let u=a>o.depth?o.nodeAfter:o.node(a),s=o.before(a);if(u.inlineContent)XL(t,JR.create(i,s+1,s+1+u.content.size),"pointer");else{if(!Jj.isSelectable(u))continue;XL(t,Jj.create(i,s),"pointer")}return!0}}(t,r,i)}XC.keydown=(t,n)=>{if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!Xz(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Qf&&Qa&&13==n.keyCode))){if(229!=n.keyCode&&t.domObserver.forceFlush(),!Ql||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",r=>r(t,n))||function(t,n){var r;let i,o=n.keyCode,a=(i="",n.ctrlKey&&(i+="c"),n.metaKey&&(i+="m"),n.altKey&&(i+="a"),n.shiftKey&&(i+="s"),i);if(8==o||Qc&&72==o&&"c"==a)return Xp(t,-1)||Xu(t,-1);if(46==o&&!n.shiftKey||Qc&&68==o&&"c"==a)return Xp(t,1)||Xu(t,1);if(13==o||27==o)return!0;if(37==o||Qc&&66==o&&"c"==a){let u=37==o?"ltr"==Xd(t,t.state.selection.from)?-1:1:-1;return Xi(t,u,a)||Xu(t,u)}if(39==o||Qc&&70==o&&"c"==a){let s=39==o?"ltr"==Xd(t,t.state.selection.from)?1:-1:1;return Xi(t,s,a)||Xu(t,s)}return 38==o||Qc&&80==o&&"c"==a?Xf(t,-1,a)||Xu(t,-1):40==o||Qc&&78==o&&"c"==a?function(t){if(!Qs||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:n,focusOffset:r}=t.domSelectionRange();if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){let i=n.firstChild;Xh(t,i,"true"),setTimeout(()=>Xh(t,i,"false"),20)}return!1}(t)||Xf(t,1,a)||Xs(t):a==(Qc?"m":"c")&&(66==o||73==o||89==o||90==o)}(t,n)?n.preventDefault():XR(t,"key");else{let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",n=>n(t,J4(13,"Enter"))),t.input.lastIOSEnter=0)},200)}}},XC.keyup=(t,n)=>{16==n.keyCode&&(t.input.shiftKey=!1)},XC.keypress=(t,n)=>{if(Xz(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Qc&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof JR)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);/[\r\n]/.test(i)||t.someProp("handleTextInput",n=>n(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};let XW=Qc?"metaKey":"ctrlKey";Xk.mousedown=(t,n)=>{var r,i,o;t.input.shiftKey=n.shiftKey;let a=Xq(t),u=Date.now(),s="singleClick",l,c;u-t.input.lastClick.time<500&&(l=(o=t.input.lastClick).x-n.clientX,l*l+(c=o.y-n.clientY)*c<100)&&!n[XW]&&("singleClick"==t.input.lastClick.type?s="doubleClick":"doubleClick"==t.input.lastClick.type&&(s="tripleClick")),t.input.lastClick={time:u,x:n.clientX,y:n.clientY,type:s};let d=t.posAtCoords(XN(n));d&&("singleClick"==s?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new XU(t,d,n,!!a)):("doubleClick"==s?XF:XD)(t,d.pos,d.inside,n)?n.preventDefault():XR(t,"pointer"))};class XU{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[XW],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),a=n.inside;else{let u=t.state.doc.resolve(n.pos);o=u.parent,a=u.depth?u.before():0}let s=i?null:r.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:c}=t.state;(0==r.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||c instanceof Jj&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Qi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),XR(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Q2(this.view)),this.view.input.mouseDown=null}up(t){var n,r,i,o,a;if(this.done(),!this.view.dom.contains(t.target))return;let u=this.pos;this.view.state.doc!=this.startDoc&&(u=this.view.posAtCoords(XN(t))),this.updateAllowDefault(t),this.allowDefault||!u?XR(this.view,"pointer"):(n=this.view,r=u.pos,i=u.inside,a=this.selectNode,XP(n,"handleClickOn",r,i,t)||n.someProp("handleClick",i=>i(n,r,t))||(a?function(t,n){if(-1==n)return!1;let r=t.state.selection,i,o;r instanceof Jj&&(i=r.node);let a=t.state.doc.resolve(n);for(let u=a.depth+1;u>0;u--){let s=u>a.depth?a.nodeAfter:a.node(u);if(Jj.isSelectable(s)){o=i&&r.$from.depth>0&&u>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?a.before(r.$from.depth):a.before(u);break}}return null!=o&&(XL(t,Jj.create(t.state.doc,o),"pointer"),!0)}(n,i):function(t,n){if(-1==n)return!1;let r=t.state.doc.resolve(n),i=r.nodeAfter;return!!(i&&i.isAtom&&Jj.isSelectable(i))&&(XL(t,new Jj(r),"pointer"),!0)}(n,i)))?t.preventDefault():0==t.button&&(this.flushed||Qs&&this.mightDrag&&!this.mightDrag.node.isAtom||Qa&&!this.view.state.selection.visible&&2>=Math.min(Math.abs(u.pos-this.view.state.selection.from),Math.abs(u.pos-this.view.state.selection.to)))?(XL(this.view,Jk.near(this.view.state.doc.resolve(u.pos)),"pointer"),t.preventDefault()):XR(this.view,"pointer")}move(t){this.updateAllowDefault(t),XR(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function Xz(t,n){return!!t.composing||!!(Qs&&500>Math.abs(n.timeStamp-t.input.compositionEndedAt))&&(t.input.compositionEndedAt=-2e8,!0)}Xk.touchstart=t=>{t.input.lastTouch=Date.now(),Xq(t),XR(t,"pointer")},Xk.touchmove=t=>{t.input.lastTouch=Date.now(),XR(t,"pointer")},Xk.contextmenu=t=>{var n;return Xq(t)};let XB=Qf?5e3:-1;function XV(t,n){clearTimeout(t.input.composingTimeout),n>-1&&(t.input.composingTimeout=setTimeout(()=>Xq(t),n))}function X$(t){let n;for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=(n=document.createEvent("Event"),n.initEvent("event",!0,!0),n.timeStamp));t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Xq(t,n=!1){if(!(Qf&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),X$(t),n||t.docView&&t.docView.dirty){let r=Q0(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0}return!1}}XC.compositionstart=XC.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:n}=t,r=n.selection.$from;if(n.selection.empty&&(n.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(t=>!1===t.type.spec.inclusive)))t.markCursor=t.state.storedMarks||r.marks(),Xq(t,!0),t.markCursor=null;else if(Xq(t),Qi&&n.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let i=t.domSelectionRange();for(let o=i.focusNode,a=i.focusOffset;o&&1==o.nodeType&&0!=a;){let u=a<0?o.lastChild:o.childNodes[a-1];if(!u)break;if(3==u.nodeType){t.domSelection().collapse(u,u.nodeValue.length);break}o=u,a=-1}}t.input.composing=!0}XV(t,XB)},XC.compositionend=(t,n)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=n.timeStamp,t.input.compositionID++,XV(t,20))};let XK=Qn&&Qr<15||Ql&&Qh<604;function XH(t,n,r,i,o){var a;let u=Xg(t,n,r,i,t.state.selection.$from);if(t.someProp("handlePaste",n=>n(t,o,u||Yi.empty)))return!0;if(!u)return!1;let s=0==u.openStart&&0==u.openEnd&&1==u.content.childCount?u.content.firstChild:null,l=s?t.state.tr.replaceSelectionWith(s,i):t.state.tr.replaceSelection(u);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Xk.copy=XC.cut=(t,n)=>{let r=t.state.selection,i="cut"==n.type;if(r.empty)return;let o=XK?null:n.clipboardData,{dom:a,text:u}=Xm(t,r.content());o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",u)):function(t,n){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(n),r.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),o=document.createRange();o.selectNodeContents(n),t.dom.blur(),i.removeAllRanges(),i.addRange(o),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},XC.paste=(t,n)=>{if(t.composing&&!Qf)return;let r=XK?null:n.clipboardData,i=t.input.shiftKey&&45!=t.input.lastKeyCode;r&&XH(t,r.getData("text/plain"),r.getData("text/html"),i,n)?n.preventDefault():function(t,n){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let o=t.input.shiftKey&&45!=t.input.lastKeyCode;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),r?XH(t,i.value,null,o,n):XH(t,i.textContent,i.innerHTML,o,n)},50)}(t,n)};class XG{constructor(t,n){this.slice=t,this.move=n}}let XZ=Qc?"altKey":"ctrlKey";for(let XY in Xk.dragstart=(t,n)=>{let r=n,i=t.input.mouseDown;if(i&&i.done(),!r.dataTransfer)return;let o=t.state.selection,a=o.empty?null:t.posAtCoords(XN(r));if(!(a&&a.pos>=o.from&&a.pos<=(o instanceof Jj?o.to-1:o.to))){if(i&&i.mightDrag)t.dispatch(t.state.tr.setSelection(Jj.create(t.state.doc,i.mightDrag.pos)));else if(r.target&&1==r.target.nodeType){let u=t.docView.nearestDesc(r.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(Jj.create(t.state.doc,u.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:c}=Xm(t,s);r.dataTransfer.clearData(),r.dataTransfer.setData(XK?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",XK||r.dataTransfer.setData("text/plain",c),t.dragging=new XG(s,!r[XZ])},Xk.dragend=t=>{let n=t.dragging;window.setTimeout(()=>{t.dragging==n&&(t.dragging=null)},50)},XC.dragover=XC.dragenter=(t,n)=>n.preventDefault(),XC.drop=(t,n)=>{let r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(XN(n));if(!i)return;let o=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",n=>{a=n(a,t)}):a=Xg(t,n.dataTransfer.getData(XK?"Text":"text/plain"),XK?null:n.dataTransfer.getData("text/html"),!1,o);let u=!!(r&&!n[XZ]);if(t.someProp("handleDrop",r=>r(t,n,a||Yi.empty,u))){n.preventDefault();return}if(!a)return;n.preventDefault();let s=a?function(t,n,r){let i=t.resolve(n);if(!r.content.size)return n;let o=r.content;for(let a=0;a<r.openStart;a++)o=o.firstChild.content;for(let u=1;u<=(0==r.openStart&&r.size?2:1);u++)for(let s=i.depth;s>=0;s--){let l=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,c=i.index(s)+(l>0?1:0),d=i.node(s),f=!1;if(1==u)f=d.canReplace(c,c,o);else{let p=d.contentMatchAt(c).findWrapping(o.firstChild.type);f=p&&d.canReplaceWith(c,c,p[0])}if(f)return 0==l?i.pos:l<0?i.before(s+1):i.after(s+1)}return null}(t.state.doc,o.pos,a):o.pos;null==s&&(s=o.pos);let l=t.state.tr;u&&l.deleteSelection();let c=l.mapping.map(s),d=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,f=l.doc;if(d?l.replaceRangeWith(c,c,a.content.firstChild):l.replaceRange(c,c,a),l.doc.eq(f))return;let p=l.doc.resolve(c);if(d&&Jj.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))l.setSelection(new Jj(p));else{let h=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((t,n,r,i)=>h=i),l.setSelection(Q7(t,p,l.doc.resolve(h)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))},Xk.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Q2(t)},20))},Xk.blur=(t,n)=>{t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Xk.beforeinput=(t,n)=>{if(Qa&&Qf&&"deleteContentBackward"==n.inputType){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",n=>n(t,J4(8,"Backspace")))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}},XC)Xk[XY]=XC[XY];function XJ(t,n){if(t==n)return!0;for(let r in t)if(t[r]!==n[r])return!1;for(let i in n)if(!(i in t))return!1;return!0}class XQ{constructor(t,n){this.toDOM=t,this.spec=n||X3,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new X1(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof XQ&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&XJ(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class XX{constructor(t,n){this.attrs=t,this.spec=n||X3}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new X1(o,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof XX&&XJ(this.attrs,t.attrs)&&XJ(this.spec,t.spec)}static is(t){return t.type instanceof XX}destroy(){}}let X0=class t{constructor(t,n){this.attrs=t,this.spec=n||X3}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new X1(o.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(n){return this==n||n instanceof t&&XJ(this.attrs,n.attrs)&&XJ(this.spec,n.spec)}destroy(){}};class X1{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new X1(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new X1(t,t,new XQ(n,r))}static inline(t,n,r,i){return new X1(t,n,new XX(r,i))}static node(t,n,r,i){return new X1(t,n,new X0(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof XX}}let X2=[],X3={};class X4{constructor(t,n){this.local=t.length?t:X2,this.children=n.length?n:X2}static create(t,n){return n.length?eee(n,t,0,X3):X5}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=n&&u.to>=t&&(!o||o(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let l=this.children[s]+1;this.children[s+2].findInner(t-l,n-l,r,i+l,o)}}map(t,n,r){return this==X5||0==t.maps.length?this:this.mapInner(t,n,0,0,r||X3)}mapInner(t,n,r,i,o){let a;for(let u=0;u<this.local.length;u++){let s=this.local[u].map(t,r,i);s&&s.type.valid(n,s)?(a||(a=[])).push(s):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?function(t,n,r,i,o,a,u){let s=t.slice();for(let l=0,c=a;l<r.maps.length;l++){let d=0;r.maps[l].forEach((t,n,r,i)=>{let a=i-r-(n-t);for(let u=0;u<s.length;u+=3){let l=s[u+1];if(l<0||t>l+c-d)continue;let f=s[u]+c-d;n>=f?s[u+1]=t<=f?-2:-1:r>=o&&a&&(s[u]+=a,s[u+1]+=a)}d+=a}),c=r.maps[l].map(c,-1)}let f=!1;for(let p=0;p<s.length;p+=3)if(s[p+1]<0){if(-2==s[p+1]){f=!0,s[p+1]=-1;continue}let h=r.map(t[p]+a),m=h-o;if(m<0||m>=i.content.size){f=!0;continue}let g=r.map(t[p+1]+a,-1)-o,{index:y,offset:v}=i.content.findIndex(m),b=i.maybeChild(y);if(b&&v==m&&v+b.nodeSize==g){let x=s[p+2].mapInner(r,b,h+1,t[p]+a+1,u);x!=X5?(s[p]=m,s[p+1]=g,s[p+2]=x):(s[p+1]=-2,f=!0)}else f=!0}if(f){let _=function(t,n,r,i,o,a,u){function s(t,n){for(let a=0;a<t.local.length;a++){let l=t.local[a].map(i,o,n);l?r.push(l):u.onRemove&&u.onRemove(t.local[a].spec)}for(let c=0;c<t.children.length;c+=3)s(t.children[c+2],t.children[c]+n+1)}for(let l=0;l<t.length;l+=3)-1==t[l+1]&&s(t[l+2],n[l]+a+1);return r}(s,t,n,r,o,a,u),S=eee(_,i,0,u);n=S.local;for(let T=0;T<s.length;T+=3)s[T+1]<0&&(s.splice(T,3),T-=3);for(let w=0,O=0;w<S.children.length;w+=3){let k=S.children[w];for(;O<s.length&&s[O]<k;)O+=3;s.splice(O,0,S.children[w],S.children[w+1],S.children[w+2])}}return new X4(n.sort(eet),s)}(this.children,a||[],t,n,r,i,o):a?new X4(a.sort(eet),X2):X5}add(t,n){return n.length?this==X5?X4.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((t,a)=>{let u=a+r,s;if(s=X8(n,t,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(t,s,u+1):i.splice(o,0,a,a+t.nodeSize,eee(s,t,u+1,X3)),o+=3}});let a=X9(o?X7(n):n,-r);for(let u=0;u<a.length;u++)a[u].type.valid(t,a[u])||a.splice(u--,1);return new X4(a.length?this.local.concat(a).sort(eet):this.local,i||this.children)}remove(t){return 0==t.length||this==X5?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,u=r[o]+n,s=r[o+1]+n;for(let l=0,c;l<t.length;l++)(c=t[l])&&c.from>u&&c.to<s&&(t[l]=null,(a||(a=[])).push(c));if(!a)continue;r==this.children&&(r=this.children.slice());let d=r[o+2].removeInner(a,u+1);d!=X5?r[o+2]=d:(r.splice(o,3),o-=3)}if(i.length){for(let f=0,p;f<t.length;f++)if(p=t[f])for(let h=0;h<i.length;h++)i[h].eq(p,n)&&(i==this.local&&(i=this.local.slice()),i.splice(h--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new X4(i,r):X5}forChild(t,n){if(this==X5)return this;if(n.isLeaf)return X4.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break}let a=t+1,u=a+n.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<u&&l.to>a&&l.type instanceof XX){let c=Math.max(a,l.from)-a,d=Math.min(u,l.to)-a;c<d&&(i||(i=[])).push(l.copy(c,d))}}if(i){let f=new X4(i.sort(eet),X2);return r?new X6([f,r]):f}return r||X5}eq(t){if(this==t)return!0;if(!(t instanceof X4)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return een(this.localsInner(t))}localsInner(t){if(this==X5)return X2;if(t.inlineContent||!this.local.some(XX.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof XX||n.push(this.local[r]);return n}}X4.empty=new X4([],[]),X4.removeOverlap=een;let X5=X4.empty;class X6{constructor(t){this.members=t}map(t,n){let r=this.members.map(r=>r.map(t,n,X3));return X6.from(r)}forChild(t,n){if(n.isLeaf)return X4.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=X5&&(o instanceof X6?r=r.concat(o.members):r.push(o))}return X6.from(r)}eq(t){if(!(t instanceof X6)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length){if(n){r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}else n=o}}return n?een(r?n:n.sort(eet)):X2}static from(t){switch(t.length){case 0:return X5;case 1:return t[0];default:return new X6(t.every(t=>t instanceof X4)?t:t.reduce((t,n)=>t.concat(n instanceof X4?n:n.members),[]))}}}function X9(t,n){if(!n||!t.length)return t;let r=[];for(let i=0;i<t.length;i++){let o=t[i];r.push(new X1(o.from+n,o.to+n,o.type))}return r}function X8(t,n,r){if(n.isLeaf)return null;let i=r+n.nodeSize,o=null;for(let a=0,u;a<t.length;a++)(u=t[a])&&u.from>r&&u.to<i&&((o||(o=[])).push(u),t[a]=null);return o}function X7(t){let n=[];for(let r=0;r<t.length;r++)null!=t[r]&&n.push(t[r]);return n}function eee(t,n,r,i){let o=[],a=!1;n.forEach((n,u)=>{let s=X8(t,n,u+r);if(s){a=!0;let l=eee(s,n,r+u+1,i);l!=X5&&o.push(u,u+n.nodeSize,l)}});let u=X9(a?X7(t):t,-r).sort(eet);for(let s=0;s<u.length;s++)u[s].type.valid(n,u[s])||(i.onRemove&&i.onRemove(u[s].spec),u.splice(s--,1));return u.length||o.length?new X4(u,o):X5}function eet(t,n){return t.from-n.from||t.to-n.to}function een(t){let n=t;for(let r=0;r<n.length-1;r++){let i=n[r];if(i.from!=i.to)for(let o=r+1;o<n.length;o++){let a=n[o];if(a.from==i.from){a.to!=i.to&&(n==t&&(n=t.slice()),n[o]=a.copy(a.from,i.to),eer(n,o+1,a.copy(i.to,a.to)));continue}a.from<i.to&&(n==t&&(n=t.slice()),n[r]=i.copy(i.from,a.from),eer(n,o,i.copy(a.from,i.to)));break}}return n}function eer(t,n,r){for(;n<t.length&&eet(r,t[n])>0;)n++;t.splice(n,0,r)}function eei(t){let n=[];return t.someProp("decorations",r=>{let i=r(t.state);i&&i!=X5&&n.push(i)}),t.cursorWrapper&&n.push(X4.create(t.state.doc,[t.cursorWrapper.deco])),X6.from(n)}let eeo={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},eea=Qn&&Qr<=11;class eeu{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class ees{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new eeu,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let n=0;n<t.length;n++)this.queue.push(t[n]);Qn&&Qr<=11&&t.some(t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),eea&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,eeo)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Xe(this.view)){if(this.suppressingSelectionUpdates)return Q2(this.view);if(Qn&&Qr<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&JQ(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=JZ(i))n.add(i);for(let o=t.anchorNode;o;o=JZ(o))if(n.has(o)){r=o;break}let a=r&&this.view.docView.nearestDesc(r);if(a&&a.ignoreMutation({type:"selection",target:3==r.nodeType?r.parentNode:r}))return this.setCurSelection(),!0}flush(){var t;let{view:n}=this;if(!n.docView||this.flushingSoon>-1)return;let r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);let i=n.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&Xe(n)&&!this.ignoreSelectionChange(i),a=-1,u=-1,s=!1,l=[];if(n.editable)for(let c=0;c<r.length;c++){let d=this.registerMutation(r[c],l);d&&(a=a<0?d.from:Math.min(d.from,a),u=u<0?d.to:Math.max(d.to,u),d.typeOver&&(s=!0))}if(Qi&&l.length>1){let f=l.filter(t=>"BR"==t.nodeName);if(2==f.length){let p=f[0],h=f[1];p.parentNode&&p.parentNode.parentNode==h.parentNode?h.remove():p.remove()}}let m=null;a<0&&o&&n.input.lastFocus>Date.now()-200&&Math.max(n.input.lastTouch,n.input.lastClick.time)<Date.now()-300&&J3(i)&&(m=Q0(n))&&m.eq(Jk.near(n.state.doc.resolve(0),1))?(n.input.lastFocus=0,Q2(n),this.currentSelection.set(i),n.scrollToSelection()):(a>-1||o)&&(a>-1&&(n.docView.markDirty(a,u),t=n,eel.has(t)||(eel.set(t,null),-1===["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace))||(t.requiresGeckoHackNode=Qi,eec||(console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),eec=!0))),this.handleDOMChange(a,u,s,l),n.docView&&n.docView.dirty?n.updateState(n.state):this.currentSelection.eq(i)||Q2(n),this.currentSelection.set(i))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(r==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if("childList"!=t.type)return"attributes"==t.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue};{for(let i=0;i<t.addedNodes.length;i++)n.push(t.addedNodes[i]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,a=t.nextSibling;if(Qn&&Qr<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:s,nextSibling:l}=t.addedNodes[u];(!s||0>Array.prototype.indexOf.call(t.addedNodes,s))&&(o=s),(!l||0>Array.prototype.indexOf.call(t.addedNodes,l))&&(a=l)}let c=o&&o.parentNode==t.target?JG(o)+1:0,d=r.localPosFromDOM(t.target,c,-1),f=a&&a.parentNode==t.target?JG(a):t.target.childNodes.length,p=r.localPosFromDOM(t.target,f,1);return{from:d,to:p}}}}let eel=new WeakMap,eec=!1;function eed(t){let n=t.pmViewDesc;if(n)return n.parseRule();if("BR"==t.nodeName&&t.parentNode){if(Qs&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}if(t.parentNode.lastChild==t||Qs&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}let eef=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function eep(t,n,r){return Math.max(r.anchor,r.head)>n.content.size?null:Q7(t,n.resolve(r.anchor),n.resolve(r.head))}function eeh(t,n,r){let i=t.depth,o=n?t.end():t.pos;for(;i>0&&(n||t.indexAfter(i)==t.node(i).childCount);)i--,o++,n=!1;if(r){let a=t.node(i).maybeChild(t.indexAfter(i));for(;a&&!a.isLeaf;)a=a.firstChild,o++}return o}class eem{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new XM,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(eex),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=eev(this),eey(this),this.nodeViews=eeb(this),this.docView=QW(this.state.doc,eeg(this),eei(this),this.dom,this),this.domObserver=new ees(this,(t,n,r,i)=>(function(t,n,r,i,o){if(n<0){let a=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,u=Q0(t,a);if(u&&!t.state.selection.eq(u)){if(Qa&&Qf&&13===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",n=>n(t,J4(13,"Enter"))))return;let s=t.state.tr.setSelection(u);"pointer"==a?s.setMeta("pointer",!0):"key"==a&&s.scrollIntoView(),t.composing&&s.setMeta("composition",t.input.compositionID),t.dispatch(s)}return}let l=t.state.doc.resolve(n),c=l.sharedDepth(r);n=l.before(c+1),r=t.state.doc.resolve(r).after(c+1);let d=t.state.selection,f=function(t,n,r){let{node:i,fromOffset:o,toOffset:a,from:u,to:s}=t.docView.parseRange(n,r),l=t.domSelectionRange(),c,d=l.anchorNode;if(d&&t.dom.contains(1==d.nodeType?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],J3(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Qa&&8===t.input.lastKeyCode)for(let f=a;f>o;f--){let p=i.childNodes[f-1],h=p.pmViewDesc;if("BR"==p.nodeName&&!h){a=f;break}if(!h||h.size)break}let m=t.state.doc,g=t.someProp("domParser")||YD.fromSchema(t.state.schema),y=m.resolve(u),v=null,b=g.parse(i,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:a,preserveWhitespace:"pre"!=y.parent.type.whitespace||"full",findPositions:c,ruleFromNode:eed,context:y});if(c&&null!=c[0].pos){let x=c[0].pos,_=c[1]&&c[1].pos;null==_&&(_=x),v={anchor:x+u,head:_+u}}return{doc:b,sel:v,from:u,to:s}}(t,n,r),p=t.state.doc,h=p.slice(f.from,f.to),m,g;8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,g="end"):(m=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let y=function(t,n,r,i,o){let a=t.findDiffStart(n,r);if(null==a)return null;let{a:u,b:s}=t.findDiffEnd(n,r+t.size,r+n.size);if("end"==o){let l=Math.max(0,a-Math.min(u,s));i-=u+l-a}if(u<a&&t.size<n.size){let c=i<=a&&i>=u?a-i:0;a-=c,s=a+(s-u),u=a}else if(s<a){let d=i<=a&&i>=s?a-i:0;a-=d,u=a+(u-s),s=a}return{start:a,endA:u,endB:s}}(h.content,f.doc.content,f.from,m,g);if((Ql&&t.input.lastIOSEnter>Date.now()-225||Qf)&&o.some(t=>1==t.nodeType&&!eef.test(t.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",n=>n(t,J4(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y){if(i&&d instanceof JR&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))y={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let v=eep(t,t.state.doc,f.sel);if(v&&!v.eq(t.state.selection)){let b=t.state.tr.setSelection(v);t.composing&&b.setMeta("composition",t.input.compositionID),t.dispatch(b)}}return}}if(Qa&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from&&f.sel.head==f.sel.anchor){let x=y.endB-y.start;f.sel={anchor:f.sel.anchor+x,head:f.sel.anchor+x}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof JR&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),Qn&&Qr<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>f.from&&" \xa0"==f.doc.textBetween(y.start-f.from-1,y.start-f.from+1)&&(y.start--,y.endA--,y.endB--);let _=f.doc.resolveNoCache(y.start-f.from),S=f.doc.resolveNoCache(y.endB-f.from),T=p.resolve(y.start),w=_.sameParent(S)&&_.parent.inlineContent&&T.end()>=y.endA,O;if((Ql&&t.input.lastIOSEnter>Date.now()-225&&(!w||o.some(t=>"DIV"==t.nodeName||"P"==t.nodeName))||!w&&_.pos<f.doc.content.size&&!_.sameParent(S)&&(O=Jk.findFrom(f.doc.resolve(_.pos+1),1,!0))&&O.head==S.pos)&&t.someProp("handleKeyDown",n=>n(t,J4(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&function(t,n,r,i,o){if(!i.parent.isTextblock||r-n<=o.pos-i.pos||eeh(i,!0,!1)<o.pos)return!1;let a=t.resolve(n);if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let u=t.resolve(eeh(a,!0,!0));return!(!u.parent.isTextblock||u.pos>r||eeh(u,!0,!1)<r)&&i.parent.content.cut(i.parentOffset).eq(u.parent.content)}(p,y.start,y.endA,_,S)&&t.someProp("handleKeyDown",n=>n(t,J4(8,"Backspace")))){Qf&&Qa&&t.domObserver.suppressSelectionUpdates();return}Qa&&Qf&&y.endB==y.start&&(t.input.lastAndroidDelete=Date.now()),Qf&&!w&&_.start()!=S.start()&&0==S.parentOffset&&_.depth==S.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==y.endA&&(y.endB-=2,S=f.doc.resolveNoCache(y.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(n){return n(t,J4(13,"Enter"))})},20));let k=y.start,C=y.endA,I,M,R;if(w){if(_.pos==S.pos)Qn&&Qr<=11&&0==_.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Q2(t),20)),I=t.state.tr.delete(k,C),M=p.resolve(y.start).marksAcross(p.resolve(y.endA));else if(y.endA==y.endB&&(R=function(t,n){let r=t.firstChild.marks,i=n.firstChild.marks,o=r,a=i,u,s,l;for(let c=0;c<i.length;c++)o=i[c].removeFromSet(o);for(let d=0;d<r.length;d++)a=r[d].removeFromSet(a);if(1==o.length&&0==a.length)s=o[0],u="add",l=t=>t.mark(s.addToSet(t.marks));else{if(0!=o.length||1!=a.length)return null;s=a[0],u="remove",l=t=>t.mark(s.removeFromSet(t.marks))}let f=[];for(let p=0;p<n.childCount;p++)f.push(l(n.child(p)));if(Z8.from(f).eq(t))return{mark:s,type:u}}(_.parent.content.cut(_.parentOffset,S.parentOffset),T.parent.content.cut(T.parentOffset,y.endA-T.start()))))I=t.state.tr,"add"==R.type?I.addMark(k,C,R.mark):I.removeMark(k,C,R.mark);else if(_.parent.child(_.index()).isText&&_.index()==S.index()-(S.textOffset?0:1)){let E=_.parent.textBetween(_.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",n=>n(t,k,C,E)))return;I=t.state.tr.insertText(E,k,C)}}if(I||(I=t.state.tr.replace(k,C,f.doc.slice(y.start-f.from,y.endB-f.from))),f.sel){let j=eep(t,I.doc,f.sel);j&&!(Qa&&Qf&&t.composing&&j.empty&&(y.start!=y.endB||t.input.lastAndroidDelete<Date.now()-100)&&(j.head==k||j.head==I.mapping.map(C)-1)||Qn&&j.empty&&j.head==k)&&I.setSelection(j)}M&&I.ensureMarks(M),t.composing&&I.setMeta("composition",t.input.compositionID),t.dispatch(I.scrollIntoView())})(this,t,n,r,i)),this.domObserver.start(),function(t){for(let n in Xk){let r=Xk[n];t.dom.addEventListener(n,t.input.eventHandlers[n]=n=>{!XA(t,n)||Xj(t,n)||!t.editable&&n.type in XC||r(t,n)},XI[n]?{passive:!0}:void 0)}Qs&&t.dom.addEventListener("input",()=>null),XE(t)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;for(let n in this._props={},t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&XE(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(eex),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];for(let i in n.state=this.state,t)n[i]=t[i];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){let r=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(X$(this),o=!0),this.state=t;let a=r.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let u=eeb(this);(function(t,n){let r=0,i=0;for(let o in t){if(t[o]!=n[o])return!0;r++}for(let a in n)i++;return r!=i})(u,this.nodeViews)&&(this.nodeViews=u,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&XE(this),this.editable=eev(this),eey(this);let s=eei(this),l=eeg(this),c=r.plugins==t.plugins||r.doc.eq(t.doc)?t.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",d=i||!this.docView.matchesNode(t.doc,l,s);(d||!t.selection.eq(r.selection))&&(o=!0);let f="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(t){let n=t.dom.getBoundingClientRect(),r=Math.max(0,n.top),i,o;for(let a=(n.left+n.right)/2,u=r+1;u<Math.min(innerHeight,n.bottom);u+=5){let s=t.root.elementFromPoint(a,u);if(!s||s==t.dom||!t.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){i=s,o=l.top;break}}return{refDOM:i,refTop:o,stack:Qb(t.dom)}}(this);if(o){var p,h,m;this.domObserver.stop();let g,y=d&&(Qn||Qa)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&(h=r.selection,m=t.selection,g=Math.min(h.$anchor.sharedDepth(h.head),m.$anchor.sharedDepth(m.head)),h.$anchor.start(g)!=m.$anchor.start(g));if(d){let v=Qa?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(t.doc,l,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=QW(t.doc,l,s,this.dom,this)),v&&!this.trackWrites&&(y=!0)}let b,x;y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&(b=this.docView.domFromPos(this.state.selection.anchor,0),x=this.domSelectionRange(),JQ(b.node,b.offset,x.anchorNode,x.anchorOffset)))?Q2(this,y):(Q9(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():f&&function({refDOM:t,refTop:n,stack:r}){let i=t?t.getBoundingClientRect().top:0;Qx(r,0==i?0:i-n)}(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this))){if(this.state.selection instanceof Jj){let n=this.docView.domAfterPos(this.state.selection.from);1==n.nodeType&&Qv(this,n.getBoundingClientRect(),t)}else Qv(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let i=0;i<this.directPlugins.length;i++){let o=this.directPlugins[i];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(let a=0;a<this.state.plugins.length;a++){let u=this.state.plugins[a];u.spec.view&&this.pluginViews.push(u.spec.view(this))}}}someProp(t,n){let r=this._props&&this._props[t],i;if(null!=r&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(null!=a&&(i=n?n(a):a))return i}let u=this.state.plugins;if(u)for(let s=0;s<u.length;s++){let l=u[s].props[t];if(null!=l&&(i=n?n(l):l))return i}}hasFocus(){if(Qn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(Q_)return t.focus(Q_);let n=Qb(t);t.focus(null==Q_?{get preventScroll(){return Q_={preventScroll:!0},!0}}:void 0),Q_||(Q_=!1,Qx(n,0))}(this.dom),Q2(this),this.domObserver.start()}get root(){let t=this._root;if(null==t){for(let n=this.dom.parentNode;n;n=n.parentNode)if(9==n.nodeType||11==n.nodeType&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}posAtCoords(t){return function(t,n){var r,i;let o=t.dom.ownerDocument,a,u=0,s=J5(o,n.left,n.top);s&&({node:a,offset:u}=s);let l=(t.root.elementFromPoint?t.root:o).elementFromPoint(n.left,n.top),c;if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){let d=t.dom.getBoundingClientRect();if(!QS(n,d)||!(l=function t(n,r,i){let o=n.childNodes.length;if(o&&i.top<i.bottom)for(let a=Math.max(0,Math.min(o-1,Math.floor(o*(r.top-i.top)/(i.bottom-i.top))-2)),u=a;;){let s=n.childNodes[u];if(1==s.nodeType){let l=s.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(QS(r,d))return t(s,r,d)}}if((u=(u+1)%o)==a)break}return n}(t.dom,n,d)))return null}if(Qs)for(let f=l;a&&f;f=JZ(f))f.draggable&&(a=void 0);let p;if(l=(p=(r=l).parentNode)&&/^li$/i.test(p.nodeName)&&n.left<r.getBoundingClientRect().left?p:r,a){if(Qi&&1==a.nodeType&&(u=Math.min(u,a.childNodes.length))<a.childNodes.length){let h=a.childNodes[u],m;"IMG"==h.nodeName&&(m=h.getBoundingClientRect()).right<=n.left&&m.bottom>n.top&&u++}a==t.dom&&u==a.childNodes.length-1&&1==a.lastChild.nodeType&&n.top>a.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(0==u||1!=a.nodeType||"BR"!=a.childNodes[u-1].nodeName)&&(c=function(t,n,r,i){let o=-1;for(let a=n,u=!1;a!=t.dom;){let s=t.docView.nearestDesc(a,!0);if(!s)return null;if(1==s.dom.nodeType&&(s.node.isBlock&&s.parent&&!u||!s.contentDOM)){let l=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&!u&&(u=!0,l.left>i.left||l.top>i.top?o=s.posBefore:(l.right<i.left||l.bottom<i.top)&&(o=s.posAfter)),!s.contentDOM&&o<0)return(s.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?s.posBefore:s.posAfter}a=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(n,r,-1)}(t,a,u,n))}null==c&&(c=function(t,n,r){let{node:i,offset:o}=function t(n,r){let i,o=2e8,a,u=0,s=r.top,l=r.top,c,d;for(let f=n.firstChild,p=0;f;f=f.nextSibling,p++){let h;if(1==f.nodeType)h=f.getClientRects();else{if(3!=f.nodeType)continue;h=JJ(f).getClientRects()}for(let m=0;m<h.length;m++){let g=h[m];if(g.top<=s&&g.bottom>=l){s=Math.max(g.bottom,s),l=Math.min(g.top,l);let y=g.left>r.left?g.left-r.left:g.right<r.left?r.left-g.right:0;if(y<o){i=f,o=y,a=y&&3==i.nodeType?{left:g.right<r.left?g.right:g.left,top:r.top}:r,1==f.nodeType&&y&&(u=p+(r.left>=(g.left+g.right)/2?1:0));continue}}else g.top>r.top&&!c&&g.left<=r.left&&g.right>=r.left&&(c=f,d={left:Math.max(g.left,Math.min(g.right,r.left)),top:g.top});!i&&(r.left>=g.right&&r.top>=g.top||r.left>=g.left&&r.top>=g.bottom)&&(u=p+1)}}return!i&&c&&(i=c,a=d,o=0),i&&3==i.nodeType?function(t,n){let r=t.nodeValue.length,i=document.createRange();for(let o=0;o<r;o++){i.setEnd(t,o+1),i.setStart(t,o);let a=Qw(i,1);if(a.top!=a.bottom&&QS(n,a))return{node:t,offset:o+(n.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}(i,a):!i||o&&1==i.nodeType?{node:n,offset:u}:t(i,a)}(n,r),a=-1;if(1==i.nodeType&&!i.firstChild){let u=i.getBoundingClientRect();a=u.left!=u.right&&r.left>(u.left+u.right)/2?1:-1}return t.docView.posFromDOM(i,o,a)}(t,l,n));let g=t.docView.nearestDesc(l,!0);return{pos:c,inside:g?g.posAtStart-g.border:-1}}(this,t)}coordsAtPos(t,n=1){return Qk(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(null==i)throw RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){var r,i,o,a,u,s;let l,c;return QE==(i=n||this.state)&&Qj==t?QA:(QE=i,Qj=t,QA="up"==t||"down"==t?(a=this,l=i.selection,c="up"==t?l.$from:l.$to,QM(a,i,()=>{let{node:n}=a.docView.domFromPos(c.pos,"up"==t?-1:1);for(;;){let r=a.docView.nearestDesc(n,!0);if(!r)break;if(r.node.isBlock){n=r.contentDOM||r.dom;break}n=r.dom.parentNode}let i=Qk(a,c.pos,1);for(let o=n.firstChild;o;o=o.nextSibling){let u;if(1==o.nodeType)u=o.getClientRects();else{if(3!=o.nodeType)continue;u=JJ(o,0,o.nodeValue.length).getClientRects()}for(let s=0;s<u.length;s++){let l=u[s];if(l.bottom>l.top+1&&("up"==t?i.top-l.top>(l.bottom-i.top)*2:l.bottom-i.bottom>(i.bottom-l.top)*2))return!1}}return!0})):function(t,n,r){let{$head:i}=n.selection;if(!i.parent.isTextblock)return!1;let o=i.parentOffset,a=o==i.parent.content.size,u=t.domSelection();return QR.test(i.parent.textContent)&&u.modify?QM(t,n,()=>{let{focusNode:n,focusOffset:o,anchorNode:a,anchorOffset:s}=t.domSelectionRange(),l=u.caretBidiLevel;u.modify("move",r,"character");let c=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:d,focusOffset:f}=t.domSelectionRange(),p=d&&!c.contains(1==d.nodeType?d:d.parentNode)||n==d&&o==f;try{u.collapse(a,s),n&&(n!=a||o!=s)&&u.extend&&u.extend(n,o)}catch{}return null!=l&&(u.caretBidiLevel=l),p}):"left"==r||"backward"==r?!o:a}(this,i,t))}pasteHTML(t,n){return XH(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return XH(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(function(t){for(let n in t.domObserver.stop(),t.input.eventHandlers)t.dom.removeEventListener(n,t.input.eventHandlers[n]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],eei(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){var n,r;Xj(this,t)||!Xk[t.type]||!this.editable&&t.type in XC||Xk[t.type](this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return Qs&&11===this.root.nodeType&&function(t){let n=t.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}(this.dom.ownerDocument)==this.dom?function(t){let n;function r(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0);let i=n.startContainer,o=n.startOffset,a=n.endContainer,u=n.endOffset,s=t.domAtPos(t.state.selection.anchor);return JQ(s.node,s.offset,a,u)&&([i,o,a,u]=[a,u,i,o]),{anchorNode:i,anchorOffset:o,focusNode:a,focusOffset:u}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function eeg(t){let n=Object.create(null);return n.class="ProseMirror",n.contenteditable=String(t.editable),t.someProp("attributes",r=>{if("function"==typeof r&&(r=r(t.state)),r)for(let i in r)"class"==i?n.class+=" "+r[i]:"style"==i?n.style=(n.style?n.style+";":"")+r[i]:n[i]||"contenteditable"==i||"nodeName"==i||(n[i]=String(r[i]))}),n.translate||(n.translate="no"),[X1.node(0,t.state.doc.content.size,n)]}function eey(t){if(t.markCursor){let n=document.createElement("img");n.className="ProseMirror-separator",n.setAttribute("mark-placeholder","true"),n.setAttribute("alt",""),t.cursorWrapper={dom:n,deco:X1.widget(t.state.selection.head,n,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function eev(t){return!t.someProp("editable",n=>!1===n(t.state))}function eeb(t){let n=Object.create(null);function r(t){for(let r in t)Object.prototype.hasOwnProperty.call(n,r)||(n[r]=t[r])}return t.someProp("nodeViews",r),t.someProp("markViews",r),n}function eex(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw RangeError("Plugins passed directly to the view must not have a state component")}for(var ee_={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},eeS={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},eeT="u">typeof navigator&&/Mac/.test(navigator.platform),eew="u">typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),eeO=0;eeO<10;eeO++)ee_[48+eeO]=ee_[96+eeO]=String(eeO);for(var eeO=1;eeO<=24;eeO++)ee_[eeO+111]="F"+eeO;for(var eeO=65;eeO<=90;eeO++)ee_[eeO]=String.fromCharCode(eeO+32),eeS[eeO]=String.fromCharCode(eeO);for(var eek in ee_)eeS.hasOwnProperty(eek)||(eeS[eek]=ee_[eek]);let eeC="u">typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function eeI(t){let n=t.split(/-(?!$)/),r=n[n.length-1];"Space"==r&&(r=" ");let i,o,a,u;for(let s=0;s<n.length-1;s++){let l=n[s];if(/^(cmd|meta|m)$/i.test(l))u=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))eeC?u=!0:o=!0;else throw Error("Unrecognized modifier name: "+l)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),u&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function eeM(t,n,r=!0){return n.altKey&&(t="Alt-"+t),n.ctrlKey&&(t="Ctrl-"+t),n.metaKey&&(t="Meta-"+t),r&&n.shiftKey&&(t="Shift-"+t),t}let eeR=(t,n)=>!t.selection.empty&&(n&&n(t.tr.deleteSelection().scrollIntoView()),!0),eeE=(t,n,r)=>{let i=function(t,n){let{$cursor:r}=t.selection;return r&&(n?n.endOfTextblock("backward",t):!(r.parentOffset>0))?r:null}(t,r);if(!i)return!1;let o=eeN(i);if(!o){let a=i.blockRange(),u=a&&Ji(a);return null!=u&&(n&&n(t.tr.lift(a,u).scrollIntoView()),!0)}let s=o.nodeBefore;if(!s.type.spec.isolating&&eeH(t,o,n))return!0;if(0==i.parent.content.size&&(eej(s,"end")||Jj.isSelectable(s))){let l=Jd(t.doc,i.before(),i.after(),Yi.empty);if(l&&l.slice.size<l.to-l.from){if(n){let c=t.tr.step(l);c.setSelection(eej(s,"end")?Jk.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):Jj.create(c.doc,o.pos-s.nodeSize)),n(c.scrollIntoView())}return!0}}return!!s.isAtom&&o.depth==i.depth-1&&(n&&n(t.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0)};function eej(t,n,r=!1){for(let i=t;i;i="start"==n?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(r&&1!=i.childCount)break}return!1}let eeA=(t,n,r)=>{let{$head:i,empty:o}=t.selection,a=i;if(!o)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):i.parentOffset>0)return!1;a=eeN(i)}let u=a&&a.nodeBefore;return!!(u&&Jj.isSelectable(u))&&(n&&n(t.tr.setSelection(Jj.create(t.doc,a.pos-u.nodeSize)).scrollIntoView()),!0)};function eeN(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){if(t.index(n)>0)return t.doc.resolve(t.before(n+1));if(t.node(n).type.spec.isolating)break}return null}let eeP=(t,n,r)=>{let i=function(t,n){let{$cursor:r}=t.selection;return r&&(n?n.endOfTextblock("forward",t):!(r.parentOffset<r.parent.content.size))?r:null}(t,r);if(!i)return!1;let o=eeF(i);if(!o)return!1;let a=o.nodeAfter;if(eeH(t,o,n))return!0;if(0==i.parent.content.size&&(eej(a,"start")||Jj.isSelectable(a))){let u=Jd(t.doc,i.before(),i.after(),Yi.empty);if(u&&u.slice.size<u.to-u.from){if(n){let s=t.tr.step(u);s.setSelection(eej(a,"start")?Jk.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):Jj.create(s.doc,s.mapping.map(o.pos))),n(s.scrollIntoView())}return!0}}return!!a.isAtom&&o.depth==i.depth-1&&(n&&n(t.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0)},eeL=(t,n,r)=>{let{$head:i,empty:o}=t.selection,a=i;if(!o)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;a=eeF(i)}let u=a&&a.nodeAfter;return!!(u&&Jj.isSelectable(u))&&(n&&n(t.tr.setSelection(Jj.create(t.doc,a.pos)).scrollIntoView()),!0)};function eeF(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){let r=t.node(n);if(t.index(n)+1<r.childCount)return t.doc.resolve(t.after(n+1));if(r.type.spec.isolating)break}return null}let eeD=(t,n)=>{let r=t.selection,i=r instanceof Jj,o;if(i){if(r.node.isTextblock||!Js(t.doc,r.from))return!1;o=r.from}else if(null==(o=Jc(t.doc,r.from,-1)))return!1;if(n){let a=t.tr.join(o);i&&a.setSelection(Jj.create(a.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),n(a.scrollIntoView())}return!0},eeW=(t,n)=>{let r=t.selection,i;if(r instanceof Jj){if(r.node.isTextblock||!Js(t.doc,r.to))return!1;i=r.to}else if(null==(i=Jc(t.doc,r.to,1)))return!1;return n&&n(t.tr.join(i).scrollIntoView()),!0},eeU=(t,n)=>{let{$from:r,$to:i}=t.selection,o=r.blockRange(i),a=o&&Ji(o);return null!=a&&(n&&n(t.tr.lift(o,a).scrollIntoView()),!0)},eez=(t,n)=>{let{$head:r,$anchor:i}=t.selection;return!!(r.parent.type.spec.code&&r.sameParent(i))&&(n&&n(t.tr.insertText(`
`).scrollIntoView()),!0)};function eeB(t){for(let n=0;n<t.edgeCount;n++){let{type:r}=t.edge(n);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}let eeV=(t,n)=>{let{$head:r,$anchor:i}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;let o=r.node(-1),a=r.indexAfter(-1),u=eeB(o.contentMatchAt(a));if(!u||!o.canReplaceWith(a,a,u))return!1;if(n){let s=r.after(),l=t.tr.replaceWith(s,s,u.createAndFill());l.setSelection(Jk.near(l.doc.resolve(s),1)),n(l.scrollIntoView())}return!0},ee$=(t,n)=>{let r=t.selection,{$from:i,$to:o}=r;if(r instanceof JN||i.parent.inlineContent||o.parent.inlineContent)return!1;let a=eeB(o.parent.contentMatchAt(o.indexAfter()));if(!a||!a.isTextblock)return!1;if(n){let u=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,s=t.tr.insert(u,a.createAndFill());s.setSelection(JR.create(s.doc,u+1)),n(s.scrollIntoView())}return!0},eeq=(t,n)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(Ju(t.doc,i))return n&&n(t.tr.split(i).scrollIntoView()),!0}let o=r.blockRange(),a=o&&Ji(o);return null!=a&&(n&&n(t.tr.lift(o,a).scrollIntoView()),!0)},eeK=(t,n)=>{let{$from:r,to:i}=t.selection,o,a=r.sharedDepth(i);return 0!=a&&(o=r.before(a),n&&n(t.tr.setSelection(Jj.create(t.doc,o))),!0)};function eeH(t,n,r){var i,o,a;let u=n.nodeBefore,s=n.nodeAfter,l,c;if(u.type.spec.isolating||s.type.spec.isolating)return!1;let d,f,p;if(d=n.nodeBefore,f=n.nodeAfter,p=n.index(),d&&f&&d.type.compatibleContent(f.type)&&(!d.content.size&&n.parent.canReplace(p-1,p)?(r&&r(t.tr.delete(n.pos-d.nodeSize,n.pos).scrollIntoView()),!0):!!(n.parent.canReplace(p,p+1)&&(f.isTextblock||Js(t.doc,n.pos)))&&(r&&r(t.tr.clearIncompatible(n.pos,d.type,d.contentMatchAt(d.childCount)).join(n.pos).scrollIntoView()),!0)))return!0;let h=n.parent.canReplace(n.index(),n.index()+1);if(h&&(l=(c=u.contentMatchAt(u.childCount)).findWrapping(s.type))&&c.matchType(l[0]||s.type).validEnd){if(r){let m=n.pos+s.nodeSize,g=Z8.empty;for(let y=l.length-1;y>=0;y--)g=Z8.from(l[y].create(null,g));g=Z8.from(u.copy(g));let v=t.tr.step(new Jt(n.pos-1,m,n.pos,m,new Yi(g,1,0),l.length,!0)),b=m+2*l.length;Js(v.doc,b)&&v.join(b),r(v.scrollIntoView())}return!0}let x=Jk.findFrom(n,1),_=x&&x.$from.blockRange(x.$to),S=_&&Ji(_);if(null!=S&&S>=n.depth)return r&&r(t.tr.lift(_,S).scrollIntoView()),!0;if(h&&eej(s,"start",!0)&&eej(u,"end")){let T=u,w=[];for(;w.push(T),!T.isTextblock;)T=T.lastChild;let O=s,k=1;for(;!O.isTextblock;O=O.firstChild)k++;if(T.canReplace(T.childCount,T.childCount,O.content)){if(r){let C=Z8.empty;for(let I=w.length-1;I>=0;I--)C=Z8.from(w[I].copy(C));let M=t.tr.step(new Jt(n.pos-w.length,n.pos+s.nodeSize,n.pos+k,n.pos+s.nodeSize-k,new Yi(C,w.length,0),0,!0));r(M.scrollIntoView())}return!0}}return!1}function eeG(t){return function(n,r){let i=n.selection,o=t<0?i.$from:i.$to,a=o.depth;for(;o.node(a).isInline;){if(!a)return!1;a--}return!!o.node(a).isTextblock&&(r&&r(n.tr.setSelection(JR.create(n.doc,t<0?o.start(a):o.end(a)))),!0)}}let eeZ=eeG(-1),eeY=eeG(1);function eeJ(t,n=null){return function(r,i){let o=!1;for(let a=0;a<r.selection.ranges.length&&!o;a++){let{$from:{pos:u},$to:{pos:s}}=r.selection.ranges[a];r.doc.nodesBetween(u,s,(i,a)=>{if(o)return!1;if(!(!i.isTextblock||i.hasMarkup(t,n))){if(i.type==t)o=!0;else{let u=r.doc.resolve(a),s=u.index();o=u.parent.canReplaceWith(s,s+1,t)}}})}if(!o)return!1;if(i){let l=r.tr;for(let c=0;c<r.selection.ranges.length;c++){let{$from:{pos:d},$to:{pos:f}}=r.selection.ranges[c];l.setBlockType(d,f,t,n)}i(l.scrollIntoView())}return!0}}function eeQ(t){let{state:n,transaction:r}=t,{selection:i}=r,{doc:o}=r,{storedMarks:a}=r;return{...n,apply:n.apply.bind(n),applyTransaction:n.applyTransaction.bind(n),filterTransaction:n.filterTransaction,plugins:n.plugins,schema:n.schema,reconfigure:n.reconfigure.bind(n),toJSON:n.toJSON.bind(n),get storedMarks(){return a},get selection(){return i},get doc(){return o},get tr(){return i=r.selection,o=r.doc,a=r.storedMarks,r}}}"u">typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"u">typeof os&&os.platform&&os.platform();class eeX{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,a=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([t,n])=>[t,(...t)=>{let r=n(...t)(a);return o.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(o),r}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){let{rawCommands:r,editor:i,state:o}=this,{view:a}=i,u=[],s=!!t,l=t||o.tr,c=()=>(s||!n||l.getMeta("preventDispatch")||this.hasCustomState||a.dispatch(l),u.every(t=>!0===t)),d={...Object.fromEntries(Object.entries(r).map(([t,r])=>[t,(...t)=>{let i=this.buildProps(l,n),o=r(...t)(i);return u.push(o),d}])),run:c};return d}createCan(t){let{rawCommands:n,state:r}=this,i=t||r.tr,o=this.buildProps(i,!1);return{...Object.fromEntries(Object.entries(n).map(([t,n])=>[t,(...t)=>n(...t)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,!1)}}buildProps(t,n=!0){let{rawCommands:r,editor:i,state:o}=this,{view:a}=i;o.storedMarks&&t.setStoredMarks(o.storedMarks);let u={tr:t,editor:i,view:a,state:eeQ({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([t,n])=>[t,(...t)=>n(...t)(u)]))}};return u}}class ee0{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){let r=this.callbacks[t];return r&&r.forEach(t=>t.apply(this,n)),this}off(t,n){let r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(t=>t!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function ee1(t,n,r){return void 0===t.config[n]&&t.parent?ee1(t.parent,n,r):"function"==typeof t.config[n]?t.config[n].bind({...r,parent:t.parent?ee1(t.parent,n,r):null}):t.config[n]}function ee2(t){let n=t.filter(t=>"extension"===t.type),r=t.filter(t=>"node"===t.type),i=t.filter(t=>"mark"===t.type);return{baseExtensions:n,nodeExtensions:r,markExtensions:i}}function ee3(t){let n=[],{nodeExtensions:r,markExtensions:i}=ee2(t),o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(t=>{let r={name:t.name,options:t.options,storage:t.storage},i=ee1(t,"addGlobalAttributes",r);i&&i().forEach(t=>{t.types.forEach(r=>{Object.entries(t.attributes).forEach(([t,i])=>{n.push({type:r,name:t,attribute:{...o,...i}})})})})}),[...r,...i].forEach(t=>{let r={name:t.name,options:t.options,storage:t.storage},i=ee1(t,"addAttributes",r);if(!i)return;let a=i();Object.entries(a).forEach(([r,i])=>{let a={...o,...i};"function"==typeof(null==a?void 0:a.default)&&(a.default=a.default()),null!=a&&a.isRequired&&(null==a?void 0:a.default)===void 0&&delete a.default,n.push({type:t.name,name:r,attribute:a})})}),n}function ee4(t,n){if("string"==typeof t){if(!n.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return n.nodes[t]}return t}function ee5(...t){return t.filter(t=>!!t).reduce((t,n)=>{let r={...t};return Object.entries(n).forEach(([t,n])=>{if(!r[t]){r[t]=n;return}"class"===t?r[t]=[r[t],n].join(" "):"style"===t?r[t]=[r[t],n].join("; "):r[t]=n}),r},{})}function ee6(t,n){return n.filter(t=>t.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((t,n)=>ee5(t,n),{})}function ee9(t){return"function"==typeof t}function ee8(t,n,...r){return ee9(t)?n?t.bind(n)(...r):t(...r):t}function ee7(t,n){return t.style?t:{...t,getAttrs(r){let i=t.getAttrs?t.getAttrs(r):t.attrs;if(!1===i)return!1;let o=n.reduce((t,n)=>{var i;let o=n.attribute.parseHTML?n.attribute.parseHTML(r):"string"!=typeof(i=r.getAttribute(n.name))?i:i.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(i):"true"===i||"false"!==i&&i;return null==o?t:{...t,[n.name]:o}},{});return{...i,...o}}}}function ete(t){return Object.fromEntries(Object.entries(t).filter(([t,n])=>!("attrs"===t&&function(t={}){return 0===Object.keys(t).length&&t.constructor===Object}(n))&&null!=n))}function ett(t,n){var r;let i=ee3(t),{nodeExtensions:o,markExtensions:a}=ee2(t),u=null===(r=o.find(t=>ee1(t,"topNode")))||void 0===r?void 0:r.name,s=Object.fromEntries(o.map(r=>{let o=i.filter(t=>t.type===r.name),a={name:r.name,options:r.options,storage:r.storage,editor:n},u=t.reduce((t,n)=>{let i=ee1(n,"extendNodeSchema",a);return{...t,...i?i(r):{}}},{}),s=ete({...u,content:ee8(ee1(r,"content",a)),marks:ee8(ee1(r,"marks",a)),group:ee8(ee1(r,"group",a)),inline:ee8(ee1(r,"inline",a)),atom:ee8(ee1(r,"atom",a)),selectable:ee8(ee1(r,"selectable",a)),draggable:ee8(ee1(r,"draggable",a)),code:ee8(ee1(r,"code",a)),defining:ee8(ee1(r,"defining",a)),isolating:ee8(ee1(r,"isolating",a)),attrs:Object.fromEntries(o.map(t=>{var n;return[t.name,{default:null===(n=null==t?void 0:t.attribute)||void 0===n?void 0:n.default}]}))}),l=ee8(ee1(r,"parseHTML",a));l&&(s.parseDOM=l.map(t=>ee7(t,o)));let c=ee1(r,"renderHTML",a);c&&(s.toDOM=t=>c({node:t,HTMLAttributes:ee6(t,o)}));let d=ee1(r,"renderText",a);return d&&(s.toText=d),[r.name,s]})),l=Object.fromEntries(a.map(r=>{let o=i.filter(t=>t.type===r.name),a={name:r.name,options:r.options,storage:r.storage,editor:n},u=t.reduce((t,n)=>{let i=ee1(n,"extendMarkSchema",a);return{...t,...i?i(r):{}}},{}),s=ete({...u,inclusive:ee8(ee1(r,"inclusive",a)),excludes:ee8(ee1(r,"excludes",a)),group:ee8(ee1(r,"group",a)),spanning:ee8(ee1(r,"spanning",a)),code:ee8(ee1(r,"code",a)),attrs:Object.fromEntries(o.map(t=>{var n;return[t.name,{default:null===(n=null==t?void 0:t.attribute)||void 0===n?void 0:n.default}]}))}),l=ee8(ee1(r,"parseHTML",a));l&&(s.parseDOM=l.map(t=>ee7(t,o)));let c=ee1(r,"renderHTML",a);return c&&(s.toDOM=t=>c({mark:t,HTMLAttributes:ee6(t,o)})),[r.name,s]}));return new YL({topNode:u,nodes:s,marks:l})}function etn(t,n){return n.nodes[t]||n.marks[t]||null}function etr(t,n){return Array.isArray(n)?n.some(n=>("string"==typeof n?n:n.name)===t.name):n}let eti=(t,n=500)=>{let r="",i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-n),i,(t,n,o,a)=>{var u,s;let l=(null===(s=(u=t.type.spec).toText)||void 0===s?void 0:s.call(u,{node:t,pos:n,parent:o,index:a}))||t.textContent||"%leaf%";r+=l.slice(0,Math.max(0,i-n))}),r};function eto(t){return"[object RegExp]"===Object.prototype.toString.call(t)}class eta{constructor(t){this.find=t.find,this.handler=t.handler}}let etu=(t,n)=>{if(eto(n))return n.exec(t);let r=n(t);if(!r)return null;let i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(r.replaceWith)),i};function ets(t){var n;let{editor:r,from:i,to:o,text:a,rules:u,plugin:s}=t,{view:l}=r;if(l.composing)return!1;let c=l.state.doc.resolve(i);if(c.parent.type.spec.code||!(null===(n=c.nodeBefore||c.nodeAfter)||void 0===n)&&n.marks.find(t=>t.type.spec.code))return!1;let d=!1,f=eti(c)+a;return u.forEach(t=>{if(d)return;let n=etu(f,t.find);if(!n)return;let u=l.state.tr,c=eeQ({state:l.state,transaction:u}),p={from:i-(n[0].length-a.length),to:o},{commands:h,chain:m,can:g}=new eeX({editor:r,state:c});null!==t.handler({state:c,range:p,match:n,commands:h,chain:m,can:g})&&u.steps.length&&(u.setMeta(s,{transform:u,from:i,to:o,text:a}),l.dispatch(u),d=!0)}),d}class etl{constructor(t){this.find=t.find,this.handler=t.handler}}let etc=(t,n)=>{if(eto(n))return[...t.matchAll(n)];let r=n(t);return r?r.map(n=>{let r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(n.replaceWith)),r}):[]};class etd{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=etd.resolve(t),this.schema=ett(this.extensions,n),this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;let r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:etn(t.name,this.schema)};"mark"===t.type&&(!(null!==(n=ee8(ee1(t,"keepOnSplit",r)))&&void 0!==n)||n)&&this.splittableMarks.push(t.name);let i=ee1(t,"onBeforeCreate",r);i&&this.editor.on("beforeCreate",i);let o=ee1(t,"onCreate",r);o&&this.editor.on("create",o);let a=ee1(t,"onUpdate",r);a&&this.editor.on("update",a);let u=ee1(t,"onSelectionUpdate",r);u&&this.editor.on("selectionUpdate",u);let s=ee1(t,"onTransaction",r);s&&this.editor.on("transaction",s);let l=ee1(t,"onFocus",r);l&&this.editor.on("focus",l);let c=ee1(t,"onBlur",r);c&&this.editor.on("blur",c);let d=ee1(t,"onDestroy",r);d&&this.editor.on("destroy",d)})}static resolve(t){let n=etd.sort(etd.flatten(t)),r=function(t){let n=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(n)]}(n.map(t=>t.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(t=>`'${t}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(t=>{let n={name:t.name,options:t.options,storage:t.storage},r=ee1(t,"addExtensions",n);return r?[t,...this.flatten(r())]:t}).flat(10)}static sort(t){return t.sort((t,n)=>{let r=ee1(t,"priority")||100,i=ee1(n,"priority")||100;return r>i?-1:r<i?1:0})}get commands(){return this.extensions.reduce((t,n)=>{let r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:etn(n.name,this.schema)},i=ee1(n,"addCommands",r);return i?{...t,...i()}:t},{})}get plugins(){let{editor:t}=this,n=etd.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(n=>{var o,a;let u={name:n.name,options:n.options,storage:n.storage,editor:t,type:etn(n.name,this.schema)},s=[],l=ee1(n,"addKeyboardShortcuts",u),c={};if("mark"===n.type&&n.config.exitable&&(c.ArrowRight=()=>enq.handleExit({editor:t,mark:n})),l){let d=Object.fromEntries(Object.entries(l()).map(([n,r])=>[n,()=>r({editor:t})]));c={...c,...d}}let f,p=(o=c,new J$({props:{handleKeyDown:(a=o,f=function(t){let n=Object.create(null);for(let r in t)n[eeI(r)]=t[r];return n}(a),function(t,n){var r,i;let o=("Esc"==(i=!(eeT&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||eew&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?eeS:ee_)[n.keyCode]||n.key||"Unidentified")&&(i="Escape"),"Del"==i&&(i="Delete"),"Left"==i&&(i="ArrowLeft"),"Up"==i&&(i="ArrowUp"),"Right"==i&&(i="ArrowRight"),"Down"==i&&(i="ArrowDown"),i),a,u=f[eeM(o,n)];if(u&&u(t.state,t.dispatch,t))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let s=f[eeM(o,n,!1)];if(s&&s(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(a=ee_[n.keyCode])&&a!=o){let l=f[eeM(a,n)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1})}}));s.push(p);let h=ee1(n,"addInputRules",u);etr(n,t.options.enableInputRules)&&h&&r.push(...h());let m=ee1(n,"addPasteRules",u);etr(n,t.options.enablePasteRules)&&m&&i.push(...m());let g=ee1(n,"addProseMirrorPlugins",u);if(g){let y=g();s.push(...y)}return s}).flat();return[function(t){let{editor:n,rules:r}=t,i=new J$({state:{init:()=>null,apply(t,n){let r=t.getMeta(i);return r||(t.selectionSet||t.docChanged?null:n)}},props:{handleTextInput:(t,o,a,u)=>ets({editor:n,from:o,to:a,text:u,rules:r,plugin:i}),handleDOMEvents:{compositionend:t=>(setTimeout(()=>{let{$cursor:o}=t.state.selection;o&&ets({editor:n,from:o.pos,to:o.pos,text:"",rules:r,plugin:i})}),!1)},handleKeyDown(t,o){if("Enter"!==o.key)return!1;let{$cursor:a}=t.state.selection;return!!a&&ets({editor:n,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:i})}},isInputRules:!0});return i}({editor:t,rules:r}),...function(t){let{editor:n,rules:r}=t,i=null,o=!1,a=!1;return r.map(t=>new J$({view(t){let n=n=>{var r;i=!(null===(r=t.dom.parentElement)||void 0===r)&&r.contains(n.target)?t.dom.parentElement:null};return window.addEventListener("dragstart",n),{destroy(){window.removeEventListener("dragstart",n)}}},props:{handleDOMEvents:{drop:t=>(a=i===t.dom.parentElement,!1),paste(t,n){var r;let i=null===(r=n.clipboardData)||void 0===r?void 0:r.getData("text/html");return o=!!(null!=i&&i.includes("data-pm-slice")),!1}}},appendTransaction(r,i,u){var s;let l=r[0],c="paste"===l.getMeta("uiEvent")&&!o,d="drop"===l.getMeta("uiEvent")&&!a;if(!c&&!d)return;let f=i.doc.content.findDiffStart(u.doc.content),p=i.doc.content.findDiffEnd(u.doc.content);if("number"!=typeof f||!p||f===p.b)return;let h=u.tr,m=eeQ({state:u,transaction:h});if(!(!function(t){let{editor:n,state:r,from:i,to:o,rule:a}=t,{commands:u,chain:s,can:l}=new eeX({editor:n,state:r}),c=[];return r.doc.nodesBetween(i,o,(t,n)=>{if(!t.isTextblock||t.type.spec.code)return;let d=Math.max(i,n),f=Math.min(o,n+t.content.size),p=t.textBetween(d-n,f-n,void 0,"￼");etc(p,a.find).forEach(t=>{if(void 0===t.index)return;let n=d+t.index+1,i=n+t[0].length,o={from:r.tr.mapping.map(n),to:r.tr.mapping.map(i)},f=a.handler({state:r,range:o,match:t,commands:u,chain:s,can:l});c.push(f)})}),c.every(t=>null!==t)}({editor:n,state:m,from:Math.max(f-1,0),to:p.b-1,rule:t})||!h.steps.length))return h}}))}({editor:t,rules:i}),...o]}get attributes(){return ee3(this.extensions)}get nodeViews(){let{editor:t}=this,{nodeExtensions:n}=ee2(this.extensions);return Object.fromEntries(n.filter(t=>!!ee1(t,"addNodeView")).map(n=>{let r=this.attributes.filter(t=>t.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t,type:ee4(n.name,this.schema)},o=ee1(n,"addNodeView",i);if(!o)return[];let a=(i,a,u,s)=>{let l=ee6(i,r);return o()({editor:t,node:i,getPos:u,decorations:s,HTMLAttributes:l,extension:n})};return[n.name,a]}))}}function etf(t){var n;return"Object"===Object.prototype.toString.call(t).slice(8,-1)&&t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function etp(t,n){let r={...t};return etf(t)&&etf(n)&&Object.keys(n).forEach(i=>{etf(n[i])&&i in t?r[i]=etp(t[i],n[i]):Object.assign(r,{[i]:n[i]})}),r}class eth{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ee8(ee1(this,"addOptions",{name:this.name}))),this.storage=ee8(ee1(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new eth(t)}configure(t={}){let n=this.extend();return n.options=etp(this.options,t),n.storage=ee8(ee1(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){let n=new eth(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ee8(ee1(n,"addOptions",{name:n.name})),n.storage=ee8(ee1(n,"addStorage",{name:n.name,options:n.options})),n}}function etm(t,n,r){let{from:i,to:o}=n,{blockSeparator:a=`

`,textSerializers:u={}}=r||{},s="",l=!0;return t.nodesBetween(i,o,(t,r,c,d)=>{var f;let p=null==u?void 0:u[t.type.name];p?(t.isBlock&&!l&&(s+=a,l=!0),c&&(s+=p({node:t,pos:r,parent:c,index:d,range:n}))):t.isText?(s+=null===(f=null==t?void 0:t.text)||void 0===f?void 0:f.slice(Math.max(i,r)-r,o-r),l=!1):t.isBlock&&!l&&(s+=a,l=!0)}),s}function etg(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}let ety=eth.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new J$({key:new JH("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:t}=this,{state:n,schema:r}=t,{doc:i,selection:o}=n,{ranges:a}=o,u=Math.min(...a.map(t=>t.$from.pos)),s=Math.max(...a.map(t=>t.$to.pos)),l=etg(r);return etm(i,{from:u,to:s},{textSerializers:l})}}})]}}),etv=()=>({editor:t,view:n})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(n.dom.blur(),null===(r=null==window?void 0:window.getSelection())||void 0===r||r.removeAllRanges())}),!0),etb=(t=!1)=>({commands:n})=>n.setContent("",t),etx=()=>({state:t,tr:n,dispatch:r})=>{let{selection:i}=n,{ranges:o}=i;return r&&o.forEach(({$from:r,$to:i})=>{t.doc.nodesBetween(r.pos,i.pos,(t,r)=>{if(t.type.isText)return;let{doc:i,mapping:o}=n,a=i.resolve(o.map(r)),u=i.resolve(o.map(r+t.nodeSize)),s=a.blockRange(u);if(!s)return;let l=Ji(s);if(t.type.isTextblock){let{defaultType:c}=a.parent.contentMatchAt(a.index());n.setNodeMarkup(s.start,c)}(l||0===l)&&n.lift(s,l)})}),!0},et_=t=>n=>t(n),etS=()=>({state:t,dispatch:n})=>ee$(t,n),etT=()=>({tr:t,dispatch:n})=>{let{selection:r}=t,i=r.$anchor.node();if(i.content.size>0)return!1;let o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i.type){if(n){let u=o.before(a),s=o.after(a);t.delete(u,s).scrollIntoView()}return!0}return!1},etw=t=>({tr:n,state:r,dispatch:i})=>{let o=ee4(t,r.schema),a=n.selection.$anchor;for(let u=a.depth;u>0;u-=1)if(a.node(u).type===o){if(i){let s=a.before(u),l=a.after(u);n.delete(s,l).scrollIntoView()}return!0}return!1},etO=t=>({tr:n,dispatch:r})=>{let{from:i,to:o}=t;return r&&n.delete(i,o),!0},etk=()=>({state:t,dispatch:n})=>eeR(t,n),etC=()=>({commands:t})=>t.keyboardShortcut("Enter"),etI=()=>({state:t,dispatch:n})=>eeV(t,n);function etM(t,n,r={strict:!0}){let i=Object.keys(n);return!i.length||i.every(i=>r.strict?n[i]===t[i]:eto(n[i])?n[i].test(t[i]):n[i]===t[i])}function etR(t,n,r={}){return t.find(t=>t.type===n&&etM(t.attrs,r))}function etE(t,n,r={}){return!!etR(t,n,r)}function etj(t,n,r={}){if(!t||!n)return;let i=t.parent.childAfter(t.parentOffset);if(t.parentOffset===i.offset&&0!==i.offset&&(i=t.parent.childBefore(t.parentOffset)),!i.node)return;let o=etR([...i.node.marks],n,r);if(!o)return;let a=i.index,u=t.start()+i.offset,s=a+1,l=u+i.node.nodeSize;for(etR([...i.node.marks],n,r);a>0&&o.isInSet(t.parent.child(a-1).marks);)a-=1,u-=t.parent.child(a).nodeSize;for(;s<t.parent.childCount&&etE([...t.parent.child(s).marks],n,r);)l+=t.parent.child(s).nodeSize,s+=1;return{from:u,to:l}}function etA(t,n){if("string"==typeof t){if(!n.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return n.marks[t]}return t}let etN=(t,n={})=>({tr:r,state:i,dispatch:o})=>{let a=etA(t,i.schema),{doc:u,selection:s}=r,{$from:l,from:c,to:d}=s;if(o){let f=etj(l,a,n);if(f&&f.from<=c&&f.to>=d){let p=JR.create(u,f.from,f.to);r.setSelection(p)}}return!0},etP=t=>n=>{let r="function"==typeof t?t(n):t;for(let i=0;i<r.length;i+=1)if(r[i](n))return!0;return!1};function etL(t){return t instanceof JR}function etF(t=0,n=0,r=0){return Math.min(Math.max(t,n),r)}function etD(t,n=null){if(!n)return null;let r=Jk.atStart(t),i=Jk.atEnd(t);if("start"===n||!0===n)return r;if("end"===n)return i;let o=r.from,a=i.to;return"all"===n?JR.create(t,etF(0,o,a),etF(t.content.size,o,a)):JR.create(t,etF(n,o,a),etF(n,o,a))}function etW(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}let etU=(t=null,n={})=>({editor:r,view:i,tr:o,dispatch:a})=>{n={scrollIntoView:!0,...n};let u=()=>{etW()&&i.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(i.focus(),null!=n&&n.scrollIntoView&&r.commands.scrollIntoView())})};if(i.hasFocus()&&null===t||!1===t)return!0;if(a&&null===t&&!etL(r.state.selection))return u(),!0;let s=etD(o.doc,t)||r.state.selection,l=r.state.selection.eq(s);return a&&(l||o.setSelection(s),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),u()),!0},etz=(t,n)=>r=>t.every((t,i)=>n(t,{...r,index:i})),etB=(t,n)=>({tr:r,commands:i})=>i.insertContentAt({from:r.selection.from,to:r.selection.to},t,n);function etV(t){let n=`<body>${t}</body>`;return new window.DOMParser().parseFromString(n,"text/html").body}function et$(t,n,r){if(r={slice:!0,parseOptions:{},...r},"object"==typeof t&&null!==t)try{return Array.isArray(t)&&t.length>0?Z8.fromArray(t.map(t=>n.nodeFromJSON(t))):n.nodeFromJSON(t)}catch(i){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),et$("",n,r)}if("string"==typeof t){let o=YD.fromSchema(n);return r.slice?o.parseSlice(etV(t),r.parseOptions).content:o.parse(etV(t),r.parseOptions)}return et$("",n,r)}let etq=t=>t.toString().startsWith("<"),etK=(t,n,r)=>({tr:i,dispatch:o,editor:a})=>{if(o){r={parseOptions:{},updateSelection:!0,...r};let u=et$(n,a.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions}});if("<>"===u.toString())return!0;let{from:s,to:l}="number"==typeof t?{from:t,to:t}:t,c=!0,d=!0;if((etq(u)?u:[u]).forEach(t=>{t.check(),c=!!c&&t.isText&&0===t.marks.length,d=!!d&&t.isBlock}),s===l&&d){let{parent:f}=i.doc.resolve(s);!f.isTextblock||f.type.spec.code||f.childCount||(s-=1,l+=1)}c?Array.isArray(n)?i.insertText(n.map(t=>t.text||"").join(""),s,l):"object"==typeof n&&n&&n.text?i.insertText(n.text,s,l):i.insertText(n,s,l):i.replaceWith(s,l,u),r.updateSelection&&function(t,n,r){let i=t.steps.length-1;if(i<n)return;let o=t.steps[i];if(!(o instanceof Je||o instanceof Jt))return;let a=t.mapping.maps[i],u=0;a.forEach((t,n,r,i)=>{0===u&&(u=i)}),t.setSelection(Jk.near(t.doc.resolve(u),-1))}(i,i.steps.length-1,-1)}return!0},etH=()=>({state:t,dispatch:n})=>eeD(t,n),etG=()=>({state:t,dispatch:n})=>eeW(t,n),etZ=()=>({state:t,dispatch:n})=>eeE(t,n),etY=()=>({state:t,dispatch:n})=>eeP(t,n);function etJ(){return"u">typeof navigator&&/Mac/.test(navigator.platform)}let etQ=t=>({editor:n,view:r,tr:i,dispatch:o})=>{let a=(function(t){let n=t.split(/-(?!$)/),r=n[n.length-1];"Space"===r&&(r=" ");let i,o,a,u;for(let s=0;s<n.length-1;s+=1){let l=n[s];if(/^(cmd|meta|m)$/i.test(l))u=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))etW()||etJ()?u=!0:o=!0;else throw Error(`Unrecognized modifier name: ${l}`)}return i&&(r=`Alt-${r}`),o&&(r=`Ctrl-${r}`),u&&(r=`Meta-${r}`),a&&(r=`Shift-${r}`),r})(t).split(/-(?!$)/),u=a.find(t=>!["Alt","Ctrl","Meta","Shift"].includes(t)),s=new KeyboardEvent("keydown",{key:"Space"===u?" ":u,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),l=n.captureTransaction(()=>{r.someProp("handleKeyDown",t=>t(r,s))});return null==l||l.steps.forEach(t=>{let n=t.map(i.mapping);n&&o&&i.maybeStep(n)}),!0};function etX(t,n,r={}){let{from:i,to:o,empty:a}=t.selection,u=n?ee4(n,t.schema):null,s=[];t.doc.nodesBetween(i,o,(t,n)=>{if(t.isText)return;let r=Math.min(o,n+t.nodeSize);s.push({node:t,from:Math.max(i,n),to:r})});let l=s.filter(t=>!u||u.name===t.node.type.name).filter(t=>etM(t.node.attrs,r,{strict:!1}));return a?!!l.length:l.reduce((t,n)=>t+n.to-n.from,0)>=o-i}let et0=(t,n={})=>({state:r,dispatch:i})=>{let o=ee4(t,r.schema);return!!etX(r,o,n)&&eeU(r,i)},et1=()=>({state:t,dispatch:n})=>eeq(t,n),et2=t=>({state:n,dispatch:r})=>{var i;let o=ee4(t,n.schema);return function(t,n){let{$from:r,$to:i}=t.selection,a=r.blockRange(i,t=>t.childCount>0&&t.firstChild.type==o);return!!a&&(!n||(r.node(a.depth-1).type==o?function(t,n,r,i){let o=t.tr,a=i.end,u=i.$to.end(i.depth);a<u&&(o.step(new Jt(a-1,u,a,u,new Yi(Z8.from(r.create(null,i.parent.copy())),1,0),1,!0)),i=new Ym(o.doc.resolve(i.$from.pos),o.doc.resolve(u),i.depth));let s=Ji(i);if(null==s)return!1;o.lift(i,s);let l=o.mapping.map(a,-1)-1;return Js(o.doc,l)&&o.join(l),n(o.scrollIntoView()),!0}(t,n,o,a):function(t,n,r){let i=t.tr,o=r.parent;for(let a=r.end,u=r.endIndex-1,s=r.startIndex;u>s;u--)a-=o.child(u).nodeSize,i.delete(a-1,a+1);let l=i.doc.resolve(r.start),c=l.nodeAfter;if(i.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;let d=0==r.startIndex,f=r.endIndex==o.childCount,p=l.node(-1),h=l.index(-1);if(!p.canReplace(h+(d?0:1),h+1,c.content.append(f?Z8.empty:Z8.from(o))))return!1;let m=l.pos,g=m+c.nodeSize;return i.step(new Jt(m-(d?1:0),g+(f?1:0),m+1,g-1,new Yi((d?Z8.empty:Z8.from(o.copy(Z8.empty))).append(f?Z8.empty:Z8.from(o.copy(Z8.empty))),d?0:1,f?0:1),d?0:1)),n(i.scrollIntoView()),!0}(t,n,a)))}(n,r)},et3=()=>({state:t,dispatch:n})=>eez(t,n);function et4(t,n){return n.nodes[t]?"node":n.marks[t]?"mark":null}function et5(t,n){let r="string"==typeof n?[n]:n;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}let et6=(t,n)=>({tr:r,state:i,dispatch:o})=>{let a=null,u=null,s=et4("string"==typeof t?t:t.name,i.schema);return!!s&&("node"===s&&(a=ee4(t,i.schema)),"mark"===s&&(u=etA(t,i.schema)),o&&r.selection.ranges.forEach(t=>{i.doc.nodesBetween(t.$from.pos,t.$to.pos,(t,i)=>{a&&a===t.type&&r.setNodeMarkup(i,void 0,et5(t.attrs,n)),u&&t.marks.length&&t.marks.forEach(o=>{u===o.type&&r.addMark(i,i+t.nodeSize,u.create(et5(o.attrs,n)))})})}),!0)},et9=()=>({tr:t,dispatch:n})=>(n&&t.scrollIntoView(),!0),et8=()=>({tr:t,commands:n})=>n.setTextSelection({from:0,to:t.doc.content.size}),et7=()=>({state:t,dispatch:n})=>eeA(t,n),ene=()=>({state:t,dispatch:n})=>eeL(t,n),ent=()=>({state:t,dispatch:n})=>eeK(t,n),enn=()=>({state:t,dispatch:n})=>eeY(t,n),enr=()=>({state:t,dispatch:n})=>eeZ(t,n);function eni(t,n,r={}){return et$(t,n,{slice:!1,parseOptions:r})}let eno=(t,n=!1,r={})=>({tr:i,editor:o,dispatch:a})=>{let{doc:u}=i,s=eni(t,o.schema,r);return a&&i.replaceWith(0,u.content.size,s).setMeta("preventUpdate",!n),!0};function ena(t){return n=>(function(t,n){for(let r=t.depth;r>0;r-=1){let i=t.node(r);if(n(i))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:i}}})(n.$from,t)}function enu(t,n){let r=etA(n,t.schema),{from:i,to:o,empty:a}=t.selection,u=[];a?(t.storedMarks&&u.push(...t.storedMarks),u.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,o,t=>{u.push(...t.marks)});let s=u.find(t=>t.type.name===r.name);return s?{...s.attrs}:{}}function ens(t,n,r){let i=[];return t===n?r.resolve(t).marks().forEach(n=>{let o=r.resolve(t-1),a=etj(o,n.type);a&&i.push({mark:n,...a})}):r.nodesBetween(t,n,(t,n)=>{i.push(...t.marks.map(r=>({from:n,to:n+t.nodeSize,mark:r})))}),i}function enl(t,n,r){return Object.fromEntries(Object.entries(r).filter(([r])=>{let i=t.find(t=>t.type===n&&t.name===r);return!!i&&i.attribute.keepOnSplit}))}function enc(t,n,r={}){let{empty:i,ranges:o}=t.selection,a=n?etA(n,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(t=>!a||a.name===t.type.name).find(t=>etM(t.attrs,r,{strict:!1}));let u=0,s=[];if(o.forEach(({$from:n,$to:r})=>{let i=n.pos,o=r.pos;t.doc.nodesBetween(i,o,(t,n)=>{if(!t.isText&&!t.marks.length)return;let r=Math.max(i,n),a=Math.min(o,n+t.nodeSize);u+=a-r,s.push(...t.marks.map(t=>({mark:t,from:r,to:a})))})}),0===u)return!1;let l=s.filter(t=>!a||a.name===t.mark.type.name).filter(t=>etM(t.mark.attrs,r,{strict:!1})).reduce((t,n)=>t+n.to-n.from,0),c=s.filter(t=>!a||t.mark.type!==a&&t.mark.type.excludes(a)).reduce((t,n)=>t+n.to-n.from,0);return(l>0?l+c:l)>=u}function end(t,n){let{nodeExtensions:r}=ee2(n),i=r.find(n=>n.name===t);if(!i)return!1;let o={name:i.name,options:i.options,storage:i.storage},a=ee8(ee1(i,"group",o));return"string"==typeof a&&a.split(" ").includes("list")}let enf=(t,n={})=>({tr:r,state:i,dispatch:o})=>{let{selection:a}=r,{empty:u,ranges:s}=a,l=etA(t,i.schema);if(o){if(u){let c=enu(i,l);r.addStoredMark(l.create({...c,...n}))}else s.forEach(t=>{let o=t.$from.pos,a=t.$to.pos;i.doc.nodesBetween(o,a,(t,i)=>{let u=Math.max(i,o),s=Math.min(i+t.nodeSize,a);t.marks.find(t=>t.type===l)?t.marks.forEach(t=>{l===t.type&&r.addMark(u,s,l.create({...t.attrs,...n}))}):r.addMark(u,s,l.create(n))})})}return function(t,n,r){var i;let{selection:o}=n,a=null;if(etL(o)&&(a=o.$cursor),a){let u=null!==(i=t.storedMarks)&&void 0!==i?i:a.marks();return!!r.isInSet(u)||!u.some(t=>t.type.excludes(r))}let{ranges:s}=o;return s.some(({$from:n,$to:i})=>{let o=0===n.depth&&t.doc.inlineContent&&t.doc.type.allowsMarkType(r);return t.doc.nodesBetween(n.pos,i.pos,(t,n,i)=>{if(o)return!1;if(t.isInline){let a=!i||i.type.allowsMarkType(r),u=!!r.isInSet(t.marks)||!t.marks.some(t=>t.type.excludes(r));o=a&&u}return!o}),o})}(i,r,l)},enp=(t,n)=>({tr:r})=>(r.setMeta(t,n),!0),enh=(t,n={})=>({state:r,dispatch:i,chain:o})=>{let a=ee4(t,r.schema);return a.isTextblock?o().command(({commands:t})=>!!eeJ(a,n)(r)||t.clearNodes()).command(({state:t})=>eeJ(a,n)(t,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},enm=t=>({tr:n,dispatch:r})=>{if(r){let{doc:i}=n,o=etF(t,0,i.content.size),a=Jj.create(i,o);n.setSelection(a)}return!0},eng=t=>({tr:n,dispatch:r})=>{if(r){let{doc:i}=n,{from:o,to:a}="number"==typeof t?{from:t,to:t}:t,u=JR.atStart(i).from,s=JR.atEnd(i).to,l=etF(o,u,s),c=etF(a,u,s),d=JR.create(i,l,c);n.setSelection(d)}return!0},eny=t=>({state:n,dispatch:r})=>{var i;let o=ee4(t,n.schema);return function(t,n){let{$from:r,$to:i}=t.selection,a=r.blockRange(i,t=>t.childCount>0&&t.firstChild.type==o);if(!a)return!1;let u=a.startIndex;if(0==u)return!1;let s=a.parent,l=s.child(u-1);if(l.type!=o)return!1;if(n){let c=l.lastChild&&l.lastChild.type==s.type,d=Z8.from(c?o.create():null),f=new Yi(Z8.from(o.create(null,Z8.from(s.type.create(null,d)))),c?3:1,0),p=a.start,h=a.end;n(t.tr.step(new Jt(p-(c?3:1),h,p,h,f,1,!0)).scrollIntoView())}return!0}(n,r)};function env(t,n){let r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){let i=r.filter(t=>null==n?void 0:n.includes(t.type.name));t.tr.ensureMarks(i)}}let enb=({keepMarks:t=!0}={})=>({tr:n,state:r,dispatch:i,editor:o})=>{let{selection:a,doc:u}=n,{$from:s,$to:l}=a,c=o.extensionManager.attributes,d=enl(c,s.node().type.name,s.node().attrs);if(a instanceof Jj&&a.node.isBlock)return!!(s.parentOffset&&Ju(u,s.pos))&&(i&&(t&&env(r,o.extensionManager.splittableMarks),n.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(i){let f=l.parentOffset===l.parent.content.size;a instanceof JR&&n.deleteSelection();let p=0===s.depth?void 0:function(t){for(let n=0;n<t.edgeCount;n+=1){let{type:r}=t.edge(n);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}(s.node(-1).contentMatchAt(s.indexAfter(-1))),h=f&&p?[{type:p,attrs:d}]:void 0,m=Ju(n.doc,n.mapping.map(s.pos),1,h);if(!h&&!m&&Ju(n.doc,n.mapping.map(s.pos),1,p?[{type:p}]:void 0)&&(m=!0,h=p?[{type:p,attrs:d}]:void 0),m&&(n.split(n.mapping.map(s.pos),1,h),p&&!f&&!s.parentOffset&&s.parent.type!==p)){let g=n.mapping.map(s.before()),y=n.doc.resolve(g);s.node(-1).canReplaceWith(y.index(),y.index()+1,p)&&n.setNodeMarkup(n.mapping.map(s.before()),p)}t&&env(r,o.extensionManager.splittableMarks),n.scrollIntoView()}return!0},enx=t=>({tr:n,state:r,dispatch:i,editor:o})=>{var a;let u=ee4(t,r.schema),{$from:s,$to:l}=r.selection,c=r.selection.node;if(c&&c.isBlock||s.depth<2||!s.sameParent(l))return!1;let d=s.node(-1);if(d.type!==u)return!1;let f=o.extensionManager.attributes;if(0===s.parent.content.size&&s.node(-1).childCount===s.indexAfter(-1)){if(2===s.depth||s.node(-3).type!==u||s.index(-2)!==s.node(-2).childCount-1)return!1;if(i){let p=Z8.empty,h=s.index(-1)?1:s.index(-2)?2:3;for(let m=s.depth-h;m>=s.depth-3;m-=1)p=Z8.from(s.node(m).copy(p));let g=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3,y=enl(f,s.node().type.name,s.node().attrs),v=(null===(a=u.contentMatch.defaultType)||void 0===a?void 0:a.createAndFill(y))||void 0;p=p.append(Z8.from(u.createAndFill(null,v)||void 0));let b=s.before(s.depth-(h-1));n.replace(b,s.after(-g),new Yi(p,4-h,0));let x=-1;n.doc.nodesBetween(b,n.doc.content.size,(t,n)=>{if(x>-1)return!1;t.isTextblock&&0===t.content.size&&(x=n+1)}),x>-1&&n.setSelection(JR.near(n.doc.resolve(x))),n.scrollIntoView()}return!0}let _=l.pos===s.end()?d.contentMatchAt(0).defaultType:null,S=enl(f,d.type.name,d.attrs),T=enl(f,s.node().type.name,s.node().attrs);if(n.delete(s.pos,l.pos),!Ju(n.doc,s.pos,2))return!1;if(i){let{selection:w,storedMarks:O}=r,{splittableMarks:k}=o.extensionManager,C=O||w.$to.parentOffset&&w.$from.marks();if(n.split(s.pos,2,_?[{type:u,attrs:S},{type:_,attrs:T}]:[{type:u,attrs:S}]).scrollIntoView(),!C||!i)return!0;let I=C.filter(t=>k.includes(t.type.name));n.ensureMarks(I)}return!0},en_=(t,n)=>{let r=ena(t=>t.type===n)(t.selection);if(!r)return!0;let i=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(void 0===i)return!0;let o=t.doc.nodeAt(i);return r.node.type===(null==o?void 0:o.type)&&Js(t.doc,r.pos)&&t.join(r.pos),!0},enS=(t,n)=>{let r=ena(t=>t.type===n)(t.selection);if(!r)return!0;let i=t.doc.resolve(r.start).after(r.depth);if(void 0===i)return!0;let o=t.doc.nodeAt(i);return r.node.type===(null==o?void 0:o.type)&&Js(t.doc,i)&&t.join(i),!0},enT=(t,n,r,i={})=>({editor:o,tr:a,state:u,dispatch:s,chain:l,commands:c,can:d})=>{let{extensions:f,splittableMarks:p}=o.extensionManager,h=ee4(t,u.schema),m=ee4(n,u.schema),{selection:g,storedMarks:y}=u,{$from:v,$to:b}=g,x=v.blockRange(b),_=y||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;let S=ena(t=>end(t.type.name,f))(g);if(x.depth>=1&&S&&x.depth-S.depth<=1){if(S.node.type===h)return c.liftListItem(m);if(end(S.node.type.name,f)&&h.validContent(S.node.content)&&s)return l().command(()=>(a.setNodeMarkup(S.pos,h),!0)).command(()=>en_(a,h)).command(()=>enS(a,h)).run()}return r&&_&&s?l().command(()=>{let t=d().wrapInList(h,i),n=_.filter(t=>p.includes(t.type.name));return a.ensureMarks(n),!!t||c.clearNodes()}).wrapInList(h,i).command(()=>en_(a,h)).command(()=>enS(a,h)).run():l().command(()=>!!d().wrapInList(h,i)||c.clearNodes()).wrapInList(h,i).command(()=>en_(a,h)).command(()=>enS(a,h)).run()},enw=(t,n={},r={})=>({state:i,commands:o})=>{let{extendEmptyMarkRange:a=!1}=r,u=etA(t,i.schema);return enc(i,u,n)?o.unsetMark(u,{extendEmptyMarkRange:a}):o.setMark(u,n)},enO=(t,n,r={})=>({state:i,commands:o})=>{let a=ee4(t,i.schema),u=ee4(n,i.schema);return etX(i,a,r)?o.setNode(u):o.setNode(a,r)},enk=(t,n={})=>({state:r,commands:i})=>{let o=ee4(t,r.schema);return etX(r,o,n)?i.lift(o):i.wrapIn(o,n)},enC=()=>({state:t,dispatch:n})=>{let r=t.plugins;for(let i=0;i<r.length;i+=1){let o=r[i],a;if(o.spec.isInputRules&&(a=o.getState(t))){if(n){let u=t.tr,s=a.transform;for(let l=s.steps.length-1;l>=0;l-=1)u.step(s.steps[l].invert(s.docs[l]));if(a.text){let c=u.doc.resolve(a.from).marks();u.replaceWith(a.from,a.to,t.schema.text(a.text,c))}else u.delete(a.from,a.to)}return!0}}return!1},enI=()=>({tr:t,dispatch:n})=>{let{selection:r}=t,{empty:i,ranges:o}=r;return i||n&&o.forEach(n=>{t.removeMark(n.$from.pos,n.$to.pos)}),!0},enM=(t,n={})=>({tr:r,state:i,dispatch:o})=>{var a;let{extendEmptyMarkRange:u=!1}=n,{selection:s}=r,l=etA(t,i.schema),{$from:c,empty:d,ranges:f}=s;if(!o)return!0;if(d&&u){let{from:p,to:h}=s,m=null===(a=c.marks().find(t=>t.type===l))||void 0===a?void 0:a.attrs,g=etj(c,l,m);g&&(p=g.from,h=g.to),r.removeMark(p,h,l)}else f.forEach(t=>{r.removeMark(t.$from.pos,t.$to.pos,l)});return r.removeStoredMark(l),!0},enR=(t,n={})=>({tr:r,state:i,dispatch:o})=>{let a=null,u=null,s=et4("string"==typeof t?t:t.name,i.schema);return!!s&&("node"===s&&(a=ee4(t,i.schema)),"mark"===s&&(u=etA(t,i.schema)),o&&r.selection.ranges.forEach(t=>{let o=t.$from.pos,s=t.$to.pos;i.doc.nodesBetween(o,s,(t,i)=>{a&&a===t.type&&r.setNodeMarkup(i,void 0,{...t.attrs,...n}),u&&t.marks.length&&t.marks.forEach(a=>{if(u===a.type){let l=Math.min(i+t.nodeSize,s);r.addMark(Math.max(i,o),l,u.create({...a.attrs,...n}))}})})}),!0)},enE=(t,n={})=>({state:r,dispatch:i})=>{let o=ee4(t,r.schema);return(function(t,n=null){return function(r,i){let{$from:o,$to:a}=r.selection,u=o.blockRange(a),s=u&&Jo(u,t,n);return!!s&&(i&&i(r.tr.wrap(u,s).scrollIntoView()),!0)}})(o,n)(r,i)},enj=(t,n={})=>({state:r,dispatch:i})=>{let o=ee4(t,r.schema);return(function(t,n=null){return function(r,i){let{$from:o,$to:a}=r.selection,u=o.blockRange(a),s=!1,l=u;if(!u)return!1;if(u.depth>=2&&o.node(u.depth-1).type.compatibleContent(t)&&0==u.startIndex){if(0==o.index(u.depth-1))return!1;let c=r.doc.resolve(u.start-2);l=new Ym(c,c,u.depth),u.endIndex<u.parent.childCount&&(u=new Ym(o,r.doc.resolve(a.end(u.depth)),u.depth)),s=!0}let d=Jo(l,t,n,u);return!!d&&(i&&i((function(t,n,r,i,o){let a=Z8.empty;for(let u=r.length-1;u>=0;u--)a=Z8.from(r[u].type.create(r[u].attrs,a));t.step(new Jt(n.start-(i?2:0),n.end,n.start,n.end,new Yi(a,0,0),r.length,!0));let s=0;for(let l=0;l<r.length;l++)r[l].type==o&&(s=l+1);let c=r.length-s,d=n.start+r.length-(i?2:0),f=n.parent;for(let p=n.startIndex,h=n.endIndex,m=!0;p<h;p++,m=!1)!m&&Ju(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=f.child(p).nodeSize;return t})(r.tr,u,d,s,t).scrollIntoView()),!0)}})(o,n)(r,i)};var enA=Object.freeze({__proto__:null,blur:etv,clearContent:etb,clearNodes:etx,command:et_,createParagraphNear:etS,deleteCurrentNode:etT,deleteNode:etw,deleteRange:etO,deleteSelection:etk,enter:etC,exitCode:etI,extendMarkRange:etN,first:etP,focus:etU,forEach:etz,insertContent:etB,insertContentAt:etK,joinUp:etH,joinDown:etG,joinBackward:etZ,joinForward:etY,keyboardShortcut:etQ,lift:et0,liftEmptyBlock:et1,liftListItem:et2,newlineInCode:et3,resetAttributes:et6,scrollIntoView:et9,selectAll:et8,selectNodeBackward:et7,selectNodeForward:ene,selectParentNode:ent,selectTextblockEnd:enn,selectTextblockStart:enr,setContent:eno,setMark:enf,setMeta:enp,setNode:enh,setNodeSelection:enm,setTextSelection:eng,sinkListItem:eny,splitBlock:enb,splitListItem:enx,toggleList:enT,toggleMark:enw,toggleNode:enO,toggleWrap:enk,undoInputRule:enC,unsetAllMarks:enI,unsetMark:enM,updateAttributes:enR,wrapIn:enE,wrapInList:enj});let enN=eth.create({name:"commands",addCommands:()=>({...enA})}),enP=eth.create({name:"editable",addProseMirrorPlugins(){return[new J$({key:new JH("editable"),props:{editable:()=>this.editor.options.editable}})]}}),enL=eth.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:t}=this;return[new J$({key:new JH("focusEvents"),props:{handleDOMEvents:{focus(n,r){t.isFocused=!0;let i=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return n.dispatch(i),!1},blur(n,r){t.isFocused=!1;let i=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return n.dispatch(i),!1}}}})]}}),enF=eth.create({name:"keymap",addKeyboardShortcuts(){let t=()=>this.editor.commands.first(({commands:t})=>[()=>t.undoInputRule(),()=>t.command(({tr:n})=>{let{selection:r,doc:i}=n,{empty:o,$anchor:a}=r,{pos:u,parent:s}=a,l=Jk.atStart(i).from===u;return!!o&&!!l&&!!s.type.isTextblock&&!s.textContent.length&&t.clearNodes()}),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()]),n=()=>this.editor.commands.first(({commands:t})=>[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:n,"Mod-Delete":n,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":n,"Ctrl-Alt-Backspace":n,"Alt-Delete":n,"Alt-d":n,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return etW()||etJ()?o:i},addProseMirrorPlugins(){return[new J$({key:new JH("clearDocument"),appendTransaction:(t,n,r)=>{if(!(t.some(t=>t.docChanged)&&!n.doc.eq(r.doc)))return;let{empty:i,from:o,to:a}=n.selection,u=Jk.atStart(n.doc).from,s=Jk.atEnd(n.doc).to;if(i||!(o===u&&a===s)||0!==r.doc.textBetween(0,r.doc.content.size," "," ").length)return;let l=r.tr,c=eeQ({state:r,transaction:l}),{commands:d}=new eeX({editor:this.editor,state:c});if(d.clearNodes(),l.steps.length)return l}})]}}),enD=eth.create({name:"tabindex",addProseMirrorPlugins(){return[new J$({key:new JH("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var enW=Object.freeze({__proto__:null,ClipboardTextSerializer:ety,Commands:enN,Editable:enP,FocusEvents:enL,Keymap:enF,Tabindex:enD});let enU=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`,enz=class extends ee0{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(t,n){let r=document.querySelector("style[data-tiptap-style]");if(null!==r)return r;let i=document.createElement("style");return n&&i.setAttribute("nonce",n),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}(enU,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){let r=ee9(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(t){if(this.isDestroyed)return;let n="string"==typeof t?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(t=>!t.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){let t=[...this.options.enableCoreExtensions?Object.values(enW):[],...this.options.extensions].filter(t=>["extension","node","mark"].includes(null==t?void 0:t.type));this.extensionManager=new etd(t,this)}createCommandManager(){this.commandManager=new eeX({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let t=eni(this.options.content,this.schema,this.options.parseOptions),n=etD(t,this.options.autofocus);this.view=new eem(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:JV.create({doc:t,selection:n||void 0})});let r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();let i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;let n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(t=>{var n;return null===(n=this.capturedTransaction)||void 0===n?void 0:n.step(t)});return}let n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});let i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!t.docChanged||t.getMeta("preventUpdate")||this.emit("update",{editor:this,transaction:t})}getAttributes(t){return function(t,n){let r=et4("string"==typeof n?n:n.name,t.schema);return"node"===r?function(t,n){let r=ee4(n,t.schema),{from:i,to:o}=t.selection,a=[];t.doc.nodesBetween(i,o,t=>{a.push(t)});let u=a.reverse().find(t=>t.type.name===r.name);return u?{...u.attrs}:{}}(t,n):"mark"===r?enu(t,n):{}}(this.state,t)}isActive(t,n){return function(t,n,r={}){if(!n)return etX(t,null,r)||enc(t,null,r);let i=et4(n,t.schema);return"node"===i?etX(t,n,r):"mark"===i&&enc(t,n,r)}(this.state,"string"==typeof t?t:null,"string"==typeof t?n:t)}getJSON(){return this.state.doc.toJSON()}getHTML(){return function(t,n){let r=YG.fromSchema(n).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}(this.state.doc.content,this.schema)}getText(t){let{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return function(t,n){let r={from:0,to:t.content.size};return etm(t,r,n)}(this.state.doc,{blockSeparator:n,textSerializers:{...etg(this.schema),...r}})}get isEmpty(){return function(t){var n;let r=null===(n=t.type.createAndFill())||void 0===n?void 0:n.toJSON(),i=t.toJSON();return JSON.stringify(r)===JSON.stringify(i)}(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!(null===(t=this.view)||void 0===t)&&t.docView)}};function enB(t){return new eta({find:t.find,handler({state:n,range:r,match:i}){let o=ee8(t.getAttributes,void 0,i);if(!1===o||null===o)return null;let{tr:a}=n,u=i[i.length-1],s=i[0],l=r.to;if(u){let c=s.search(/\S/),d=r.from+s.indexOf(u),f=d+u.length;if(ens(r.from,r.to,n.doc).filter(n=>n.mark.type.excluded.find(r=>r===t.type&&r!==n.mark.type)).filter(t=>t.to>d).length)return null;f<r.to&&a.delete(f,r.to),d>r.from&&a.delete(r.from+c,d),l=r.from+c+u.length,a.addMark(r.from+c,l,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}function enV(t){return new eta({find:t.find,handler({state:n,range:r,match:i}){let o=n.doc.resolve(r.from),a=ee8(t.getAttributes,void 0,i)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;n.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,a)}})}function en$(t){return new eta({find:t.find,handler({state:n,range:r,match:i,chain:o}){let a=ee8(t.getAttributes,void 0,i)||{},u=n.tr.delete(r.from,r.to),s=u.doc.resolve(r.from).blockRange(),l=s&&Jo(s,t.type,a);if(!l)return null;if(u.wrap(s,l),t.keepMarks&&t.editor){let{selection:c,storedMarks:d}=n,{splittableMarks:f}=t.editor.extensionManager,p=d||c.$to.parentOffset&&c.$from.marks();if(p){let h=p.filter(t=>f.includes(t.type.name));u.ensureMarks(h)}}if(t.keepAttributes){let m="bulletList"===t.type.name||"orderedList"===t.type.name?"listItem":"taskList";o().updateAttributes(m,a).run()}let g=u.doc.resolve(r.from-1).nodeBefore;g&&g.type===t.type&&Js(u.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(i,g))&&u.join(r.from-1)}})}let enq=class t{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ee8(ee1(this,"addOptions",{name:this.name}))),this.storage=ee8(ee1(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(n={}){return new t(n)}configure(t={}){let n=this.extend();return n.options=etp(this.options,t),n.storage=ee8(ee1(n,"addStorage",{name:n.name,options:n.options})),n}extend(n={}){let r=new t(n);return r.parent=this,this.child=r,r.name=n.name?n.name:r.parent.name,n.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=ee8(ee1(r,"addOptions",{name:r.name})),r.storage=ee8(ee1(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:t,mark:n}){let{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){let o=i.marks();if(!o.find(t=>(null==t?void 0:t.type.name)===n.name))return!1;let a=o.find(t=>(null==t?void 0:t.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}};class enK{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ee8(ee1(this,"addOptions",{name:this.name}))),this.storage=ee8(ee1(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new enK(t)}configure(t={}){let n=this.extend();return n.options=etp(this.options,t),n.storage=ee8(ee1(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){let n=new enK(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ee8(ee1(n,"addOptions",{name:n.name})),n.storage=ee8(ee1(n,"addStorage",{name:n.name,options:n.options})),n}}class enH{constructor(t,n,r){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var n,r,i,o,a,u,s;let{view:l}=this.editor,c=t.target,d=3===c.nodeType?null===(n=c.parentElement)||void 0===n?void 0:n.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||!(null===(r=this.contentDOM)||void 0===r)&&r.contains(c)||!d)return;let f=0,p=0;if(this.dom!==d){let h=this.dom.getBoundingClientRect(),m=d.getBoundingClientRect(),g=null!==(i=t.offsetX)&&void 0!==i?i:null===(o=t.nativeEvent)||void 0===o?void 0:o.offsetX,y=null!==(a=t.offsetY)&&void 0!==a?a:null===(u=t.nativeEvent)||void 0===u?void 0:u.offsetY;f=m.x-h.x+g,p=m.y-h.y+y}null===(s=t.dataTransfer)||void 0===s||s.setDragImage(this.dom,f,p);let v=Jj.create(l.state.doc,this.getPos()),b=l.state.tr.setSelection(v);l.dispatch(b)}stopEvent(t){var n;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:t});let r=t.target;if(!(this.dom.contains(r)&&!(!(null===(n=this.contentDOM)||void 0===n)&&n.contains(r))))return!1;let i=t.type.startsWith("drag"),o="drop"===t.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o&&!i)return!0;let{isEditable:a}=this.editor,{isDragging:u}=this,s=!!this.node.type.spec.draggable,l=Jj.isSelectable(this.node),c="copy"===t.type,d="paste"===t.type,f="cut"===t.type,p="mousedown"===t.type;if(!s&&l&&i&&t.preventDefault(),s&&i&&!u)return t.preventDefault(),!1;if(s&&a&&!u&&p){let h=r.closest("[data-drag-handle]");h&&(this.dom===h||this.dom.contains(h))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||o||c||d||f||p&&l)}ignoreMutation(t){return!this.dom||!this.contentDOM||("function"==typeof this.options.ignoreMutation?this.options.ignoreMutation({mutation:t}):!!this.node.isLeaf||!!this.node.isAtom||!("selection"===t.type||this.dom.contains(t.target)&&"childList"===t.type&&etW()&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(t=>t.isContentEditable))&&(this.contentDOM===t.target&&"attributes"===t.type||!this.contentDOM.contains(t.target)))}updateAttributes(t){this.editor.commands.command(({tr:n})=>{let r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0})}deleteNode(){let t=this.getPos(),n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}function enG(t){return new etl({find:t.find,handler({state:n,range:r,match:i}){let o=ee8(t.getAttributes,void 0,i);if(!1===o||null===o)return null;let{tr:a}=n,u=i[i.length-1],s=i[0],l=r.to;if(u){let c=s.search(/\S/),d=r.from+s.indexOf(u),f=d+u.length;if(ens(r.from,r.to,n.doc).filter(n=>n.mark.type.excluded.find(r=>r===t.type&&r!==n.mark.type)).filter(t=>t.to>d).length)return null;f<r.to&&a.delete(f,r.to),d>r.from&&a.delete(r.from+c,d),l=r.from+c+u.length,a.addMark(r.from+c,l,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}var enZ="bottom",enY="right",enJ="left",enQ="auto",enX=["top",enZ,enY,enJ],en0="start",en1="viewport",en2="popper",en3=enX.reduce(function(t,n){return t.concat([n+"-"+en0,n+"-end"])},[]),en4=[].concat(enX,[enQ]).reduce(function(t,n){return t.concat([n,n+"-"+en0,n+"-end"])},[]),en5=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function en6(t){return t?(t.nodeName||"").toLowerCase():null}function en9(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function en8(t){var n=en9(t).Element;return t instanceof n||t instanceof Element}function en7(t){var n=en9(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function ere(t){if(typeof ShadowRoot>"u")return!1;var n=en9(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}let ert={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var n=t.state;Object.keys(n.elements).forEach(function(t){var r=n.styles[t]||{},i=n.attributes[t]||{},o=n.elements[t];en7(o)&&en6(o)&&(Object.assign(o.style,r),Object.keys(i).forEach(function(t){var n=i[t];!1===n?o.removeAttribute(t):o.setAttribute(t,!0===n?"":n)}))})},effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(t){var i=n.elements[t],o=n.attributes[t]||{},a=Object.keys(n.styles.hasOwnProperty(t)?n.styles[t]:r[t]).reduce(function(t,n){return t[n]="",t},{});en7(i)&&en6(i)&&(Object.assign(i.style,a),Object.keys(o).forEach(function(t){i.removeAttribute(t)}))})}},requires:["computeStyles"]};function ern(t){return t.split("-")[0]}var err=Math.max,eri=Math.min,ero=Math.round;function era(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function eru(){return!/^((?!chrome|android).)*safari/i.test(era())}function ers(t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var i=t.getBoundingClientRect(),o=1,a=1;n&&en7(t)&&(o=t.offsetWidth>0&&ero(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&ero(i.height)/t.offsetHeight||1);var u=(en8(t)?en9(t):window).visualViewport,s=!eru()&&r,l=(i.left+(s&&u?u.offsetLeft:0))/o,c=(i.top+(s&&u?u.offsetTop:0))/a,d=i.width/o,f=i.height/a;return{width:d,height:f,top:c,right:l+d,bottom:c+f,left:l,x:l,y:c}}function erl(t){var n=ers(t),r=t.offsetWidth,i=t.offsetHeight;return 1>=Math.abs(n.width-r)&&(r=n.width),1>=Math.abs(n.height-i)&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function erc(t,n){var r=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(r&&ere(r)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function erd(t){return en9(t).getComputedStyle(t)}function erf(t){return["table","td","th"].indexOf(en6(t))>=0}function erp(t){return((en8(t)?t.ownerDocument:t.document)||window.document).documentElement}function erh(t){return"html"===en6(t)?t:t.assignedSlot||t.parentNode||(ere(t)?t.host:null)||erp(t)}function erm(t){return en7(t)&&"fixed"!==erd(t).position?t.offsetParent:null}function erg(t){for(var n=en9(t),r=erm(t);r&&erf(r)&&"static"===erd(r).position;)r=erm(r);return r&&("html"===en6(r)||"body"===en6(r)&&"static"===erd(r).position)?n:r||function(t){var n=/firefox/i.test(era());if(/Trident/i.test(era())&&en7(t)&&"fixed"===erd(t).position)return null;var r=erh(t);for(ere(r)&&(r=r.host);en7(r)&&0>["html","body"].indexOf(en6(r));){var i=erd(r);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||n&&"filter"===i.willChange||n&&i.filter&&"none"!==i.filter)return r;r=r.parentNode}return null}(t)||n}function ery(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function erv(t,n,r){return err(t,eri(n,r))}function erb(){return{top:0,right:0,bottom:0,left:0}}function erx(t){return Object.assign({},erb(),t)}function er_(t,n){return n.reduce(function(n,r){return n[r]=t,n},{})}function erS(t){return t.split("-")[1]}var erT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function erw(t){var n,r,i=t.popper,o=t.popperRect,a=t.placement,u=t.variation,s=t.offsets,l=t.position,c=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,p=t.isFixed,h=s.x,m=void 0===h?0:h,g=s.y,y=void 0===g?0:g,v="function"==typeof f?f({x:m,y:y}):{x:m,y:y};m=v.x,y=v.y;var b=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),_=enJ,S="top",T=window;if(d){var w=erg(i),O="clientHeight",k="clientWidth";w===en9(i)&&(w=erp(i),"static"!==erd(w).position&&"absolute"===l&&(O="scrollHeight",k="scrollWidth")),("top"===a||(a===enJ||a===enY)&&"end"===u)&&(S=enZ,y-=(p&&w===T&&T.visualViewport?T.visualViewport.height:w[O])-o.height,y*=c?1:-1),(a===enJ||("top"===a||a===enZ)&&"end"===u)&&(_=enY,m-=(p&&w===T&&T.visualViewport?T.visualViewport.width:w[k])-o.width,m*=c?1:-1)}var C,I,M,R,E,j=Object.assign({position:l},d&&erT),A=!0===f?(C={x:m,y:y},I=en9(i),M=C.x,R=C.y,{x:ero(M*(E=I.devicePixelRatio||1))/E||0,y:ero(R*E)/E||0}):{x:m,y:y};return(m=A.x,y=A.y,c)?Object.assign({},j,((n={})[S]=x?"0":"",n[_]=b?"0":"",n.transform=1>=(T.devicePixelRatio||1)?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",n)):Object.assign({},j,((r={})[S]=x?y+"px":"",r[_]=b?m+"px":"",r.transform="",r))}var erO={passive:!0},erk={left:"right",right:"left",bottom:"top",top:"bottom"};function erC(t){return t.replace(/left|right|bottom|top/g,function(t){return erk[t]})}var erI={start:"end",end:"start"};function erM(t){return t.replace(/start|end/g,function(t){return erI[t]})}function erR(t){var n,r=en9(t);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function erE(t){return ers(erp(t)).left+erR(t).scrollLeft}function erj(t){var n=erd(t),r=n.overflow,i=n.overflowX,o=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+i)}function erA(t,n){void 0===n&&(n=[]);var r,i=function t(n){return["html","body","#document"].indexOf(en6(n))>=0?n.ownerDocument.body:en7(n)&&erj(n)?n:t(erh(n))}(t),o=i===(null==(r=t.ownerDocument)?void 0:r.body),a=en9(i),u=o?[a].concat(a.visualViewport||[],erj(i)?i:[]):i,s=n.concat(u);return o?s:s.concat(erA(erh(u)))}function erN(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function erP(t,n,r){var i,o,a,u,s,l,c,d,f,p,h,m;return n===en1?erN(function(t,n){var r=en9(t),i=erp(t),o=r.visualViewport,a=i.clientWidth,u=i.clientHeight,s=0,l=0;if(o){a=o.width,u=o.height;var c=eru();(c||!c&&"fixed"===n)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:a,height:u,x:s+erE(t),y:l}}(t,r)):en8(n)?((a=ers(n,!1,"fixed"===r)).top=a.top+n.clientTop,a.left=a.left+n.clientLeft,a.bottom=a.top+n.clientHeight,a.right=a.left+n.clientWidth,a.width=n.clientWidth,a.height=n.clientHeight,a.x=a.left,a.y=a.top,a):erN((u=erp(t),l=erp(u),c=erR(u),d=null==(s=u.ownerDocument)?void 0:s.body,f=err(l.scrollWidth,l.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),p=err(l.scrollHeight,l.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),h=-c.scrollLeft+erE(u),m=-c.scrollTop,"rtl"===erd(d||l).direction&&(h+=err(l.clientWidth,d?d.clientWidth:0)-f),{width:f,height:p,x:h,y:m}))}function erL(t){var n,r=t.reference,i=t.element,o=t.placement,a=o?ern(o):null,u=o?erS(o):null,s=r.x+r.width/2-i.width/2,l=r.y+r.height/2-i.height/2;switch(a){case"top":n={x:s,y:r.y-i.height};break;case enZ:n={x:s,y:r.y+r.height};break;case enY:n={x:r.x+r.width,y:l};break;case enJ:n={x:r.x-i.width,y:l};break;default:n={x:r.x,y:r.y}}var c=a?ery(a):null;if(null!=c){var d="y"===c?"height":"width";switch(u){case en0:n[c]=n[c]-(r[d]/2-i[d]/2);break;case"end":n[c]=n[c]+(r[d]/2-i[d]/2)}}return n}function erF(t,n){void 0===n&&(n={});var r,i,o,a,u,s,l,c,d,f,p=n,h=p.placement,m=void 0===h?t.placement:h,g=p.strategy,y=void 0===g?t.strategy:g,v=p.boundary,b=p.rootBoundary,x=p.elementContext,_=void 0===x?en2:x,S=p.altBoundary,T=p.padding,w=void 0===T?0:T,O=erx("number"!=typeof w?w:er_(w,enX)),k=t.rects.popper,C=t.elements[void 0!==S&&S?_===en2?"reference":en2:_],I=(r=en8(C)?C:C.contextElement||erp(t.elements.popper),d=(c=[].concat("clippingParents"===(i=void 0===v?"clippingParents":v)?(s=erA(erh(r)),l=["absolute","fixed"].indexOf(erd(r).position)>=0&&en7(r)?erg(r):r,en8(l)?s.filter(function(t){return en8(t)&&erc(t,l)&&"body"!==en6(t)}):[]):[].concat(i),[void 0===b?en1:b]))[0],(f=c.reduce(function(t,n){var i=erP(r,n,y);return t.top=err(i.top,t.top),t.right=eri(i.right,t.right),t.bottom=eri(i.bottom,t.bottom),t.left=err(i.left,t.left),t},erP(r,d,y))).width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f),M=ers(t.elements.reference),R=erL({reference:M,element:k,strategy:"absolute",placement:m}),E=erN(Object.assign({},k,R)),j=_===en2?E:M,A={top:I.top-j.top+O.top,bottom:j.bottom-I.bottom+O.bottom,left:I.left-j.left+O.left,right:j.right-I.right+O.right},N=t.modifiersData.offset;if(_===en2&&N){var P=N[m];Object.keys(A).forEach(function(t){var n=[enY,enZ].indexOf(t)>=0?1:-1,r=["top",enZ].indexOf(t)>=0?"y":"x";A[t]+=P[r]*n})}return A}function erD(t,n,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-n.height-r.y,right:t.right-n.width+r.x,bottom:t.bottom-n.height+r.y,left:t.left-n.width-r.x}}function erW(t){return["top",enY,enZ,enJ].some(function(n){return t[n]>=0})}var erU={placement:"bottom",modifiers:[],strategy:"absolute"};function erz(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}var erB,erV,er$,erq,erK,erH,erG=(erB={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var n=t.state,r=t.instance,i=t.options,o=i.scroll,a=void 0===o||o,u=i.resize,s=void 0===u||u,l=en9(n.elements.popper),c=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&c.forEach(function(t){t.addEventListener("scroll",r.update,erO)}),s&&l.addEventListener("resize",r.update,erO),function(){a&&c.forEach(function(t){t.removeEventListener("scroll",r.update,erO)}),s&&l.removeEventListener("resize",r.update,erO)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var n=t.state,r=t.name;n.modifiersData[r]=erL({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var n=t.state,r=t.options,i=r.gpuAcceleration,o=r.adaptive,a=r.roundOffsets,u=void 0===a||a,s={placement:ern(n.placement),variation:erS(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:void 0===i||i,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,erw(Object.assign({},s,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:void 0===o||o,roundOffsets:u})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,erw(Object.assign({},s,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},ert,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var n=t.state,r=t.options,i=t.name,o=r.offset,a=void 0===o?[0,0]:o,u=en4.reduce(function(t,r){var i,o,u,s,l,c,d,f;return t[r]=(o=n.rects,l=[enJ,"top"].indexOf(s=ern(r))>=0?-1:1,d=(c="function"==typeof a?a(Object.assign({},o,{placement:r})):a)[0],f=c[1],d=d||0,f=(f||0)*l,[enJ,enY].indexOf(s)>=0?{x:f,y:d}:{x:d,y:f}),t},{}),s=u[n.placement],l=s.x,c=s.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=l,n.modifiersData.popperOffsets.y+=c),n.modifiersData[i]=u}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var n=t.state,r=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var o=r.mainAxis,a=void 0===o||o,u=r.altAxis,s=void 0===u||u,l=r.fallbackPlacements,c=r.padding,d=r.boundary,f=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,m=void 0===h||h,g=r.allowedAutoPlacements,y=n.options.placement,v=ern(y),b=l||(v!==y&&m?function(t){if(ern(t)===enQ)return[];var n=erC(t);return[erM(t),n,erM(n)]}(y):[erC(y)]),x=[y].concat(b).reduce(function(t,r){var i,o,a,u,s,l,p,h,y,v,b,x,_,S;return t.concat(ern(r)===enQ?(o={placement:r,boundary:d,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:g},u=(a=o).placement,s=a.boundary,l=a.rootBoundary,p=a.padding,h=a.flipVariations,v=void 0===(y=a.allowedAutoPlacements)?en4:y,0===(_=(x=(b=erS(u))?h?en3:en3.filter(function(t){return erS(t)===b}):enX).filter(function(t){return v.indexOf(t)>=0})).length&&(_=x),Object.keys(S=_.reduce(function(t,r){return t[r]=erF(n,{placement:r,boundary:s,rootBoundary:l,padding:p})[ern(r)],t},{})).sort(function(t,n){return S[t]-S[n]})):r)},[]),_=n.rects.reference,S=n.rects.popper,T=new Map,w=!0,O=x[0],k=0;k<x.length;k++){var C=x[k],I=ern(C),M=erS(C)===en0,R=["top",enZ].indexOf(I)>=0,E=R?"width":"height",j=erF(n,{placement:C,boundary:d,rootBoundary:f,altBoundary:p,padding:c}),A=R?M?enY:enJ:M?enZ:"top";_[E]>S[E]&&(A=erC(A));var N=erC(A),P=[];if(a&&P.push(j[I]<=0),s&&P.push(j[A]<=0,j[N]<=0),P.every(function(t){return t})){O=C,w=!1;break}T.set(C,P)}if(w)for(var L=m?3:1,F=function(t){var n=x.find(function(n){var r=T.get(n);if(r)return r.slice(0,t).every(function(t){return t})});if(n)return O=n,"break"},D=L;D>0&&"break"!==F(D);D--);n.placement!==O&&(n.modifiersData[i]._skip=!0,n.placement=O,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var n,r=t.state,i=t.options,o=t.name,a=i.mainAxis,u=i.altAxis,s=i.boundary,l=i.rootBoundary,c=i.altBoundary,d=i.padding,f=i.tether,p=void 0===f||f,h=i.tetherOffset,m=void 0===h?0:h,g=erF(r,{boundary:s,rootBoundary:l,padding:d,altBoundary:c}),y=ern(r.placement),v=erS(r.placement),b=!v,x=ery(y),_="x"===x?"y":"x",S=r.modifiersData.popperOffsets,T=r.rects.reference,w=r.rects.popper,O="function"==typeof m?m(Object.assign({},r.rects,{placement:r.placement})):m,k="number"==typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),C=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,I={x:0,y:0};if(S){if(void 0===a||a){var M,R="y"===x?"top":enJ,E="y"===x?enZ:enY,j="y"===x?"height":"width",A=S[x],N=A+g[R],P=A-g[E],L=p?-w[j]/2:0,F=v===en0?T[j]:w[j],D=v===en0?-w[j]:-T[j],W=r.elements.arrow,U=p&&W?erl(W):{width:0,height:0},z=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:erb(),B=z[R],V=z[E],$=erv(0,T[j],U[j]),q=b?T[j]/2-L-$-B-k.mainAxis:F-$-B-k.mainAxis,K=b?-T[j]/2+L+$+V+k.mainAxis:D+$+V+k.mainAxis,H=r.elements.arrow&&erg(r.elements.arrow),G=H?"y"===x?H.clientTop||0:H.clientLeft||0:0,Z=null!=(M=null==C?void 0:C[x])?M:0,Y=erv(p?eri(N,A+q-Z-G):N,A,p?err(P,A+K-Z):P);S[x]=Y,I[x]=Y-A}if(void 0!==u&&u){var J,Q,X,ee,et,en=S[_],er="y"===_?"height":"width",ei=en+g["x"===x?"top":enJ],eo=en-g["x"===x?enZ:enY],ea=-1!==["top",enJ].indexOf(y),eu=null!=(et=null==C?void 0:C[_])?et:0,es=ea?ei:en-T[er]-w[er]-eu+k.altAxis,el=ea?en+T[er]+w[er]-eu-k.altAxis:eo,ec=p&&ea?(ee=erv(es,en,el))>el?el:ee:erv(p?es:ei,en,p?el:eo);S[_]=ec,I[_]=ec-en}r.modifiersData[o]=I}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var n,r=t.state,i=t.name,o=t.options,a=r.elements.arrow,u=r.modifiersData.popperOffsets,s=ern(r.placement),l=ery(s),c=[enJ,enY].indexOf(s)>=0?"height":"width";if(!(!a||!u)){var d,f,p=erx("number"!=typeof(d="function"==typeof(d=o.padding)?d(Object.assign({},r.rects,{placement:r.placement})):d)?d:er_(d,enX)),h=erl(a),m=r.rects.reference[c]+r.rects.reference[l]-u[l]-r.rects.popper[c],g=u[l]-r.rects.reference[l],y=erg(a),v=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,b=p["y"===l?"top":enJ],x=v-h[c]-p["y"===l?enZ:enY],_=v/2-h[c]/2+(m/2-g/2),S=erv(b,_,x);r.modifiersData[i]=((n={})[l]=S,n.centerOffset=S-_,n)}},effect:function(t){var n=t.state,r=t.options.element,i=void 0===r?"[data-popper-arrow]":r;null==i||("string"!=typeof i||(i=n.elements.popper.querySelector(i)))&&erc(n.elements.popper,i)&&(n.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var n=t.state,r=t.name,i=n.rects.reference,o=n.rects.popper,a=n.modifiersData.preventOverflow,u=erF(n,{elementContext:"reference"}),s=erF(n,{altBoundary:!0}),l=erD(u,i),c=erD(s,o,a),d=erW(l),f=erW(c);n.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}}]},erq=void 0===(er$=(erV=erB).defaultModifiers)?[]:er$,erH=void 0===(erK=erV.defaultOptions)?erU:erK,function(t,n,r){void 0===r&&(r=erH);var i,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},erU,erH),modifiersData:{},elements:{reference:t,popper:n},attributes:{},styles:{}},u=[],s=!1,l={state:a,setOptions:function(r){var i,o,s,d,f,p,h,m,g="function"==typeof r?r(a.options):r;c(),a.options=Object.assign({},erH,a.options,g),a.scrollParents={reference:en8(t)?erA(t):t.contextElement?erA(t.contextElement):[],popper:erA(n)};var y=(s=Object.keys(o=(i=[].concat(erq,a.options.modifiers)).reduce(function(t,n){var r=t[n.name];return t[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,t},{})).map(function(t){return o[t]}),f=new Map,p=new Set,h=[],s.forEach(function(t){f.set(t.name,t)}),s.forEach(function(t){p.has(t.name)||function t(n){p.add(n.name),[].concat(n.requires||[],n.requiresIfExists||[]).forEach(function(n){if(!p.has(n)){var r=f.get(n);r&&t(r)}}),h.push(n)}(t)}),en5.reduce(function(t,n){return t.concat(h.filter(function(t){return t.phase===n}))},[]));return a.orderedModifiers=y.filter(function(t){return t.enabled}),a.orderedModifiers.forEach(function(t){var n=t.name,r=t.options,i=t.effect;if("function"==typeof i){var o=i({state:a,name:n,instance:l,options:void 0===r?{}:r}),s=function(){};u.push(o||s)}}),l.update()},forceUpdate:function(){if(!s){var t,n,r,i,o,u,c,d,f,p,h,m,g,y,v,b=a.elements,x=b.reference,_=b.popper;if(erz(x,_)){a.rects={reference:(t=x,n=erg(_),r="fixed"===a.options.strategy,d=en7(n),f=en7(n)&&(u=ero((o=(i=n).getBoundingClientRect()).width)/i.offsetWidth||1,c=ero(o.height)/i.offsetHeight||1,1!==u||1!==c),p=erp(n),h=ers(t,f,r),m={scrollLeft:0,scrollTop:0},g={x:0,y:0},(d||!d&&!r)&&(("body"!==en6(n)||erj(p))&&(m=(y=n)!==en9(y)&&en7(y)?{scrollLeft:(v=y).scrollLeft,scrollTop:v.scrollTop}:erR(y)),en7(n)?(g=ers(n,!0),g.x+=n.clientLeft,g.y+=n.clientTop):p&&(g.x=erE(p))),{x:h.left+m.scrollLeft-g.x,y:h.top+m.scrollTop-g.y,width:h.width,height:h.height}),popper:erl(_)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(t){return a.modifiersData[t.name]=Object.assign({},t.data)});for(var S=0;S<a.orderedModifiers.length;S++){if(!0===a.reset){a.reset=!1,S=-1;continue}var T=a.orderedModifiers[S],w=T.fn,O=T.options,k=void 0===O?{}:O,C=T.name;"function"==typeof w&&(a=w({state:a,options:k,name:C,instance:l})||a)}}}},update:function(){return o||(o=new Promise(function(t){Promise.resolve().then(function(){o=void 0,t(new Promise(function(t){l.forceUpdate(),t(a)}))})})),o},destroy:function(){c(),s=!0}};if(!erz(t,n))return l;function c(){u.forEach(function(t){return t()}),u=[]}return l.setOptions(r).then(function(t){!s&&r.onFirstUpdate&&r.onFirstUpdate(t)}),l}),erZ="tippy-content",erY="tippy-arrow",erJ="tippy-svg-arrow",erQ={passive:!0,capture:!0},erX=function(){return document.body};function er0(t,n,r){return Array.isArray(t)?t[n]??(Array.isArray(r)?r[n]:r):t}function er1(t,n){var r=({}).toString.call(t);return 0===r.indexOf("[object")&&r.indexOf(n+"]")>-1}function er2(t,n){return"function"==typeof t?t.apply(void 0,n):t}function er3(t,n){var r;return 0===n?t:function(i){clearTimeout(r),r=setTimeout(function(){t(i)},n)}}function er4(t){return[].concat(t)}function er5(t,n){-1===t.indexOf(n)&&t.push(n)}function er6(t){return[].slice.call(t)}function er9(t){return Object.keys(t).reduce(function(n,r){return void 0!==t[r]&&(n[r]=t[r]),n},{})}function er8(){return document.createElement("div")}function er7(t){return["Element","Fragment"].some(function(n){return er1(t,n)})}function eie(t,n){t.forEach(function(t){t&&(t.style.transitionDuration=n+"ms")})}function eit(t,n){t.forEach(function(t){t&&t.setAttribute("data-state",n)})}function ein(t,n,r){var i=n+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){t[i](n,r)})}function eir(t,n){for(var r,i=n;i;){if(t.contains(i))return!0;i=null==i.getRootNode||null==(r=i.getRootNode())?void 0:r.host}return!1}var eii={isTouch:!1},eio=0;function eia(){eii.isTouch||(eii.isTouch=!0,window.performance&&document.addEventListener("mousemove",eiu))}function eiu(){var t=performance.now();t-eio<20&&(eii.isTouch=!1,document.removeEventListener("mousemove",eiu)),eio=t}function eis(){var t,n=document.activeElement;if(n&&n._tippy&&n._tippy.reference===n){var r=n._tippy;n.blur&&!r.state.isVisible&&n.blur()}}var eil=!!("u">typeof window&&"u">typeof document)&&!!window.msCrypto,eic=Object.assign({appendTo:erX,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),eid=Object.keys(eic),eif=function(t){Object.keys(t).forEach(function(n){eic[n]=t[n]})};function eip(t){var n=(t.plugins||[]).reduce(function(n,r){var i,o=r.name,a=r.defaultValue;return o&&(n[o]=void 0!==t[o]?t[o]:null!=(i=eic[o])?i:a),n},{});return Object.assign({},t,n)}function eih(t,n){var r,i,o=Object.assign({},n,{content:er2(n.content,[t])},n.ignoreAttributes?{}:((i=n.plugins)?Object.keys(eip(Object.assign({},eic,{plugins:i}))):eid).reduce(function(n,r){var i=(t.getAttribute("data-tippy-"+r)||"").trim();if(!i)return n;if("content"===r)n[r]=i;else try{n[r]=JSON.parse(i)}catch{n[r]=i}return n},{}));return o.aria=Object.assign({},eic.aria,o.aria),o.aria={expanded:"auto"===o.aria.expanded?n.interactive:o.aria.expanded,content:"auto"===o.aria.content?n.interactive?null:"describedby":o.aria.content},o}var eim=function(){return"innerHTML"};function eig(t,n){t[eim()]=n}function eiy(t){var n=er8();return!0===t?n.className=erY:(n.className=erJ,er7(t)?n.appendChild(t):eig(n,t)),n}function eiv(t,n){er7(n.content)?(eig(t,""),t.appendChild(n.content)):"function"!=typeof n.content&&(n.allowHTML?eig(t,n.content):t.textContent=n.content)}function eib(t){var n=t.firstElementChild,r=er6(n.children);return{box:n,content:r.find(function(t){return t.classList.contains(erZ)}),arrow:r.find(function(t){return t.classList.contains(erY)||t.classList.contains(erJ)}),backdrop:r.find(function(t){return t.classList.contains("tippy-backdrop")})}}function eix(t){var n=er8(),r=er8();r.className="tippy-box",r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=er8();function o(r,i){var o=eib(n),a=o.box,u=o.content,s=o.arrow;i.theme?a.setAttribute("data-theme",i.theme):a.removeAttribute("data-theme"),"string"==typeof i.animation?a.setAttribute("data-animation",i.animation):a.removeAttribute("data-animation"),i.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?a.setAttribute("role",i.role):a.removeAttribute("role"),(r.content!==i.content||r.allowHTML!==i.allowHTML)&&eiv(u,t.props),i.arrow?s?r.arrow!==i.arrow&&(a.removeChild(s),a.appendChild(eiy(i.arrow))):a.appendChild(eiy(i.arrow)):s&&a.removeChild(s)}return i.className=erZ,i.setAttribute("data-state","hidden"),eiv(i,t.props),n.appendChild(r),r.appendChild(i),o(t.props,t.props),{popper:n,onUpdate:o}}eix.$$tippy=!0;var ei_=1,eiS=[],eiT=[];function eiw(t,n){void 0===n&&(n={});var r,i,o=eic.plugins.concat(n.plugins||[]);document.addEventListener("touchstart",eia,erQ),window.addEventListener("blur",eis);var a,u=Object.assign({},n,{plugins:o}),s=(er7(t)?[t]:er1(t,"NodeList")?er6(t):Array.isArray(t)?t:er6(document.querySelectorAll(t))).reduce(function(t,n){var r=n&&function(t,n){var r,i,o,a,u,s,l,c,d=eih(t,Object.assign({},eic,eip(er9(n)))),f=!1,p=!1,h=!1,m=!1,g=[],y=er3(G,d.interactiveDebounce),v=ei_++,b=(r=d.plugins).filter(function(t,n){return r.indexOf(t)===n}),x={id:v,reference:t,popper:er8(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(a)},setProps:function(n){if(!x.state.isDestroyed){N("onBeforeUpdate",[x,n]),K();var r=x.props,i=eih(t,Object.assign({},r,er9(n),{ignoreAttributes:!0}));x.props=i,q(),r.interactiveDebounce!==i.interactiveDebounce&&(F(),y=er3(G,i.interactiveDebounce)),r.triggerTarget&&!i.triggerTarget?er4(r.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):i.triggerTarget&&t.removeAttribute("aria-expanded"),L(),A(),T&&T(r,i),x.popperInstance&&(Q(),ee().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[x,n])}},setContent:function(t){x.setProps({content:t})},show:function(){var t=x.state.isVisible,n=x.state.isDestroyed,r=!x.state.isEnabled,i=eii.isTouch&&!x.props.touch,o=er0(x.props.duration,0,eic.duration);if(!(t||n||r||i)&&!M().hasAttribute("disabled")&&(N("onShow",[x],!1),!1!==x.props.onShow(x))){if(x.state.isVisible=!0,I()&&(S.style.visibility="visible"),A(),z(),x.state.isMounted||(S.style.transition="none"),I()){var a,u,s,c,d=E();eie([d.box,d.content],0)}l=function(){var t;if(!(!x.state.isVisible||m)){if(m=!0,S.offsetHeight,S.style.transition=x.props.moveTransition,I()&&x.props.animation){var n,r,i=E(),a=i.box,u=i.content;eie([a,u],o),eit([a,u],"visible")}P(),L(),er5(eiT,x),null==(t=x.popperInstance)||t.forceUpdate(),N("onMount",[x]),x.props.animation&&I()&&V(o,r=function(){x.state.isShown=!0,N("onShown",[x])})}},u=x.props.appendTo,s=M(),(a=x.props.interactive&&u===erX||"parent"===u?s.parentNode:er2(u,[s])).contains(S)||a.appendChild(S),x.state.isMounted=!0,Q()}},hide:function(){var t=!x.state.isVisible,n=x.state.isDestroyed,r=!x.state.isEnabled,i=er0(x.props.duration,1,eic.duration);if(!(t||n||r)&&(N("onHide",[x],!1),!1!==x.props.onHide(x))){if(x.state.isVisible=!1,x.state.isShown=!1,m=!1,f=!1,I()&&(S.style.visibility="hidden"),F(),B(),A(!0),I()){var o,a,u=E(),s=u.box,l=u.content;x.props.animation&&(eie([s,l],i),eit([s,l],"hidden"))}P(),L(),x.props.animation?I()&&(a=x.unmount,V(i,function(){!x.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&a()})):x.unmount()}},hideWithInteractivity:function(t){R().addEventListener("mousemove",y),er5(eiS,y),y(t)},enable:function(){x.state.isEnabled=!0},disable:function(){x.hide(),x.state.isEnabled=!1},unmount:function(){x.state.isVisible&&x.hide(),x.state.isMounted&&(X(),ee().forEach(function(t){t._tippy.unmount()}),S.parentNode&&S.parentNode.removeChild(S),eiT=eiT.filter(function(t){return t!==x}),x.state.isMounted=!1,N("onHidden",[x]))},destroy:function(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),K(),delete t._tippy,x.state.isDestroyed=!0,N("onDestroy",[x]))}};if(!d.render)return x;var _=d.render(x),S=_.popper,T=_.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+x.id,x.popper=S,t._tippy=x,S._tippy=x;var w=b.map(function(t){return t.fn(x)}),O=t.hasAttribute("aria-expanded");return q(),L(),A(),N("onCreate",[x]),d.showOnCreate&&et(),S.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),S.addEventListener("mouseleave",function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&R().addEventListener("mousemove",y)}),x;function k(){var t=x.props.touch;return Array.isArray(t)?t:[t,0]}function C(){return"hold"===k()[0]}function I(){var t;return!!(null!=(t=x.props.render)&&t.$$tippy)}function M(){return c||t}function R(){var t,n,r,i=M().parentNode;return i&&null!=(r=er4(i)[0])&&null!=(n=r.ownerDocument)&&n.body?r.ownerDocument:document}function E(){return eib(S)}function j(t){return x.state.isMounted&&!x.state.isVisible||eii.isTouch||u&&"focus"===u.type?0:er0(x.props.delay,t?0:1,eic.delay)}function A(t){void 0===t&&(t=!1),S.style.pointerEvents=x.props.interactive&&!t?"":"none",S.style.zIndex=""+x.props.zIndex}function N(t,n,r){if(void 0===r&&(r=!0),w.forEach(function(r){r[t]&&r[t].apply(r,n)}),r){var i;(i=x.props)[t].apply(i,n)}}function P(){var n=x.props.aria;if(n.content){var r="aria-"+n.content,i=S.id;er4(x.props.triggerTarget||t).forEach(function(t){var n=t.getAttribute(r);if(x.state.isVisible)t.setAttribute(r,n?n+" "+i:i);else{var o=n&&n.replace(i,"").trim();o?t.setAttribute(r,o):t.removeAttribute(r)}})}}function L(){!(O||!x.props.aria.expanded)&&er4(x.props.triggerTarget||t).forEach(function(t){x.props.interactive?t.setAttribute("aria-expanded",x.state.isVisible&&t===M()?"true":"false"):t.removeAttribute("aria-expanded")})}function F(){R().removeEventListener("mousemove",y),eiS=eiS.filter(function(t){return t!==y})}function D(n){if(!(eii.isTouch&&(h||"mousedown"===n.type))){var r=n.composedPath&&n.composedPath()[0]||n.target;if(!(x.props.interactive&&eir(S,r))){if(er4(x.props.triggerTarget||t).some(function(t){return eir(t,r)})){if(eii.isTouch||x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[x,n]);!0===x.props.hideOnClick&&(x.clearDelayTimeouts(),x.hide(),p=!0,setTimeout(function(){p=!1}),x.state.isMounted||B())}}}function W(){h=!0}function U(){h=!1}function z(){var t=R();t.addEventListener("mousedown",D,!0),t.addEventListener("touchend",D,erQ),t.addEventListener("touchstart",U,erQ),t.addEventListener("touchmove",W,erQ)}function B(){var t=R();t.removeEventListener("mousedown",D,!0),t.removeEventListener("touchend",D,erQ),t.removeEventListener("touchstart",U,erQ),t.removeEventListener("touchmove",W,erQ)}function V(t,n){var r=E().box;function i(t){t.target===r&&(ein(r,"remove",i),n())}if(0===t)return n();ein(r,"remove",s),ein(r,"add",i),s=i}function $(n,r,i){void 0===i&&(i=!1),er4(x.props.triggerTarget||t).forEach(function(t){t.addEventListener(n,r,i),g.push({node:t,eventType:n,handler:r,options:i})})}function q(){var t;C()&&($("touchstart",H,{passive:!0}),$("touchend",Z,{passive:!0})),(t=x.props.trigger).split(/\s+/).filter(Boolean).forEach(function(t){if("manual"!==t)switch($(t,H),t){case"mouseenter":$("mouseleave",Z);break;case"focus":$(eil?"focusout":"blur",Y);break;case"focusin":$("focusout",Y)}})}function K(){g.forEach(function(t){var n=t.node,r=t.eventType,i=t.handler,o=t.options;n.removeEventListener(r,i,o)}),g=[]}function H(t){var n,r=!1;if(!(!x.state.isEnabled||J(t)||p)){var i,o=(null==(n=u)?void 0:n.type)==="focus";u=t,c=t.currentTarget,L(),!x.state.isVisible&&er1(t,"MouseEvent")&&eiS.forEach(function(n){return n(t)}),"click"===t.type&&(0>x.props.trigger.indexOf("mouseenter")||f)&&!1!==x.props.hideOnClick&&x.state.isVisible?r=!0:et(t),"click"===t.type&&(f=!r),r&&!o&&en(t)}}function G(t){var n,r,i,o,a=t.target,u=M().contains(a)||S.contains(a);!("mousemove"===t.type&&u)&&(n=ee().concat(S).map(function(t){var n,r=null==(n=t._tippy.popperInstance)?void 0:n.state;return r?{popperRect:t.getBoundingClientRect(),popperState:r,props:d}:null}).filter(Boolean),i=(r=t).clientX,o=r.clientY,n.every(function(t){var n,r=t.popperRect,a=t.popperState,u=t.props.interactiveBorder,s=(n=a.placement).split("-")[0],l=a.modifiersData.offset;if(!l)return!0;var c="bottom"===s?l.top.y:0,d="top"===s?l.bottom.y:0,f="right"===s?l.left.x:0,p="left"===s?l.right.x:0,h=r.top-o+c>u,m=o-r.bottom-d>u,g=r.left-i+f>u,y=i-r.right-p>u;return h||m||g||y})&&(F(),en(t)))}function Z(t){if(!(J(t)||x.props.trigger.indexOf("click")>=0&&f)){if(x.props.interactive){x.hideWithInteractivity(t);return}en(t)}}function Y(t){0>x.props.trigger.indexOf("focusin")&&t.target!==M()||x.props.interactive&&t.relatedTarget&&S.contains(t.relatedTarget)||en(t)}function J(t){return!!eii.isTouch&&C()!==t.type.indexOf("touch")>=0}function Q(){X();var n=x.props,r=n.popperOptions,i=n.placement,o=n.offset,a=n.getReferenceClientRect,u=n.moveTransition,s=I()?eib(S).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||M()}:t,d=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!u}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var n=t.state;if(I()){var r=E().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?r.setAttribute("data-placement",n.placement):n.attributes.popper["data-popper-"+t]?r.setAttribute("data-"+t,""):r.removeAttribute("data-"+t)}),n.attributes.popper={}}}}];I()&&s&&d.push({name:"arrow",options:{element:s,padding:3}}),d.push.apply(d,(null==r?void 0:r.modifiers)||[]),x.popperInstance=erG(c,S,Object.assign({},r,{placement:i,onFirstUpdate:l,modifiers:d}))}function X(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function ee(){return er6(S.querySelectorAll("[data-tippy-root]"))}function et(t){x.clearDelayTimeouts(),t&&N("onTrigger",[x,t]),z();var n=j(!0),r=k(),o=r[0],a=r[1];eii.isTouch&&"hold"===o&&a&&(n=a),n?i=setTimeout(function(){x.show()},n):x.show()}function en(t){if(x.clearDelayTimeouts(),N("onUntrigger",[x,t]),!x.state.isVisible){B();return}if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&f)){var n=j(!1);n?o=setTimeout(function(){x.state.isVisible&&x.hide()},n):a=requestAnimationFrame(function(){x.hide()})}}}(n,u);return r&&t.push(r),t},[]);return er7(t)?s[0]:s}eiw.defaultProps=eic,eiw.setDefaultProps=eif,eiw.currentInput=eii,Object.assign({},ert,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}}),eiw.setDefaultProps({render:eix});class eiO{constructor({editor:t,element:n,view:r,tippyOptions:i={},updateDelay:o=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:t,state:n,from:r,to:i})=>{let{doc:o,selection:a}=n,{empty:u}=a,s=!o.textBetween(r,i).length&&etL(n.selection),l=this.element.contains(document.activeElement);return!(!(t.hasFocus()||l)||u||s||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:t})=>{var n;if(this.preventHide){this.preventHide=!1;return}null!=t&&t.relatedTarget&&!(null===(n=this.element.parentNode)||void 0===n)&&n.contains(t.relatedTarget)||this.hide()},this.tippyBlurHandler=t=>{this.blurHandler({event:t})},this.handleDebouncedUpdate=(t,n)=>{let r=!(null!=n&&n.selection.eq(t.state.selection)),i=!(null!=n&&n.doc.eq(t.state.doc));(r||i)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(t,r,i,n)},this.updateDelay))},this.updateHandler=(t,n,r,i)=>{var o,a,u;let{state:s,composing:l}=t,{selection:c}=s;if(l||!n&&!r)return;this.createTooltip();let{ranges:d}=c,f=Math.min(...d.map(t=>t.$from.pos)),p=Math.max(...d.map(t=>t.$to.pos));if(!(null===(o=this.shouldShow)||void 0===o?void 0:o.call(this,{editor:this.editor,view:t,state:s,oldState:i,from:f,to:p}))){this.hide();return}null===(a=this.tippy)||void 0===a||a.setProps({getReferenceClientRect:(null===(u=this.tippyOptions)||void 0===u?void 0:u.getReferenceClientRect)||(()=>{var n;if((n=s.selection)instanceof Jj){let r=t.nodeDOM(f),i=r.dataset.nodeViewWrapper?r:r.querySelector("[data-node-view-wrapper]");if(i&&(r=i.firstChild),r)return r.getBoundingClientRect()}return function(t,n,r){let i=t.state.doc.content.size,o=etF(n,0,i),a=etF(r,0,i),u=t.coordsAtPos(o),s=t.coordsAtPos(a,-1),l=Math.min(u.top,s.top),c=Math.max(u.bottom,s.bottom),d=Math.min(u.left,s.left),f=Math.max(u.right,s.right),p={top:l,bottom:c,left:d,right:f,width:f-d,height:c-l,x:d,y:l};return{...p,toJSON:()=>p}}(t,f,p)})}),this.show()},this.editor=t,this.element=n,this.view=r,this.updateDelay=o,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){let{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=eiw(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,n){let{state:r}=t,i=r.selection.$from.pos!==r.selection.$to.pos;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(t,n);return}let o=!(null!=n&&n.selection.eq(t.state.selection)),a=!(null!=n&&n.doc.eq(t.state.doc));this.updateHandler(t,o,a,n)}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t,n;!(null===(t=this.tippy)||void 0===t)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(n=this.tippy)||void 0===n||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}let eik=t=>new J$({key:"string"==typeof t.pluginKey?new JH(t.pluginKey):t.pluginKey,view:n=>new eiO({view:n,...t})});eth.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[eik({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});let eiC=t=>{let[n,r]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!n||t.editor.isDestroyed)return;let{pluginKey:r="bubbleMenu",editor:i,tippyOptions:o={},updateDelay:a,shouldShow:u=null}=t,s=eik({updateDelay:a,editor:i,element:n,pluginKey:r,shouldShow:u,tippyOptions:o});return i.registerPlugin(s),()=>i.unregisterPlugin(r)},[t.editor,n]),o.createElement("div",{ref:r,className:t.className,style:{visibility:"hidden"}},t.children)};class eiI extends enz{constructor(){super(...arguments),this.contentComponent=null}}let eiM=({renderers:t})=>o.createElement(o.Fragment,null,Object.entries(t).map(([t,n])=>x.createPortal(n.reactElement,n.element,t)));class eiR extends o.Component{constructor(t){super(t),this.editorContentRef=o.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let{editor:t}=this.props;if(t&&t.options.element){if(t.contentComponent)return;let n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=this,t.createNodeViews(),this.initialized=!0}}maybeFlushSync(t){this.initialized?(0,x.flushSync)(t):t()}setRenderer(t,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[t]:n}}))})}removeRenderer(t){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{let r={...n};return delete r[t],{renderers:r}})})}componentWillUnmount(){let{editor:t}=this.props;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild))return;let n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){let{editor:t,...n}=this.props;return o.createElement(o.Fragment,null,o.createElement("div",{ref:this.editorContentRef,...n}),o.createElement(eiM,{renderers:this.state.renderers}))}}let eiE=o.memo(eiR),eij=(0,o.createContext)({onDragStart:void 0}),eiA=()=>(0,o.useContext)(eij),eiN=o.forwardRef((t,n)=>{let{onDragStart:r}=eiA(),i=t.as||"div";return o.createElement(i,{...t,ref:n,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});class eiP{constructor(t,{editor:n,props:r={},as:i="div",className:o="",attrs:a}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=t,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),a&&Object.keys(a).forEach(t=>{this.element.setAttribute(t,a[t])}),this.render()}render(){var t,n,r,i,a;let u=this.component,s=this.props;("function"==typeof u&&u.prototype&&u.prototype.isReactComponent||"object"==typeof u&&(null===(a=u.$$typeof)||void 0===a?void 0:a.toString())==="Symbol(react.forward_ref)")&&(s.ref=t=>{this.ref=t}),this.reactElement=o.createElement(u,{...s}),null===(n=null===(t=this.editor)||void 0===t?void 0:t.contentComponent)||void 0===n||n.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t,n;null===(n=null===(t=this.editor)||void 0===t?void 0:t.contentComponent)||void 0===n||n.removeRenderer(this.id)}}class eiL extends enH{mount(){let t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(t={})=>this.updateAttributes(t),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){var n;this.component.displayName=(n=this.extension.name).charAt(0).toUpperCase()+n.substring(1)}let r=t=>{let n=this.component,r=this.onDragStart.bind(this),i=t=>{t&&this.contentDOMElement&&t.firstChild!==this.contentDOMElement&&t.appendChild(this.contentDOMElement)};return o.createElement(o.Fragment,null,o.createElement(eij.Provider,{value:{onDragStart:r,nodeViewContentRef:i}},o.createElement(n,{...t})))};r.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let i=this.node.isInline?"span":"div";this.options.as&&(i=this.options.as);let{className:a=""}=this.options;this.renderer=new eiP(r,{editor:this.editor,props:t,as:i,className:`node-${this.node.type.name} ${a}`.trim(),attrs:this.options.attrs})}get dom(){var t;if(this.renderer.element.firstElementChild&&!(!(null===(t=this.renderer.element.firstElementChild)||void 0===t)&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(t,n){let r=t=>{this.renderer.updateProps(t)};if(t.type!==this.node.type)return!1;if("function"==typeof this.options.update){let i=this.node,o=this.decorations;return this.node=t,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:t,newDecorations:n,updateProps:()=>r({node:t,decorations:n})})}return t===this.node&&this.decorations===n||(this.node=t,this.decorations=n,r({node:t,decorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function eiF(t,n){return r=>r.editor.contentComponent?new eiL(t,r,n):{}}function eiD(t){return setTimeout(()=>{t()})}function eiW(t){let{debouncedUrl:n,content:r,onContentChange:i,selected:a}=t,l=(0,o.useRef)(null),[c,d]=(0,o.useState)(!1);return(0,s.pQ)(n,()=>{var t;c&&(d(!1),null==(t=l.current)||t.reset())}),(0,v.ju)(n)?n===(null==r?void 0:r.embed_url)?M.jsx(eiz,{content:r,selected:a}):M.jsx(u.SV,{ref:l,renderError:eiU,onError:function(){d(!0),i(void 0)},children:M.jsx(o.Suspense,{fallback:r&&M.jsx(eiz,{content:r,selected:a}),children:M.jsx(eiB,{url:n,selected:a,onContentChange:i})})}):null}function eiU(){return M.jsx(u.yO,{title:"There is no embed data available."})}function eiz(t){let{content:n,selected:r}=t;return M.jsx(u.fu,{...function(t){let n="";switch(t.type){case"video":n=t.title??"";break;case"photo":n=`View this post${t.provider_name?` on ${t.provider_name}`:""}`;break;default:n=`Open${t.provider_name?` on ${t.provider_name}`:""}`}return{url:t.embed_url,thumbnail:{url:t.thumbnail_url??"",aspectRatio:"video"===t.type?"16:9":"1:1"},provider:t.provider_name??"",author:t.author_name??"",subtitle:n}}(n),selected:r})}function eiB(t){let{url:n,onContentChange:r,selected:i}=t,a=function(t){let{url:n,onContentChange:r}=t,{embedsUrl:i}=P(),a=(0,d.QT)(eiV,[n,i]),u=(0,s.R9)(r);return(0,o.useEffect)(()=>{let t=eiD(()=>u(a));return()=>{clearTimeout(t)}},[a,u]),a}({url:n,onContentChange:r});return M.jsx(eiz,{content:a,selected:i})}function eiV(t,n){var r;let i=new URL(n);return i.search=new URLSearchParams({url:t}).toString(),(0,p.WY)(i.toString(),{okType:(r=t,tj.object({type:tj.string(),version:tj.string().or(tj.number()).nullish(),title:tj.string().nullish(),author_name:tj.string().nullish(),author_url:tj.string().nullish(),provider_name:tj.string().nullish(),provider_url:tj.string().nullish(),cache_age:tj.string().or(tj.number()).nullish(),thumbnail_url:tj.string().nullish(),thumbnail_width:tj.number().nullish(),thumbnail_height:tj.number().nullish(),html:tj.string().nullish()}).passthrough().transform(t=>{let n={embed_url:r};return{...n,__TYPE__:"EmbedContent",type:t.type,version:t.version,title:t.title,author_name:t.author_name,author_url:t.author_url,provider_name:t.provider_name,provider_url:t.provider_url,cache_age:t.cache_age,thumbnail_url:t.thumbnail_url,thumbnail_width:t.thumbnail_width,thumbnail_height:t.thumbnail_height,html:t.html,all:{...n,...t}}}))})}function ei$(t){let{id:n,readOnly:r,field:i,content:a,onContentChange:l}=t,c=(0,s.$P)({initialState:(null==a?void 0:a.embed_url)??"",startTransition:o.startTransition});function d(t){c.set(t),(0,v.ju)(t)||l(void 0)}return M.jsxs(u.gN,{footer:(0,v.ju)(c.value)&&M.jsx(u.mS,{children:M.jsx(eiW,{debouncedUrl:c.debouncedValue,content:a,onContentChange:l})}),children:[M.jsx(u.fw,{name:"cloud"}),M.jsx(u.Qy,{htmlFor:n,children:Z0(i)}),M.jsx(u.JO,{children:M.jsx(Z5,{id:n,readOnly:r,placeholder:Z1(i),value:c.value,onValueChange:d,variant:(0,v.ju)(c.value)?"link":"normal",endAdornment:M.jsx(u.zx,{startIcon:"close",color:"grey",size:"small",disabled:!c,onClick:()=>d("")})})})]})}function eiq(t){return!(t.lat>85||t.lat<-85||t.lng>180||t.lng<-180)}function eiK(t){let n=t.match(/^.*@(-?\d+.\d+),(-?\d+.\d+).*$/);if(!n)return;let r=parseFloat(n[1]??""),i=parseFloat(n[2]??"");if(isNaN(r)||isNaN(i))return;let o={lat:r,lng:i};if(eiq(o))return o}function eiH(t){return t?`${t.lat}, ${t.lng}`:""}function eiG(t){let n=t.match(/\(?([\d|.|-]*)[\s+]*,[\s]*([\d|.|-]*)\)?/);if(!n)return eiK(t);let r=parseFloat(n[1]??""),i=parseFloat(n[2]??"");if(isNaN(r)||isNaN(i))return eiK(t);let o={lat:r,lng:i};return eiq(o)?o:eiK(t)}function eiZ(t){let{field:n,id:r,readOnly:i,...a}=t,{onValueChange:s,displayedValue:l,onBlur:c,clearValue:d,isValidCoordinates:f}=function(t){let{content:n,onContentChange:r}=t,i=eiH(null==n?void 0:n.position),[a,u]=(0,o.useState)(i),s=Boolean(eiG(a));return{displayedValue:a,isValidCoordinates:s,onValueChange:u,onBlur:function(){let t=eiG(a);if(!t)return u(""),r(void 0);let{lat:n,lng:i}=t;u(eiH({lat:n,lng:i})),r({__TYPE__:"GeoPointContent",position:{lat:n,lng:i}})},clearValue:function(){u(""),r(void 0)}}}(a);return M.jsxs(u.gN,{children:[M.jsx(u.fw,{name:"place"}),M.jsx(u.Qy,{htmlFor:r,children:Z0(n)}),M.jsx(u.JO,{children:M.jsx(Z5,{id:r,onValueChange:s,placeholder:"...",readOnly:i,value:l,onBlur:c,variant:f?"link":"normal",endAdornment:M.jsx(u.zx,{startIcon:"close",color:"grey",size:"small",disabled:!l,onClick:d})})})]})}let eiY="__MAIN_THUMBNAIL__";function eiJ(t,n,r){let i=t.name===eiY?void 0:t.name,o;return[i,(o=n?(0,c.$)(r)?[r.width,r.height]:(0,c.$)(t.width)||(0,c.$)(t.height)?[t.width??void 0,t.height??void 0]:[n.origin.width,n.origin.height]:void 0)?`${o[0]??"auto"}x${o[1]??"auto"}px`:void 0]}function eiQ(t,n){let{width:r,height:i}=n??{};return r&&i?[r,i]:r?[r,Math.round(t.height*(r/t.width))]:i?[Math.round(t.width*(i/t.height)),i]:[t.width,t.height]}function eiX(t,n,r,i,o){let a=new URL(t);if(o){let{x:u,y:s,width:l,height:c}=n;a.searchParams.set("rect",[u,s,l,c].join(",")),a.searchParams.set("w",r.toString()),a.searchParams.set("h",i.toString())}return a.toString()}function ei0(t){let n=new URL(t);return n.searchParams.delete("q"),n.searchParams.set("w","800"),n.searchParams.set("h","800"),n.searchParams.set("auto","compress,format"),n.searchParams.set("fit","max"),n.toString()}function ei1(t){return null!=t&&t.url?ei0(t.url):void 0}function ei2(t,n){var r;let{width:i,height:o,rect:a}=function(t,n){let[r,i]=eiQ(t,n),o=Math.max(r/t.width,i/t.height),a=Math.round((t.width-r/o)/2),u=Math.round((t.height-i/o)/2);return{width:r,height:i,rect:{x:a,y:u,width:Math.round(r/o),height:Math.round(i/o)}}}({...t,width:(null==t?void 0:t.width)??2e3,height:(null==t?void 0:t.height)??2e3},n),u=Boolean((null==n?void 0:n.width)||(null==n?void 0:n.height));return{url:eiX(t.url,a,i,o,u),alt:t.alt,..."kind"in t&&"extension"in t?{credits:t.credits}:{},origin:{id:t.id,url:t.url,width:t.width??2e3,height:t.height??2e3},width:i,height:o,edit:{background:"transparent",zoom:1,crop:{x:a.x,y:a.y}}}}let ei3=tl({id:e5(),width:e6(),height:e6(),urls:tl({full:e5(),small:e5().transform(function(t){let n=new URL(t);return n.searchParams.delete("q"),n.searchParams.delete("fm"),n.searchParams.set("w","300"),n.searchParams.set("auto","compress,format"),n.toString()})}),alt_description:e5().optional(),description:e5().nullable()}),ei4=tl({results:ts(ei3)}).transform(t=>t.results);function ei5(t,n){let r=new URLSearchParams({page:"1",per_page:"28",query:n});return(0,p.WY)(`${t}/search/photos?${r.toString()}`,{okType:ei4})}function ei6(t){let{onSelectedChange:n}=t,[r,i]=(0,o.useTransition)(),a=(0,s.$P)({initialState:"",ms:300,startTransition:i});return M.jsxs(u.xu,{flexDirection:"column",gap:16,width:"100%",position:"relative",children:[M.jsx(u.CR,{value:a.value,placeholder:"Search on Unsplash.com",onValueChange:a.set}),M.jsx(u.SV,{renderError:()=>M.jsx(t1,{}),children:M.jsx(o.Suspense,{fallback:M.jsx(ei7,{}),children:M.jsx(ei9,{term:a.debouncedValue,loading:r,onSelectedChange:n})})})]})}function ei9(t){let{term:n,onSelectedChange:r,loading:i}=t,{media:a,toggleSelected:l,selectedImageId:c}=function(t){var n;let{term:r,onSelectedChange:i}=t,a=P(),u=function(t,n){let r=(0,o.useRef)(),i=P(),a=(0,d.QT)(ei5,[t,n]);return(0,s.Nr)(n,1e3,()=>{var t;r.current&&n!==r.current&&(null==(t=i.onAnalyticsEvent)||t.call(i,"Unsplash Image Searched")),r.current=n}),a}(a.unsplashUrl,r||"citrus fruit"),l=null==(n=null==u?void 0:u[0])?void 0:n.id,[c,f]=(0,o.useState)();return(0,o.useEffect)(()=>{null==i||i([]),f(void 0)},[l,i]),{media:u,toggleSelected:function(t){if(t.id===c)return f(void 0),null==i?void 0:i([]);f(t.id),null==i||i([{...t,url:t.urls.full,alt:t.alt_description}])},selectedImageId:c}}({term:n,onSelectedChange:r});return M.jsxs(M.Fragment,{children:[M.jsx(ei8,{children:null==a?void 0:a.map(t=>{let n=new URL(t.urls.full).searchParams.get("fm")??"jpg";return M.jsx(u.PB,{url:t.urls.small,filename:t.description??"Unsplash Image",selected:c===t.id,onCardClick:()=>l(t),extension:n,width:t.width,height:t.height,loading:i},t.id)})}),0===a.length&&M.jsx(j,{})]})}function ei8(t){let{children:n}=t;return M.jsx(u.xr,{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 250px), 1fr))",gap:16,paddingBottom:16,position:"relative",width:"100%"},children:n})}function ei7(){return M.jsx(ei8,{children:(0,m.N)(24,M.jsx(nt,{}))})}function eoe(t){let{open:n,onOpenChange:r,onMediaSelected:i,assetType:a}=t,l=P(),c=l.mediaLibrary,[f,p]=(0,o.useState)(()=>c?"media":"unsplash"),[h,m]=(0,o.useState)(new Set),[g,y]=(0,o.useState)([]),v=h.size+g.length,b=(0,d.q_)(tL);function x(t){t||m(new Set),r(t)}(0,o.useEffect)(()=>{n&&c&&tW({config:l,assetType:a})},[n,l,a,c]);let{containerRef:_}=(0,u.VY)();return M.jsxs(u.Vq,{open:n,onOpenChange:x,size:{width:"min(calc(100% - 48px), 2000px)",height:"calc(100% - 30px)"},position:"center",onPointerDownOutside(t){_&&(0,s.DX)(_,t.target)&&t.preventDefault()},children:[M.jsx(u.fK,{icon:"image",title:"Media library"}),M.jsxs(u.Zp,{value:f,onValueChange:function(t){if("media"!==t&&"unsplash"!==t)throw Error(`Invalid option ${t}.`);p(t)},padding:"small",width:"auto",children:[c&&M.jsx(u.T9,{value:"media",icon:"photo"}),M.jsx(u.T9,{value:"unsplash",icon:"unsplash"})]}),M.jsx(u.cZ,{children:M.jsxs(u.xu,{overflow:"hidden",backgroundColor:"grey3",padding:{top:16,right:16,left:16},minHeight:"100%",children:["media"===f&&M.jsx(nv,{assetType:a,onSelectedChange:m}),"unsplash"===f&&M.jsx(ei6,{onSelectedChange:y})]})}),M.jsx(u.kX,{asFooter:!0,ok:{text:"Add to page",onClick:function(){var t;let n=b.flatMap(t=>t.items).filter(t=>h.has(t.id)),r="media"===f?n[0]:g[0];r&&(i(r),x(!1),"unsplash"===f&&(null==(t=l.onAnalyticsEvent)||t.call(l,"Unsplash Image Added")))},disabled:1!==v,disabledTooltip:0===v?"Select a media item to add to the page":v>1?"Only one media item can be added to the page":void 0},cancel:{text:"Cancel"}})]})}function eot(t){let{onMediaSelected:n,readOnly:r,isUpdating:i}=t,[a,s]=(0,o.useState)(!1);return M.jsxs(u.aY,{children:[M.jsx(u.Zb,{color:"grey3",variant:"outlined",radius:4,children:M.jsx(u.aY,{children:M.jsx(u.xu,{padding:{block:48},flexDirection:"column",children:M.jsxs(u.R$,{children:[M.jsx(u.av,{name:"cloudUpload"}),M.jsx(u._T,{children:i?"Preparing your image...":"You haven't selected an image"}),!r&&M.jsx(u.Qj,{children:M.jsx(u.zx,{disabled:i,onClick:()=>s(!0),children:"Select image"})})]})})})}),M.jsx(eoe,{open:a,onOpenChange:s,onMediaSelected:n,assetType:"image"})]})}function eon(t){let{id:n,readOnly:r,altText:i,onValueChange:o,selected:a}=t;return M.jsxs(u.gN,{labelPosition:"side",selected:a,children:[M.jsx(u.Qy,{htmlFor:n,children:"Alt text"}),M.jsx(u.JO,{children:M.jsx(u.oi,{id:n,placeholder:"Short description for the visually impaired",readOnly:r,padding:{input:{inline:16}},value:i,onValueChange:o})})]})}d.Fs.registerFetcherConfig(ei5,{cacheCapacity:5,revalidationStrategy:{type:"never"}});let eor=({contentView:t,constraints:n,croppedImage:r})=>{let[i,o]=eiQ(t.origin,n),a=eiX(t.origin.url,r,i,o,!0);return{...t,width:i,height:o,url:a,edit:{...t.edit,zoom:r.zoom,crop:{x:r.x,y:r.y}}}},eoi=({field:t,content:n,thumbnail:r,croppedImage:i})=>{var o,a,u,s;if(r===eiY){let l=eor({contentView:n,constraints:null==(o=null==t?void 0:t.config)?void 0:o.constraint,croppedImage:i});return l.url===n.url?n:{...n,...l}}let c=null==(u=null==(a=null==t?void 0:t.config)?void 0:a.thumbnails)?void 0:u.find(t=>t.name===r),d=null==(s=n.thumbnails)?void 0:s[r];if(!c||!d)return n;let f=eor({contentView:d,constraints:c,croppedImage:i});return f.url===d.url?n:{...n,thumbnails:{...n.thumbnails,[r]:f}}},eoo=({initialSize:t,constraints:n})=>{let r=null!=n&&n.width&&null!=n&&n.height?n.width/n.height:t.width/t.height,[i,o]=t.width<t.height?[t.width,Math.round(t.width/r)]:[Math.round(t.height*r),t.height],a=Math.max(i/t.width,o/t.height,1);return{width:Math.round(i/a),height:Math.round(o/a)}},eoa=({contentView:t,constraints:n})=>{let r=eoo({initialSize:t.origin,constraints:n}),i=t.edit.zoom??1,o=Math.round(r.width/i),a=Math.round(r.height/i);return{...t.edit.crop,width:o,height:a,zoom:i}};function eou(t){let{image:n,crop:r,onCropChange:i,zoom:o,onZoomChange:a,initialCroppedArea:s,onCropAreaChange:l,aspectRatio:c}=t;return M.jsxs(u.xu,{padding:{inline:24,block:16},flexDirection:"column",gap:16,height:"100%",overflowY:"auto",alignItems:"center",children:[M.jsxs(u.xu,{gap:8,height:32,alignItems:"flex-start",width:"100%",children:[M.jsx(u.zx,{color:"grey",size:"medium",startIcon:"centerFocusWeak",onClick:()=>i(eos)}),M.jsx(u.zx,{color:"grey",size:"medium",startIcon:"zoomOutMap",onClick(){i(eos),a(eol)}})]}),M.jsx(u.fl,{image:n,aspect:c,crop:r,onCropChange:i,zoom:o,onZoomChange:a,initialCroppedAreaPixels:s,onCropAreaChange:(t,n)=>l(n)}),M.jsx(u.xu,{width:"100%",maxWidth:320,children:M.jsx(u.iR,{min:1,max:3,step:.01,value:[o],onValueChange:([t])=>a(t??1)})})]})}let eos={x:0,y:0},eol=1;function eoc(t){var n;let{trigger:r,initialImages:i}=t,{open:a,ready:s,option:l,selectedImage:c,croppedImage:d,setZoom:f,setCropArea:p,setCrop:h,setReady:m,setOption:g,initialCroppedArea:y,cropper:v,onOpenChange:b}=function(t){let{initialImages:n,initialOption:r,onClose:i}=t,[a,u]=(0,o.useState)({}),[s,l]=(0,o.useState)({}),[c,d]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),[h,m]=(0,o.useState)(r),g=n[h],y=a[(null==g?void 0:g.thumbnail.name)??""],v=c?y??((null==g?void 0:g.contentView)&&eoa({contentView:g.contentView,constraints:g.thumbnail})):void 0,b=s[(null==g?void 0:g.thumbnail.name)??""];return{open:c,ready:f,option:h,selectedImage:g,croppedImage:y,setZoom:function(t){if(!g)return;let n=g.thumbnail.name,r=a[n]??eod;u({...a,[n]:{...r,zoom:t}})},setCropArea:function(t){if(!g)return;let n=g.thumbnail.name,r=a[n]??eod;u({...a,[n]:{...r,...t}})},setCrop:function(t){if(!g)return;let n=g.thumbnail.name,r=s[n];l({...s,[n]:{...r,crop:t}})},setReady:p,setOption:m,initialCroppedArea:v,onClose:i,cropper:b,onOpenChange:function(t){t?(m(r),u({}),l({})):(p(!1),i({option:h,croppedImages:a})),d(t)}}}(t);return M.jsxs(u.Vq,{trigger:r,onAnimationEnd:()=>m(!0),open:a,onOpenChange:b,children:[M.jsx(u.fK,{icon:"photo",title:"Image editor"}),M.jsx(u.Zp,{value:String(l),onValueChange:t=>g(Number(t)),children:i.map((t,n)=>M.jsx(u.T9,{value:String(n),icon:"photo",title:t.labels[0]??"Main",subtitle:t.labels[1]??""},t.thumbnail.name))}),c&&M.jsx(u.cZ,{children:s&&M.jsx(eou,{image:(null==(n=c.contentView)?void 0:n.origin.url)??"",crop:(null==v?void 0:v.crop)??{x:0,y:0},onCropChange:h,zoom:(null==d?void 0:d.zoom)??1,onZoomChange:f,initialCroppedArea:y,onCropAreaChange:p,aspectRatio:function(t){let{thumbnail:n,contentView:r}=t;return n.width&&n.height?n.width/n.height:r?r.origin.width/r.origin.height:1}(c)},c.thumbnail.name)})]})}let eod={x:0,y:0,width:0,height:0,zoom:1};function eof(t){var n,r;let{content:i,selected:a,fieldLabel:s,readOnly:l,imageLabel:c,onMediaSelected:d,initialImages:f,initialOption:p=0,onCropperDialogClose:h,onClear:m,children:g}=t,[v,b]=(0,o.useState)(!1),x=(null==(r=null==(n=null==i?void 0:i.url)?void 0:n.split("?")[0])?void 0:r.slice(-4))===".svg",_=null!=i&&i.url&&!l?"visible":"hidden";return M.jsxs(u.Zb,{color:a?"indigo2":"grey2",variant:a?"selected":"dashed",radius:4,children:[M.jsxs(u.Ol,{sx:{flexWrap:"wrap"},children:[M.jsxs(u.wP,{children:[M.jsx(u.xv,{noWrap:!0,children:(0,y.tx)(s,30)}),0!==c.length&&M.jsx(u.xv,{color:"grey11",noSelect:!0,children:` • ${c.join(" • ")}`})]}),M.jsxs(u.Pf,{sx:{visibility:_},children:[M.jsx(eoc,{trigger:M.jsx(u.zx,{startIcon:"crop",disabled:x,children:"Crop & Resize"}),initialImages:f,initialOption:p,onClose:h}),M.jsx(u.zx,{startIcon:"imageSearch",onClick:()=>b(!0),children:"Replace"}),M.jsx(u.zx,{onClick:m,startIcon:"delete",children:"Clear"})]})]}),g,M.jsx(eoe,{open:v,onOpenChange:b,onMediaSelected:d,assetType:"image"})]})}function eop(t){let{content:n,field:r,id:i,onContentChange:u,readOnly:s}=t,l=n&&n.origin.url.length>0,{onCropperDialogClose:d,onPageChange:f,onMediaSelected:p,isUpdating:h,page:m,thumbnail:g,allThumbnails:y,allContentViews:v,contentView:b,onClear:x}=function(t){var n;let{content:r,onContentChange:i,field:u}=t,[s,l]=(0,o.useState)(0),[c,d]=(0,o.useTransition)(),f=(n=u,(0,o.useMemo)(()=>{var t,r,i;return[{...null==(r=n.config)?void 0:r.constraint,name:eiY}].concat((null==(i=n.config)?void 0:i.thumbnails)??[])},[n])),p=f[s],h=r?function(t,n){var r,i;let{__TYPE__:o,thumbnails:a,...u}=n,s=null==(i=null==(r=t.config)?void 0:r.thumbnails)?void 0:i.map(({name:t})=>null==a?void 0:a[t]);return[u,...s??[]]}(u,r):void 0,m=null==h?void 0:h[s];return{onCropperDialogClose:function({option:t,croppedImages:n}){if(l(t),!r)return;let o=Object.entries(n).reduce((t,[n,r])=>eoi({field:u,content:t,thumbnail:n,croppedImage:r}),r);o!==r&&d(()=>i(o))},onPageChange:function(t){d(()=>l(t))},onMediaSelected:function(t){if(!p)return;let n=function(t,n,r,i){var o,u,s,l,c,d;if(!r){let f=null==(o=n.config)?void 0:o.thumbnails,p=f&&Object.fromEntries(f.map(t=>[t.name,ei2(i,t)]));return{__TYPE__:"ImageContent",...ei2(i,null==(u=n.config)?void 0:u.constraint),thumbnails:p}}if(t===eiY){let h=ei2(i,null==(s=n.config)?void 0:s.constraint);return h.url===r.url?r:{...r,...h}}let m=null==(c=null==(l=n.config)?void 0:l.thumbnails)?void 0:c.find(n=>n.name===t);if(!m)return r;let g=null==(d=r.thumbnails)?void 0:d[t],y=ei2(i,m);return y.url===(null==g?void 0:g.url)?r:{...r,thumbnails:(0,a.Q8)(r.thumbnails??{},(n,r)=>r===t?y:n)}}(p.name,u,r,t);n!==r&&d(()=>i(n))},isUpdating:c,page:s,thumbnail:p,allThumbnails:f,allContentViews:h,contentView:m,onClear:function(){null==l||l(0),i(void 0)}}}({field:r,content:n,onContentChange:u}),_=Z0(r),S=y.map((t,r)=>{let i=null==v?void 0:v[r];return{thumbnail:t,contentView:i,labels:eiJ(t,n,i)}}),T=g&&l?eiJ(g,n,b).filter(c.$):[];return M.jsx(eof,{content:n,fieldLabel:_,imageLabel:T,initialOption:m,initialImages:S,readOnly:s,onMediaSelected:p,onCropperDialogClose:d,onClear:x,children:M.jsx(o.Suspense,{fallback:M.jsx("div",{style:{height:466}}),children:g&&n&&l&&v?M.jsx(eoh,{allContentViews:v,content:n,contentView:b,id:i,onContentChange:u,onPageChange:f,page:m,readOnly:s,thumbnailName:g.name,isUpdating:h}):M.jsx(eot,{onMediaSelected:p,readOnly:s,isUpdating:h})})})}function eoh(t){let{allContentViews:n,content:r,contentView:i,id:o,onContentChange:a,onPageChange:s,page:l,readOnly:c,thumbnailName:d,isUpdating:f}=t;return M.jsxs(u.aY,{children:[M.jsx(u.lr,{getItemSource:ei1,items:n,onPageChange:s,page:l,style:{height:400},children:t=>(null==t?void 0:t.url)&&M.jsx(u.d$,{src:ei0(t.url),alt:t.alt??void 0,isUpdating:f},`${d}_${t.url}`)}),M.jsx(eon,{id:o,readOnly:c||!i,altText:(null==i?void 0:i.alt)??"",onValueChange(t){i&&a(function(t,n,r,i){let o=0===i.length?void 0:i;return t===eiY?{...n,alt:o}:{...n,thumbnails:{...n.thumbnails,[t]:{...r,alt:o}}}}(d,r,i,t))}})]})}function eom(t){let{content:n,field:r,id:i,onContentChange:o,readOnly:a}=t;return M.jsxs(u.gN,{children:[M.jsx(u.fw,{name:"notes"}),M.jsx(u.Qy,{htmlFor:i,children:Z0(r)}),M.jsx(u.JO,{children:M.jsx(u.Kx,{id:i,placeholder:Z1(r),readOnly:a,paddingLeft:4,paddingRight:12,sx:{flexGrow:1},value:(null==n?void 0:n.value)??"",onChange(t){var n;o((n=t,0===n.length?void 0:{__TYPE__:"FieldContent",type:"Text",value:n}))}})})]})}function eog(t,n,r,i){return(0,h.W7)(t,r,i,30,n)}function eoy(){let t=P();t.searchDocuments||F("searchDocuments");let{coreApiUrl:n,env:r}=t,i=`${n}/repository`,o=(0,d.QT)(h.Ag,[i,r]);return new Set(o.languages.map(t=>({id:t.id,label:t.name})))}function eov(){let t=P();t.searchDocuments||F("searchDocuments");let{coreApiUrl:n,env:r}=t,i=`${n}/repository`,o=(0,d.QT)(h.Mi,[i,r]);return new Set(o.results.map(t=>({id:t,label:t})))}function eob(){let t=P();t.searchDocuments||F("searchDocuments");let{customTypesApiUrl:n,env:r,repository:i}=t,o=(0,d.QT)(h.JY,[n,i,r]);return new Set(o)}function eox(t){return t?(0,g.UI)(t,t=>({id:t,label:t})):new Set}function eo_(t){let{filteredLocales:n,setFilteredLocales:r,filteredTags:i,setFilteredTags:a,filteredCustomTypes:s,setFilteredCustomTypes:l,fixedTags:c,fixedCustomTypes:d}=t;return M.jsxs(M.Fragment,{children:[M.jsx(u.SV,{children:M.jsx(o.Suspense,{fallback:M.jsx(eoS,{selectedValues:n,onSelectedValuesChange:r,label:"Locale",icon:"public",fetchFilters:eoy,multiple:!1}),children:M.jsx(eow,{selectedValues:n,onSelectedValuesChange:r})})}),M.jsx(eoS,{selectedValues:i,fixedSelectedValues:eox(c),onSelectedValuesChange:a,label:"Tags",icon:"label",fetchFilters:eov}),M.jsx(eoS,{selectedValues:s,fixedSelectedValues:eox(d),onSelectedValuesChange:l,label:"Type",icon:"description",fetchFilters:eob})]})}function eoS(t){let[n,r]=(0,o.useState)(!1),i=(0,o.useContext)(d.Nk);return M.jsx(u.SV,{renderError:()=>M.jsx(u.R0,{mode:"error",onErrorRetry:null==i?void 0:i.reset,open:n,setOpen:r,values:new Set,...t}),children:M.jsx(o.Suspense,{fallback:M.jsx(u.R0,{mode:"loading",open:n,setOpen:r,values:new Set,...t}),children:M.jsx(eoT,{open:n,setOpen:r,...t})})})}function eoT(t){let{open:n,setOpen:r,onSelectedValuesChange:i,fixedSelectedValues:o,selectedValues:a,label:s,icon:l,fetchFilters:c,multiple:d}=t,f=c();return M.jsx(u.R0,{open:n,setOpen:r,label:s,icon:l,selectedValues:a,values:new Set(f),fixedSelectedValues:o,onSelectedValuesChange:i,multiple:d})}function eow(t){let{selectedValues:n,onSelectedValuesChange:r}=t,[i,a]=(0,o.useState)((0,g.Ps)(n)),u=(0,g.sE)(eoy(),t=>{var r;return t.id===(null==(r=(0,g.Ps)(n))?void 0:r.id)});return(null==u?void 0:u.label)!==(null==i?void 0:i.label)&&a(u),M.jsx(eoS,{selectedValues:new Set(i?[i]:[]),onSelectedValuesChange:function(t){r(t),a((0,g.Ps)(t))},label:"Locale",icon:"public",fetchFilters:eoy,multiple:!1})}function eoO(t){let{onSelectDocument:n,fixedCustomTypes:r,fixedTags:i,...a}=t,l=P(),{searchTerm:c,filteredTags:d,setFilteredTags:f,filteredCustomTypes:p,setFilteredCustomTypes:h,filteredLocales:m,setFilteredLocales:y,typesFilter:v,tagsFilter:b}=function(t,n){let r=P(),i=(0,s.$P)({initialState:""}),[a,u]=(0,o.useState)(new Set),[l,c]=(0,o.useState)(new Set),[d,f]=(0,o.useState)(function(){return r.searchDocuments&&r.localeId?new Set([{id:r.localeId,label:r.localeId}]):new Set}),p=(0,g.G0)(l,eox(t)),h=(0,g.G0)(a,eox(n));return{searchTerm:i,filteredTags:a,setFilteredTags:u,filteredCustomTypes:l,setFilteredCustomTypes:c,filteredLocales:d,setFilteredLocales:f,typesFilter:p,tagsFilter:h}}(r,i),[x,_]=(0,o.useTransition)(),S=(0,s.$P)({initialState:x,ms:100}),{searchDocuments:T}=P();return M.jsx(u.Vq,{size:{height:727,width:656},hasClose:!1,...a,children:M.jsx(u.cZ,{children:M.jsxs(u.xu,{flexDirection:"column",height:"100%",children:[M.jsxs(u.xu,{padding:{top:16,inline:16},flexDirection:"column",gap:12,children:[M.jsx(u.yt,{value:c.value,onValueChange:c.set,placeholder:"Search a page",icon:"search"}),T&&M.jsx(eo_,{filteredTags:d,setFilteredTags:f,filteredCustomTypes:p,setFilteredCustomTypes:h,filteredLocales:m,setFilteredLocales:y,fixedTags:i,fixedCustomTypes:r}),M.jsx(u.xv,{variant:"smallBold",color:"grey11",children:"Link to a document"})]}),l.searchDocuments?M.jsx(u.SV,{renderError:eoC,children:M.jsx(o.Suspense,{children:M.jsx(eoI,{searchTerm:c.debouncedValue,tagsFilter:b,typesFilter:v,localesFilter:m,startTransition:_,onSelectDocument:n})})}):M.jsx(eoM,{message:"Slice Machine does not yet support mock data for linked documents in the simulator."}),M.jsx(eok,{debouncedIsLoading:S.debouncedValue})]})})})}function eok(t){return M.jsx(u.FN,{anchor:M.jsx(u.xu,{position:"relative",width:"100%",justifyContent:"center",bottom:72}),loadingIndicator:!0,open:t.debouncedIsLoading,title:"Loading more results ...",seconds:1})}function eoC(){return M.jsx(u.xu,{height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",children:M.jsx(u.Iq,{title:"Request failed",description:"An error occurred while fetching documents.",errorImageSrc:u.Os})})}function eoI(t){let{searchTerm:n,tagsFilter:r,typesFilter:i,localesFilter:a,startTransition:s,onSelectDocument:l}=t,{documents:c,onHasReachedBottom:p}=function(t){var n,r;let{searchTerm:i,tagsFilter:a,typesFilter:u,localesFilter:s}=t,l=P();l.searchDocuments||F("searchDocuments");let{coreApiUrl:c,env:p,status:m}=l,[y,v]=(0,o.useState)(""),[b,x]=(0,o.useState)([]),[_,S]=(0,o.useState)(""),T=new URLSearchParams((0,h.fW)([{name:"tags",values:[...(0,g.UI)(a,t=>t.id)]},{name:"customTypes",values:[...(0,g.UI)(u,t=>t.id)]},{name:"language",values:[...(0,g.UI)(s,t=>t.id)]},{name:"status",values:h.Vu[m]},{name:"term",values:[i]}])).toString(),w=(0,d.QT)(eog,[c,T===_?y:"",p,T]);return T!==_?(S(T),v(""),x(w.results)):w.results.length>0&&(null==(n=(0,f.Z$)(b))?void 0:n.id)!==(null==(r=(0,f.Z$)(w.results))?void 0:r.id)&&x(t=>t.concat(w.results)),{documents:b,onHasReachedBottom:function(){w.cursor&&v(w.cursor)},response:w}}({searchTerm:n,tagsFilter:r,localesFilter:a,typesFilter:i}),m=P();return M.jsx(u.xr,{onScrollToBottom:()=>s(p),style:{height:"100%",gap:u.TV.space[16],paddingTop:u.TV.space[10],paddingBottom:u.TV.space[16],paddingInline:u.TV.space[16]},children:M.jsxs(u.xu,{flexDirection:"column",gap:12,height:"100%",children:[0===c.length&&M.jsx(eoM,{}),c.map(t=>{let n=t.versions[0];if(!n)return null;let i=(0,b.u)({documentId:t.id,versionId:"archived"===n.status?n.version_id:void 0,releaseId:"release"===n.status?n.release_id:void 0,status:n.status,env:m.env}),o=function(t){let{tags:n,tagsFilter:r}=t,i=[...r].map(t=>t.label).reverse();return(0,f.DY)(n,t=>-i.indexOf(t))}({tags:n.tags,tagsFilter:r});return M.jsx(u.z4,{documentType:n.custom_type_label,documentURL:i,description:n.preview_summary,tags:o,title:t.title,previewImageUrl:n.preview_image,onSelect:()=>l(t.id),statusColor:O[n.status].color},`${t.id}-${n.status}`)})]})})}function eoM(t){let{message:n="We can't find any versions matching this request"}=t;return M.jsx(u.xu,{justifyContent:"center",flexDirection:"column",height:"100%",children:M.jsxs(u.R$,{children:[M.jsx(u.av,{name:"close",lineColor:"purple10",backgroundColor:"purple3",borderColor:"purple6",borderStyle:"dashed",size:"xlarge"}),M.jsx(u._T,{size:"big",children:"Oops!"}),M.jsx(u.nf,{width:360,children:n})]})})}function eoR(t){let{hasLink:n,onUnlink:r,selectEnabled:i,selectedType:o,onValueChange:a,openInNewTab:s=!0,setOpenInNewTab:l}=t;return M.jsxs(M.Fragment,{children:[l&&"web"===o&&M.jsx(u.zx,{startIcon:s?"checkBox":"checkBoxOutlinedBlank",color:"grey",size:"small",onClick:()=>l(!s),children:"Open in new tab"}),M.jsxs(u.Ph,{value:o,color:"grey",size:"small",boldTriggerText:!0,startIcon:function(t){if(t)switch(t){case"document":return"description";case"web":return"public";case"media":return"image"}}(o),disabled:!i,onValueChange:a,placeholder:"Choose link type",children:[M.jsx(u.Ql,{value:"web",icon:"public",children:"Link to web page"}),M.jsx(u.Ql,{value:"document",icon:"description",children:"Link to Prismic page"}),M.jsx(u.Ql,{value:"media",icon:"image",children:"Link to media"})]}),M.jsx(u.zx,{startIcon:"close",color:"grey",size:"small",disabled:!n,onClick:r})]})}d.Fs.registerFetcherConfig(eog,{cacheCapacity:500,revalidationStrategy:{type:"never"}});let eoE={DocumentLink:"document",ExternalLink:"web",FileLink:"media",ImageLink:"media"},eoj={document:"DocumentLink",web:"ExternalLink",media:"FileLink"},eoA=tl({id:e5(),title:e5()});function eoN(t,n,r){return(0,p.WY)(`${t}/documents/${r}`,{credentials:(0,p.xb)(n),okType:eoA})}function eoP(t){var n,r,i,o,a,u;let{media:s}=t,l="kind"in s;return l&&"image"===s.kind?{__TYPE__:"LinkContent",value:{__TYPE__:"ImageLink",id:s.id,name:s.filename,url:s.url,kind:s.kind,size:s.size.toString(),height:(null==(n=s.height)?void 0:n.toString())??"2000",width:(null==(r=s.width)?void 0:r.toString())??"2000",date:(null==(i=s.last_modified)?void 0:i.toString())??""}}:l?{__TYPE__:"LinkContent",value:{__TYPE__:"FileLink",id:s.id,name:s.filename,kind:s.kind,url:s.url,size:s.size.toString(),date:(null==(o=s.last_modified)?void 0:o.toString())??""}}:{__TYPE__:"LinkContent",value:{__TYPE__:"ImageLink",id:s.id,name:(null==s?void 0:s.alt)??s.url,kind:"image",url:s.url,size:"0",height:(null==(a=s.height)?void 0:a.toString())??"2000",width:(null==(u=s.width)?void 0:u.toString())??"2000"}}}function eoL(t){var n,r;let{content:i,field:a,id:l,onContentChange:c,readOnly:d}=t,[f,p]=(0,o.useState)(!1),[h,m]=(0,o.useState)(!1),[g,y]=(0,o.useState)(!1),[b,x]=(0,o.useState)(!1),{contentType:_,fieldValue:S,errorBoundaryRef:T,onDocumentSelected:w,onError:O,onMediaSelected:k,...C}=function(t){var n;let{field:r,content:i,onContentChange:a}=t,u=i?"DocumentLink"===i.value.__TYPE__?i.value.id:"ExternalLink"===i.value.__TYPE__?i.value.url:i.value.name:"",[l,c]=(0,o.useState)(()=>{var t,n;return!(null!=(t=r.config)&&t.select)||null!=i&&i.value.__TYPE__?null==i?void 0:i.value.__TYPE__:eoj[null==(n=r.config)?void 0:n.select]}),[d,f]=(0,o.useState)(()=>(null==i?void 0:i.value.__TYPE__)==="ExternalLink"?i.value.target:""),[p,h]=(0,o.useState)(!1),m=(0,o.useRef)(null);(0,s.pQ)(u,function(){var t;p&&(h(!1),null==(t=m.current)||t.reset())});let g=l?eoE[l]:void 0;function y(t){if(!t)return a(void 0);switch(l){case"ExternalLink":return a({__TYPE__:"LinkContent",value:{__TYPE__:"ExternalLink",url:t,target:d}});case"DocumentLink":return a({__TYPE__:"LinkContent",value:{__TYPE__:"DocumentLink",id:t}});default:return a(void 0)}}function v(t){y(t)}return{contentType:l,selectType:g,fieldValue:u,onValueChange:y,onTypeChange:function(t){c(eoj[t]),y("")},placeholder:Z1(r),isTypeSelectEnabled:!(null!=(n=r.config)&&n.select),onDocumentSelected:v,onError:function(){h(!0)},errorBoundaryRef:m,isTargetNewTab:"_blank"===d,updateWebLinkTarget:function(t){let n=t?"_blank":null;f(n),a({__TYPE__:"LinkContent",value:{__TYPE__:"ExternalLink",url:u,target:n}})},onMediaSelected:function(t){a(eoP({media:t}))}}}({content:i,field:a,onContentChange:c}),I="ExternalLink"===_&&(0,v.ju)(S),R={id:l,contentType:_,onBlur:()=>p(!1),onFocus(){p(!0),"DocumentLink"===_&&y(!0),"FileLink"===_&&x(!0),"ImageLink"===_&&x(!0)},readOnly:d||!_,textType:I||"ImageLink"===_||"FileLink"===_?"link":"normal",value:S,...C},{searchDocuments:E}=P();return M.jsxs(M.Fragment,{children:[M.jsxs(u.J2,{onMouseOverChange:m,open:f||h,align:"start",sideOffset:-3,openDelay:100,closeDelay:200,focusOnEnter:!1,anchor:M.jsxs(u.gN,{onMouseOverChange:p,children:[M.jsx(u.fw,{name:"link"}),M.jsx(u.Qy,{htmlFor:l,children:Z0(a)}),M.jsx(u.JO,{children:"DocumentLink"===_&&""!==S&&E?M.jsx(eoW,{errorBoundaryRef:T,onError:O,fallback:M.jsx(eoF,{...R,value:"..."}),renderError(){var t;return t=R,M.jsx(eoF,{...t,textType:"link"})},children:M.jsx(eoD,{...R,documentId:S,openDocumentListModal:()=>y(!0)})}):M.jsx(eoF,{...R})})]}),children:[I&&M.jsx(u.oZ,{url:I,title:(0,v.S$)(I)??"",subTitle:I.toString()}),(null==i?void 0:i.value.__TYPE__)==="ImageLink"&&M.jsx(u.Qi,{url:i.value.url,title:i.value.name,subTitle:`${i.value.width} x ${i.value.height} pixels`})]}),M.jsx(eoe,{open:b,onOpenChange:x,onMediaSelected:k,assetType:"all"}),M.jsx(eoO,{open:g,onOpenChange:y,onSelectDocument(t){y(!1),w(t)},fixedCustomTypes:new Set(null==(n=a.config)?void 0:n.customtypes),fixedTags:new Set(null==(r=a.config)?void 0:r.tags)})]})}function eoF(t){let{id:n,onValueChange:r,placeholder:i,readOnly:o,value:a,textType:u,onFocus:s,onBlur:l,contentType:c,isTypeSelectEnabled:d,selectType:f,onTypeChange:p,isTargetNewTab:h,updateWebLinkTarget:m}=t,g="DocumentLink"===c||"ImageLink"===c||"FileLink"===c;return M.jsx(Z5,{id:n,onValueChange:r,placeholder:i,readOnly:o||g,value:a,variant:u,onFocus:s,onBlur:l,cursor:g?"pointer":"text",endAdornment:M.jsx(eoR,{hasLink:Boolean(a),onUnlink:()=>r(""),selectEnabled:d,selectedType:f,onValueChange:p,openInNewTab:h,setOpenInNewTab:m})})}function eoD(t){let{id:n,documentId:r,openDocumentListModal:i,onValueChange:o,isTypeSelectEnabled:a,selectType:u,onTypeChange:s}=t,l=function(t){let n=P();n.searchDocuments||F("searchDocuments");let{coreApiUrl:r,env:i}=n;return(0,d.QT)(eoN,[r,i,t]).title}(r);return M.jsx(Z5,{id:n,readOnly:!0,value:l,variant:"link",onFocus:i,cursor:"pointer",endAdornment:M.jsx(eoR,{hasLink:!0,onUnlink:()=>o(""),selectEnabled:a,selectedType:u,onValueChange:s})})}function eoW(t){let{errorBoundaryRef:n,onError:r,children:i,fallback:a,renderError:s}=t;return M.jsx(u.SV,{ref:n,onError:r,renderError:s,children:M.jsx(o.Suspense,{fallback:a,children:i})})}let eoU=({content:t,field:n,id:r,onContentChange:i,readOnly:o})=>{var a,s;let l=Number(null==t?void 0:t.value),c=Number.isFinite(l)?l:void 0;return M.jsxs(u.gN,{children:[M.jsx(u.fw,{name:"pin"}),M.jsx(u.Qy,{htmlFor:r,children:Z0(n)}),M.jsx(u.JO,{children:M.jsx(u.Y2,{id:r,value:c,min:null==(a=n.config)?void 0:a.min,max:null==(s=n.config)?void 0:s.max,padding:Z6,placeholder:Z1(n),readOnly:o,onValueChange(t){var n;return i((n=t,void 0===n?void 0:{__TYPE__:"FieldContent",type:"Number",value:String(n)}))}})})]})};var eoz=function(){};eoz.prototype.append=function(t){return t.length?(t=eoz.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},eoz.prototype.prepend=function(t){return t.length?eoz.from(t).append(this):this},eoz.prototype.appendInner=function(t){return new eoV(this,t)},eoz.prototype.slice=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=this.length),t>=n?eoz.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))},eoz.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},eoz.prototype.forEach=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)},eoz.prototype.map=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=this.length);var i=[];return this.forEach(function(n,r){return i.push(t(n,r))},n,r),i},eoz.from=function(t){return t instanceof eoz?t:t&&t.length?new eoB(t):eoz.empty};var eoB=function(t){function n(n){t.call(this),this.values=n}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var r={length:{configurable:!0},depth:{configurable:!0}};return n.prototype.flatten=function(){return this.values},n.prototype.sliceInner=function(t,r){return 0==t&&r==this.length?this:new n(this.values.slice(t,r))},n.prototype.getInner=function(t){return this.values[t]},n.prototype.forEachInner=function(t,n,r,i){for(var o=n;o<r;o++)if(!1===t(this.values[o],i+o))return!1},n.prototype.forEachInvertedInner=function(t,n,r,i){for(var o=n-1;o>=r;o--)if(!1===t(this.values[o],i+o))return!1},n.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new n(this.values.concat(t.flatten()))},n.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new n(t.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(n.prototype,r),n}(eoz);eoz.empty=new eoB([]);var eoV=function(t){function n(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},n.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},n.prototype.forEachInner=function(t,n,r,i){var o=this.left.length;if(n<o&&!1===this.left.forEachInner(t,n,Math.min(r,o),i)||r>o&&!1===this.right.forEachInner(t,Math.max(n-o,0),Math.min(this.length,r)-o,i+o))return!1},n.prototype.forEachInvertedInner=function(t,n,r,i){var o=this.left.length;if(n>o&&!1===this.right.forEachInvertedInner(t,n-o,Math.max(r,o)-o,i+o)||r<o&&!1===this.left.forEachInvertedInner(t,Math.min(n,o),r,i))return!1},n.prototype.sliceInner=function(t,n){if(0==t&&n==this.length)return this;var r=this.left.length;return n<=r?this.left.slice(t,n):t>=r?this.right.slice(t-r,n-r):this.left.slice(t,r).append(this.right.slice(0,n-r))},n.prototype.leafAppend=function(t){var r=this.right.leafAppend(t);if(r)return new n(this.left,r)},n.prototype.leafPrepend=function(t){var r=this.left.leafPrepend(t);if(r)return new n(r,this.right)},n.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new n(this.left,new n(this.right,t)):new n(this,t)},n}(eoz);class eo${constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(0==this.eventCount)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(o=(i=this.remapping(r,this.items.length)).maps.length);let a=t.tr,u,s,l=[],c=[];return this.items.forEach((t,n)=>{if(!t.step){i||(o=(i=this.remapping(r,n+1)).maps.length),o--,c.push(t);return}if(i){c.push(new eoq(t.map));let d=t.step.map(i.slice(o)),f;d&&a.maybeStep(d).doc&&(f=a.mapping.maps[a.mapping.maps.length-1],l.push(new eoq(f,void 0,void 0,l.length+c.length))),o--,f&&i.appendMap(f,o)}else a.maybeStep(t.step);if(t.selection)return u=i?t.selection.map(i.slice(o)):t.selection,s=new eo$(this.items.slice(0,r).append(c.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:s,transform:a,selection:u}}addTransform(t,n,r,i){var o,a;let u=[],s=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<t.steps.length;d++){let f=t.steps[d].invert(t.docs[d]),p=new eoq(t.mapping.maps[d],f,n),h;(h=c&&c.merge(p))&&(p=h,d?u.pop():l=l.slice(0,l.length-1)),u.push(p),n&&(s++,n=void 0),i||(c=p)}let m=s-r.depth,g;return m>eoH&&(o=l,a=m,l=(o.forEach((t,n)=>{if(t.selection&&0==a--)return g=n,!1}),o.slice(g)),s-=m),new eo$(l.append(u),s)}remapping(t,n){let r=new Y1;return this.items.forEach((n,i)=>{let o=null!=n.mirrorOffset&&i-n.mirrorOffset>=t?r.maps.length-n.mirrorOffset:void 0;r.appendMap(n.map,o)},t,n),r}addMaps(t){return 0==this.eventCount?this:new eo$(this.items.append(t.map(t=>new eoq(t))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,a=t.steps.length,u=this.eventCount;this.items.forEach(t=>{t.selection&&u--},i);let s=n;this.items.forEach(n=>{let i=o.getMirror(--s);if(null==i)return;a=Math.min(a,i);let l=o.maps[i];if(n.step){let c=t.steps[i].invert(t.docs[i]),d=n.selection&&n.selection.map(o.slice(s+1,i));d&&u++,r.push(new eoq(l,c,d))}else r.push(new eoq(l))},i);let l=[];for(let c=n;c<a;c++)l.push(new eoq(o.maps[c]));let d=this.items.slice(0,i).append(l).append(r),f=new eo$(d,u);return f.emptyItemCount()>500&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((a,u)=>{if(u>=t)i.push(a),a.selection&&o++;else if(a.step){let s=a.step.map(n.slice(r)),l=s&&s.getMap();if(r--,l&&n.appendMap(l,r),s){let c=a.selection&&a.selection.map(n.slice(r));c&&o++;let d=new eoq(l.invert(),s,c),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else a.map&&r--},this.items.length,0),new eo$(eoz.from(i.reverse()),o)}}eo$.empty=new eo$(eoz.empty,0);class eoq{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new eoq(n.getMap().invert(),n,this.selection)}}}class eoK{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}let eoH=20;function eoG(t){let n=[];return t.forEach((t,r,i,o)=>n.push(i,o)),n}function eoZ(t,n){if(!t)return null;let r=[];for(let i=0;i<t.length;i+=2){let o=n.map(t[i],1),a=n.map(t[i+1],-1);o<=a&&r.push(o,a)}return r}function eoY(t,n,r,i){let o=eoX(n),a=eo0.get(n).spec.config,u=(i?t.undone:t.done).popEvent(n,o);if(!u)return;let s=u.selection.resolve(u.transform.doc),l=(i?t.done:t.undone).addTransform(u.transform,n.selection.getBookmark(),a,o),c=new eoK(i?l:u.remaining,i?u.remaining:l,null,0,-1);r(u.transform.setSelection(s).setMeta(eo0,{redo:i,historyState:c}).scrollIntoView())}let eoJ=!1,eoQ=null;function eoX(t){let n=t.plugins;if(eoQ!=n){eoJ=!1,eoQ=n;for(let r=0;r<n.length;r++)if(n[r].spec.historyPreserveItems){eoJ=!0;break}}return eoJ}let eo0=new JH("history"),eo1=new JH("closeHistory"),eo2=(t,n)=>{let r=eo0.getState(t);return!!r&&0!=r.done.eventCount&&(n&&eoY(r,t,n,!1),!0)},eo3=(t,n)=>{let r=eo0.getState(t);return!!r&&0!=r.undone.eventCount&&(n&&eoY(r,t,n,!0),!0)},eo4=eth.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:n})=>eo2(t,n),redo:()=>({state:t,dispatch:n})=>eo3(t,n)}),addProseMirrorPlugins(){return[function(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new J$({key:eo0,state:{init:()=>new eoK(eo$.empty,eo$.empty,null,0,-1),apply:(n,r,i)=>(function(t,n,r,i){let o=r.getMeta(eo0),a;if(o)return o.historyState;r.getMeta(eo1)&&(t=new eoK(t.done,t.undone,null,0,-1));let u=r.getMeta("appendedTransaction");if(0==r.steps.length)return t;if(u&&u.getMeta(eo0))return u.getMeta(eo0).redo?new eoK(t.done.addTransform(r,void 0,i,eoX(n)),t.undone,eoG(r.mapping.maps[r.steps.length-1]),t.prevTime,t.prevComposition):new eoK(t.done,t.undone.addTransform(r,void 0,i,eoX(n)),null,t.prevTime,t.prevComposition);if(!1===r.getMeta("addToHistory")||u&&!1===u.getMeta("addToHistory"))return(a=r.getMeta("rebased"))?new eoK(t.done.rebased(r,a),t.undone.rebased(r,a),eoZ(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new eoK(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),eoZ(t.prevRanges,r.mapping),t.prevTime,t.prevComposition);{let s=r.getMeta("composition"),l=0==t.prevTime||!u&&t.prevComposition!=s&&(t.prevTime<(r.time||0)-i.newGroupDelay||!function(t,n){if(!n)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((t,i)=>{for(let o=0;o<n.length;o+=2)t<=n[o+1]&&i>=n[o]&&(r=!0)}),r}(r,t.prevRanges)),c=u?eoZ(t.prevRanges,r.mapping):eoG(r.mapping.maps[r.steps.length-1]);return new eoK(t.done.addTransform(r,l?n.selection.getBookmark():void 0,i,eoX(n)),eo$.empty,c,r.time,s??t.prevComposition)}})(r,i,n,t)},config:t,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i="historyUndo"==r?eo2:"historyRedo"==r?eo3:null;return!!i&&(n.preventDefault(),i(t.state,t.dispatch))}}}})}(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),eo5=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,eo6=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,eo9=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,eo8=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,eo7=enq.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",ee5(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[enB({find:eo5,type:this.type}),enB({find:eo9,type:this.type})]},addPasteRules(){return[enG({find:eo6,type:this.type}),enG({find:eo8,type:this.type})]}});var eae,eat,ean=((eae=ean||{}).Document="document",eae.Mark="mark",eae.Node="node",eae),ear=((eat=ear||{}).Text="text",eat.Embed="embed",eat.Image="image",eat);class eai{constructor(t,n,r,i,o,a=!1){w(this,"extType","node"),w(this,"nodeType","text"),this.richTextNodeTypes=t,this.name=n,this.component=r,this.converter=i,this.placeholder=o,this.lockedFormat=a}}function eao(t){return t instanceof eai}class eaa extends eai{constructor(t,n,r,i,o){super(t,"heading",n,i,o),this.levels=r}}class eau extends eai{constructor(t,n,r,i){super(t,n,r,i)}}function eas(t){return t instanceof eau}let eal=enK.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",ee5(this.options.HTMLAttributes,t)]},renderText:()=>`
`,addCommands(){return{setHardBreak:()=>({commands:t,chain:n,state:r,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:t,storedMarks:o}=r;if(t.$from.parent.type.spec.isolating)return!1;let{keepMarks:a}=this.options,{splittableMarks:u}=i.extensionManager,s=o||t.$to.parentOffset&&t.$from.marks();return n().insertContent({type:this.name}).command(({tr:t,dispatch:n})=>{if(n&&s&&a){let r=s.filter(t=>u.includes(t.type.name));t.ensureMarks(r)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),eac={isHardBreak:t=>t.type.name===eal.name,children:{reduce(t,n,r){let i=r;return t.forEach((t,r,o)=>{i=n(i,t,o)}),i},map(t,n){return this.reduce(t,(t,r)=>[...t,n(r)],[])},exists(t,n){return this.reduce(t,(t,r)=>t||n(r),!1)},filter(t,n){return this.reduce(t,(t,r)=>[...t,...n(r)?[r]:[]],[])}},marks:{reduce(t,n,r){let i=r;return t.marks.forEach((t,r)=>{i=n(i,t,r)}),i},map(t,n){return this.reduce(t,(t,r)=>[...t,n(r)],[])},filter(t,n){return this.reduce(t,(t,r)=>[...t,...n(r)?[r]:[]],[])}}};function ead(){return{extensions:ela(),defaultTextConverter:void 0}}let eaf=eo7.extend({name:"bold"}),eap=new class{constructor(t,n,r){w(this,"extType",ean.Mark),w(this,"richTextNodeTypes",qJ.RichTextNodeType.strong),this.name=t,this.component=n,this.converter=r}}(eaf.name,eaf,{fromPrismic:t=>function(){var n;return null==(n=t.marks[eaf.name])?void 0:n.create()},toPrismic(){}}),eah=enK.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",ee5(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),eam=enq.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",ee5(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:n})=>{let r=enu(t,this.type);return!!Object.entries(r).some(([,t])=>!!t)||n.unsetMark(this.name)}}}}),eag=/^\s*([-+*])\s$/,eay=enK.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",ee5(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(eah.name,this.editor.getAttributes(eam.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=en$({find:eag,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=en$({find:eag,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(eam.name),editor:this.editor})),[t]}}),eav=enK.create({name:"doc",topNode:!0,content:"block+"}),eab=enK.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",ee5(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),eax=eab.extend({name:"listItem",content:"paragraph*",addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name)}}}),ea_={component:eax,converter:{fromPrismic:t=>function(n){var r;let i=esv.converter.fromPrismic(t)(n);if(i)return null==(r=t.nodes[eax.name])?void 0:r.create({},i)},toPrismic:(t,n)=>eac.children.reduce(t,(t,r)=>{let i=esv.converter.toPrismic(r),o=i instanceof Array?i.map(t=>({...t,type:n})):i?[{...i,type:n}]:[];return[...t,...o]},[])},placeholder:"List"},eaS="document",eaT=t=>eav.extend({name:eaS,content:t?"block+":"block"}),eaw=t=>({fromPrismic(n,r){function i(t,n){return!n&&r&&n0.TextBlock.is(t)?r(t):n}return function(r){var o;let a=r.value.reduce((r,o)=>{let a=t.find(t=>t.richTextNodeTypes.includes(o.type)),u=function(t){let{ext:n,block:r,schema:i}=t;if(n)switch(n.nodeType){case ear.Embed:return n0.EmbedBlock.is(r)?n.converter.fromPrismic(i)(r):void 0;case ear.Text:return n0.TextBlock.is(r)?n.converter.fromPrismic(i)(r):void 0;case ear.Image:return n0.ImageBlock.is(r)?n.converter.fromPrismic(i)(r):void 0;default:return}}({ext:a,block:o,schema:n}),s=r.slice(0,r.length-1),l=(0,f.Z$)(r),c=function(t){var n,r;let{node:i,block:o,nodeWithDefault:a,previousNode:u}=t;return i&&u?i.type.name===u.type.name&&(i.type.name===esC.name||i.type.name===eli.name)?{merged:!0,updatedNode:u.copy(u.content.append(i.content))}:{merged:!1,updatedNode:a(o,i)}:{merged:!1,updatedNode:i}}({node:u,block:o,nodeWithDefault:i,previousNode:l});return c.updatedNode?[...c.merged?s:r,c.updatedNode]:r},[]);return null==(o=n.nodes[eaS])?void 0:o.create({},a)}},toPrismic:n=>({__TYPE__:"StructuredTextContent",value:[...eac.children.reduce(n,(n,r)=>{let i=Object.values(t).find(t=>r.type.name===t.name),o=null==i?void 0:i.converter.toPrismic(r);return o||console.warn(`Cannot convert node of type '${r.type.name}'.`),o?[...n,...o instanceof Array?o:[o]]:n},[])]})}),eaO=new class{constructor(t,n,r){w(this,"extType","document"),this.name=t,this.component=n,this.converter=r}}(eaS,eaT,eaw),eak=eal.extend({name:"hard_break"}),eaC=`
`,eaI={fromPrismic:t=>function(n){var r;if(n===eaC)return null==(r=t.nodes[eak.name])?void 0:r.create({})},toPrismic(t){if(t.type.name===eak.name)return eaC}},eaM={isEmptyLine:t=>0===t.length,isFirst:t=>0===t},eaR={name:eak.name,component:eak,converter:eaI,splitTextToNodes:function(t,n){return function(r){let i=eaI.fromPrismic(t)(eaC);if(!i)return[r(n)];let o=n.split(eaC);return 1===o.length?n.length?[r(n)]:[i]:o.reduce((t,n,o)=>eaM.isFirst(o)?eaM.isEmptyLine(n)?t:[...t,r(n)]:eaM.isEmptyLine(n)?[...t,i]:[...t,i,r(n)],[])}}},eaE=eth.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new J$({key:new JH("placeholder"),props:{decorations:({doc:t,selection:n})=>{let r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=n,o=[];if(!r)return null;let a=t.type.createAndFill(),u=(null==a?void 0:a.sameMarkup(t))&&null===a.content.findDiffStart(t.content);return t.descendants((t,n)=>{let r=i>=n&&i<=n+t.nodeSize,a=!t.isLeaf&&!t.childCount;if((r||!this.options.showOnlyCurrent)&&a){let s=[this.options.emptyNodeClass];u&&s.push(this.options.emptyEditorClass);let l=X1.node(n,n+t.nodeSize,{class:s.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:n,hasAnchor:r}):this.options.placeholder});o.push(l)}return this.options.includeChildren}),X4.create(t,o)}}})]}}),eaj=t=>eaE.configure({includeChildren:!0,placeholder:n=>(function({props:t,params:n}){var r;let{editor:i,hasAnchor:o,node:a}=t,{placeholderByNodeType:u,unfocusedPlaceholder:s,nodeExtensions:l}=n,c=!eac.children.exists(i.state.doc,t=>t===a),d=i.isEditable,f=i.isFocused&&o,p=a.type.name!==esv.name,h=f||p||c,m=l.length>1,g=function(){if(c)return ea_.placeholder;let t=u[a.type.name];return"string"==typeof t?t:null==t?void 0:t(a.attrs)}();return s&&!f&&i.isEmpty?s:("Type '/' for commands"===g?d&&h&&m:d&&h)&&g||""})({props:n,params:t}),showOnlyCurrent:!1,showOnlyWhenEditable:!1});function eaA(t){return t.split("-")[1]}function eaN(t){return"y"===t?"height":"width"}function eaP(t){return t.split("-")[0]}function eaL(t){return["top","bottom"].includes(eaP(t))?"x":"y"}function eaF(t,n,r){let{reference:i,floating:o}=t,a=i.x+i.width/2-o.width/2,u=i.y+i.height/2-o.height/2,s=eaL(n),l=eaN(s),c=i[l]/2-o[l]/2,d=eaP(n),f="x"===s,p;switch(d){case"top":p={x:a,y:i.y-o.height};break;case"bottom":p={x:a,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:u};break;case"left":p={x:i.x-o.width,y:u};break;default:p={x:i.x,y:i.y}}switch(eaA(n)){case"start":p[s]-=c*(r&&f?-1:1);break;case"end":p[s]+=c*(r&&f?-1:1)}return p}let eaD=async(t,n,r)=>{let{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:u}=r,s=a.filter(Boolean),l=await (null==u.isRTL?void 0:u.isRTL(n)),c=await u.getElementRects({reference:t,floating:n,strategy:o}),{x:d,y:f}=eaF(c,i,l),p=i,h={},m=0;for(let g=0;g<s.length;g++){let{name:y,fn:v}=s[g],{x:b,y:x,data:_,reset:S}=await v({x:d,y:f,initialPlacement:i,placement:p,strategy:o,middlewareData:h,rects:c,platform:u,elements:{reference:t,floating:n}});if(d=b??d,f=x??f,h={...h,[y]:{...h[y],..._}},S&&m<=50){m++,"object"==typeof S&&(S.placement&&(p=S.placement),S.rects&&(c=!0===S.rects?await u.getElementRects({reference:t,floating:n,strategy:o}):S.rects),{x:d,y:f}=eaF(c,p,l)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:h}};function eaW(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function eaU(t,n){var r,i,o;void 0===n&&(n={});let{x:a,y:u,platform:s,rects:l,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=n,y="number"!=typeof g?{top:0,right:0,bottom:0,left:0,...g}:{top:g,right:g,bottom:g,left:g},v=c[m?"floating"===h?"reference":"floating":h],b=eaW(await s.getClippingRect({element:null==(r=await (null==s.isElement?void 0:s.isElement(v)))||r?v:v.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),x="floating"===h?{...l.floating,x:a,y:u}:l.reference,_=await (null==s.getOffsetParent?void 0:s.getOffsetParent(c.floating)),S=await (null==s.isElement?void 0:s.isElement(_))&&await (null==s.getScale?void 0:s.getScale(_))||{x:1,y:1},T=eaW(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:_,strategy:d}):x);return{top:(b.top-T.top+y.top)/S.y,bottom:(T.bottom-b.bottom+y.bottom)/S.y,left:(b.left-T.left+y.left)/S.x,right:(T.right-b.right+y.right)/S.x}}let eaz=Math.min,eaB=Math.max;function eaV(t,n,r){return eaB(t,eaz(n,r))}let ea$={left:"right",right:"left",bottom:"top",top:"bottom"};function eaq(t){return t.replace(/left|right|bottom|top/g,t=>ea$[t])}let eaK={start:"end",end:"start"};function eaH(t){return t.replace(/start|end/g,t=>eaK[t])}async function eaG(t,n){let{placement:r,platform:i,elements:o}=t,a=await (null==i.isRTL?void 0:i.isRTL(o.floating)),u=eaP(r),s=eaA(r),l="x"===eaL(r),c=["left","top"].includes(u)?-1:1,d=a&&l?-1:1,f="function"==typeof n?n(t):n,{mainAxis:p,crossAxis:h,alignmentAxis:m}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return s&&"number"==typeof m&&(h="end"===s?-1*m:m),l?{x:h*d,y:p*c}:{x:p*c,y:h*d}}function eaZ(t){return"x"===t?"y":"x"}function eaY(t){var n;return(null==(n=t.ownerDocument)?void 0:n.defaultView)||window}function eaJ(t){return eaY(t).getComputedStyle(t)}let eaQ=Math.min,eaX=Math.max,ea0=Math.round;function ea1(t){let n=eaJ(t),r=parseFloat(n.width),i=parseFloat(n.height),o=t.offsetWidth,a=t.offsetHeight,u=ea0(r)!==o||ea0(i)!==a;return u&&(r=o,i=a),{width:r,height:i,fallback:u}}function ea2(t){return ea9(t)?(t.nodeName||"").toLowerCase():""}let ea3;function ea4(){if(ea3)return ea3;let t=navigator.userAgentData;return t&&Array.isArray(t.brands)?ea3=t.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function ea5(t){return t instanceof eaY(t).HTMLElement}function ea6(t){return t instanceof eaY(t).Element}function ea9(t){return t instanceof eaY(t).Node}function ea8(t){if(typeof ShadowRoot>"u")return!1;let n=eaY(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function ea7(t){let{overflow:n,overflowX:r,overflowY:i,display:o}=eaJ(t);return/auto|scroll|overlay|hidden|clip/.test(n+i+r)&&!["inline","contents"].includes(o)}function eue(t){return["table","td","th"].includes(ea2(t))}function eut(t){let n=/firefox/i.test(ea4()),r=eaJ(t),i=r.backdropFilter||r.WebkitBackdropFilter;return"none"!==r.transform||"none"!==r.perspective||!!i&&"none"!==i||n&&"filter"===r.willChange||n&&!!r.filter&&"none"!==r.filter||["transform","perspective"].some(t=>r.willChange.includes(t))||["paint","layout","strict","content"].some(t=>{let n=r.contain;return null!=n&&n.includes(t)})}function eun(){return/^((?!chrome|android).)*safari/i.test(ea4())}function eur(t){return["html","body","#document"].includes(ea2(t))}function eui(t){return ea6(t)?t:t.contextElement}let euo={x:1,y:1};function eua(t){let n=eui(t);if(!ea5(n))return euo;let r=n.getBoundingClientRect(),{width:i,height:o,fallback:a}=ea1(n),u=(a?ea0(r.width):r.width)/i,s=(a?ea0(r.height):r.height)/o;return u&&Number.isFinite(u)||(u=1),s&&Number.isFinite(s)||(s=1),{x:u,y:s}}function euu(t,n,r,i){var o,a;void 0===n&&(n=!1),void 0===r&&(r=!1);let u=t.getBoundingClientRect(),s=eui(t),l=euo;n&&(i?ea6(i)&&(l=eua(i)):l=eua(t));let c=s?eaY(s):window,d=eun()&&r,f=(u.left+(d&&(null==(o=c.visualViewport)?void 0:o.offsetLeft)||0))/l.x,p=(u.top+(d&&(null==(a=c.visualViewport)?void 0:a.offsetTop)||0))/l.y,h=u.width/l.x,m=u.height/l.y;if(s){let g=eaY(s),y=i&&ea6(i)?eaY(i):i,v=g.frameElement;for(;v&&i&&y!==g;){let b=eua(v),x=v.getBoundingClientRect(),_=getComputedStyle(v);x.x+=(v.clientLeft+parseFloat(_.paddingLeft))*b.x,x.y+=(v.clientTop+parseFloat(_.paddingTop))*b.y,f*=b.x,p*=b.y,h*=b.x,m*=b.y,f+=x.x,p+=x.y,v=eaY(v).frameElement}}return{width:h,height:m,top:p,right:f+h,bottom:p+m,left:f,x:f,y:p}}function eus(t){return((ea9(t)?t.ownerDocument:t.document)||window.document).documentElement}function eul(t){return ea6(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function euc(t){return euu(eus(t)).left+eul(t).scrollLeft}function eud(t){if("html"===ea2(t))return t;let n=t.assignedSlot||t.parentNode||ea8(t)&&t.host||eus(t);return ea8(n)?n.host:n}function euf(t,n){var r;void 0===n&&(n=[]);let i=function t(n){let r=eud(n);return eur(r)?r.ownerDocument.body:ea5(r)&&ea7(r)?r:t(r)}(t),o=i===(null==(r=t.ownerDocument)?void 0:r.body),a=eaY(i);return o?n.concat(a,a.visualViewport||[],ea7(i)?i:[]):n.concat(i,euf(i))}function eup(t,n,r){let i;if("viewport"===n)i=function(t,n){let r=eaY(t),i=eus(t),o=r.visualViewport,a=i.clientWidth,u=i.clientHeight,s=0,l=0;if(o){a=o.width,u=o.height;let c=eun();(!c||c&&"fixed"===n)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:a,height:u,x:s,y:l}}(t,r);else if("document"===n)i=function(t){let n=eus(t),r=eul(t),i=t.ownerDocument.body,o=eaX(n.scrollWidth,n.clientWidth,i.scrollWidth,i.clientWidth),a=eaX(n.scrollHeight,n.clientHeight,i.scrollHeight,i.clientHeight),u=-r.scrollLeft+euc(t),s=-r.scrollTop;return"rtl"===eaJ(i).direction&&(u+=eaX(n.clientWidth,i.clientWidth)-o),{width:o,height:a,x:u,y:s}}(eus(t));else if(ea6(n))i=function(t,n){let r=euu(t,!0,"fixed"===n),i=r.top+t.clientTop,o=r.left+t.clientLeft,a=ea5(t)?eua(t):{x:1,y:1},u=t.clientWidth*a.x,s=t.clientHeight*a.y,l=o*a.x,c=i*a.y;return{width:u,height:s,x:l,y:c}}(n,r);else{let o={...n};if(eun()){var a,u;let s=eaY(t);o.x-=(null==(a=s.visualViewport)?void 0:a.offsetLeft)||0,o.y-=(null==(u=s.visualViewport)?void 0:u.offsetTop)||0}i=o}return eaW(i)}function euh(t,n){return ea5(t)&&"fixed"!==eaJ(t).position?n?n(t):t.offsetParent:null}function eum(t,n){let r=eaY(t),i=euh(t,n);for(;i&&eue(i)&&"static"===eaJ(i).position;)i=euh(i,n);return i&&("html"===ea2(i)||"body"===ea2(i)&&"static"===eaJ(i).position&&!eut(i))?r:i||function(t){let n=eud(t);for(;ea5(n)&&!eur(n);){if(eut(n))return n;n=eud(n)}return null}(t)||r}let eug={getClippingRect:function(t){let{element:n,boundary:r,rootBoundary:i,strategy:o}=t,a=[..."clippingAncestors"===r?function(t,n){let r=n.get(t);if(r)return r;let i=euf(t).filter(t=>ea6(t)&&"body"!==ea2(t)),o=null,a="fixed"===eaJ(t).position,u=a?eud(t):t;for(;ea6(u)&&!eur(u);){let s=eaJ(u),l=eut(u);"fixed"===s.position?o=null:(a?l||o:!(!l&&"static"===s.position&&o&&["absolute","fixed"].includes(o.position)))?o=s:i=i.filter(t=>t!==u),u=eud(u)}return n.set(t,i),i}(n,this._c):[].concat(r),i],u=a[0],s=a.reduce((t,r)=>{let i=eup(n,r,o);return t.top=eaX(i.top,t.top),t.right=eaQ(i.right,t.right),t.bottom=eaQ(i.bottom,t.bottom),t.left=eaX(i.left,t.left),t},eup(n,u,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:n,offsetParent:r,strategy:i}=t,o=ea5(r),a=eus(r);if(r===a)return n;let u={scrollLeft:0,scrollTop:0},s={x:1,y:1},l={x:0,y:0};if((o||!o&&"fixed"!==i)&&(("body"!==ea2(r)||ea7(a))&&(u=eul(r)),ea5(r))){let c=euu(r);s=eua(r),l.x=c.x+r.clientLeft,l.y=c.y+r.clientTop}return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-u.scrollLeft*s.x+l.x,y:n.y*s.y-u.scrollTop*s.y+l.y}},isElement:ea6,getDimensions:function(t){return ea5(t)?ea1(t):t.getBoundingClientRect()},getOffsetParent:eum,getDocumentElement:eus,getScale:eua,async getElementRects(t){let{reference:n,floating:r,strategy:i}=t,o=this.getOffsetParent||eum,a=this.getDimensions;return{reference:function(t,n,r){let i=ea5(n),o=eus(n),a=euu(t,!0,"fixed"===r,n),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(i||!i&&"fixed"!==r){if(("body"!==ea2(n)||ea7(o))&&(u=eul(n)),ea5(n)){let l=euu(n,!0);s.x=l.x+n.clientLeft,s.y=l.y+n.clientTop}else o&&(s.x=euc(o))}return{x:a.left+u.scrollLeft-s.x,y:a.top+u.scrollTop-s.y,width:a.width,height:a.height}}(n,await o(r),i),floating:{x:0,y:0,...await a(r)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===eaJ(t).direction};function euy(t,n,r,i){void 0===i&&(i={});let{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=!0,animationFrame:s=!1}=i,l=o&&!s,c=l||a?[...ea6(t)?euf(t):t.contextElement?euf(t.contextElement):[],...euf(n)]:[];c.forEach(t=>{l&&t.addEventListener("scroll",r,{passive:!0}),a&&t.addEventListener("resize",r)});let d=null;if(u){let f=!0;d=new ResizeObserver(()=>{f||r(),f=!1}),ea6(t)&&!s&&d.observe(t),ea6(t)||!t.contextElement||s||d.observe(t.contextElement),d.observe(n)}let p,h=s?euu(t):null;return s&&function n(){let i=euu(t);h&&(i.x!==h.x||i.y!==h.y||i.width!==h.width||i.height!==h.height)&&r(),h=i,p=requestAnimationFrame(n)}(),r(),()=>{var t;c.forEach(t=>{l&&t.removeEventListener("scroll",r),a&&t.removeEventListener("resize",r)}),null==(t=d)||t.disconnect(),d=null,s&&cancelAnimationFrame(p)}}let euv=(t,n,r)=>{let i=new Map,o={platform:eug,...r},a={...o.platform,_c:i};return eaD(t,n,{...o,platform:a})};var eub="u">typeof document?o.useLayoutEffect:o.useEffect;function eux(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if("function"==typeof t&&t.toString()===n.toString())return!0;let r,i,o;if(t&&n&&"object"==typeof t){if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!eux(t[i],n[i]))return!1;return!0}if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){let a=o[i];if(!("_owner"===a&&t.$$typeof)&&!eux(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}function eu_(t){let n=o.useRef(t);return eub(()=>{n.current=t}),n}var euS="u">typeof document?o.useLayoutEffect:o.useEffect;let euT=!1,euw=0,euO=()=>"floating-ui-"+euw++,euk=(H4||(H4=r.t(o,2)))["useId".toString()],euC=euk??function(){let[t,n]=o.useState(()=>euT?euO():void 0);return euS(()=>{null==t&&n(euO())},[]),o.useEffect(()=>{euT||(euT=!0)},[]),t},euI=o.createContext(null),euM=o.createContext(null),euR=()=>{var t,n;return null!=(t=null==(n=o.useContext(euI))?void 0:n.id)?t:null},euE=()=>o.useContext(euM);function euj(t){var n;return null!=(n=null==t?void 0:t.ownerDocument)?n:document}function euA(t){var n;return null!=(n=euj(t).defaultView)?n:window}function euN(t){return!!t&&t instanceof euA(t).Element}let euP=(H4||(H4=r.t(o,2)))["useInsertionEffect".toString()];function euL(t){let n=o.useRef(()=>{});return euP?euP(()=>{n.current=t}):n.current=t,o.useCallback(function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return null==n.current?void 0:n.current(...r)},[])}function euF(t,n,r){let i=new Map;return{..."floating"===r&&{tabIndex:-1},...t,...n.map(t=>t?t[r]:null).concat(t).reduce((t,n)=>(n&&Object.entries(n).forEach(n=>{let[r,o]=n;if(0===r.indexOf("on")){if(i.has(r)||i.set(r,[]),"function"==typeof o){var a;null==(a=i.get(r))||a.push(o),t[r]=function(){for(var t,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];null==(t=i.get(r))||t.forEach(t=>t(...o))}}}else t[r]=o}),t),{})}}function euD(t,n){var r,i;let o=null!=(r=t.filter(t=>{var r;return t.parentId===n&&(null==(r=t.context)?void 0:r.open)}))?r:[],a=o;for(;a.length;)a=null!=(i=t.filter(t=>{var n;return null==(n=a)?void 0:n.some(n=>{var r;return t.parentId===n.id&&(null==(r=t.context)?void 0:r.open)})}))?i:[],o=o.concat(a);return o}function euW(t){let n=t.activeElement;for(;(null==(r=n)||null==(i=r.shadowRoot)?void 0:i.activeElement)!=null;){var r,i;n=n.shadowRoot.activeElement}return n}function euU(t){t.preventDefault(),t.stopPropagation()}function euz(t){let n=(0,o.useRef)();return euS(()=>{n.current=t},[t]),n.current}let euB=function(t,n){let{open:r}=t,{enabled:i=!0,role:o="dialog"}=void 0===n?{}:n,a=euC(),u=euC(),s={id:a,role:o};return i?"tooltip"===o?{reference:{"aria-describedby":r?a:void 0},floating:s}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===o?"dialog":o,"aria-controls":r?a:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:u}},floating:{...s,..."menu"===o&&{"aria-labelledby":u}}}:{}};function euV(t,n){return null!=n&&("composedPath"in t?t.composedPath().includes(n):null!=t.target&&n.contains(t.target))}let eu$=function(t,n){let{open:r,onOpenChange:i,refs:a,events:u,nodeId:s}=t,{enabled:l=!0,escapeKey:c=!0,outsidePointerDown:d=!0,referencePointerDown:f=!1,ancestorScroll:p=!1,bubbles:h=!0}=void 0===n?{}:n,m=euE(),g=null!=euR(),y=o.useRef(!1);return o.useEffect(()=>{if(!r||!l)return;function t(t){"Escape"!==t.key||!h&&m&&euD(m.nodesRef.current,s).length>0||(u.emit("dismiss",{preventScroll:!1}),i(!1))}function n(t){var n,r;let o=y.current;if(y.current=!1,o)return;let l="composedPath"in t?t.composedPath()[0]:t.target;if(euN(l)&&a.floating.current){let c=null!=(r=a.floating.current.ownerDocument.defaultView)?r:window,d=l.scrollWidth>l.clientWidth,f=l.scrollHeight>l.clientHeight,p=f&&t.offsetX>l.clientWidth;if(f&&"rtl"===c.getComputedStyle(l).direction&&(p=t.offsetX<=l.offsetWidth-l.clientWidth),p||d&&t.offsetY>l.clientHeight)return}let v=m&&euD(m.nodesRef.current,s).some(n=>{var r;return euV(t,null==(r=n.context)?void 0:r.refs.floating.current)});euV(t,a.floating.current)||euV(t,a.domReference.current)||v||!h&&m&&euD(m.nodesRef.current,s).length>0||(u.emit("dismiss",!!g&&{preventScroll:!0}),i(!1))}function o(){i(!1)}let f=euj(a.floating.current);c&&f.addEventListener("keydown",t),d&&f.addEventListener("pointerdown",n);let v=(p?[...euN(a.reference.current)?euf(a.reference.current):[],...euN(a.floating.current)?euf(a.floating.current):[]]:[]).filter(t=>{var n;return t!==(null==(n=f.defaultView)?void 0:n.visualViewport)});return v.forEach(t=>t.addEventListener("scroll",o,{passive:!0})),()=>{c&&f.removeEventListener("keydown",t),d&&f.removeEventListener("pointerdown",n),v.forEach(t=>t.removeEventListener("scroll",o))}},[c,d,u,m,s,r,i,p,l,h,a,g]),l?{reference:{onPointerDown(){f&&(u.emit("dismiss"),i(!1))}},floating:{onPointerDownCapture(){y.current=!0}}}:{}},euq="ArrowUp",euK="ArrowDown",euH="ArrowLeft",euG="ArrowRight";function euZ(t,n,r){return Math.floor(t/n)!==r}function euY(t,n){return n<0||n>=t.current.length}function euJ(t,n){let{startingIndex:r=-1,decrement:i=!1,disabledIndices:o,amount:a=1}=void 0===n?{}:n,u=t.current,s=r;do{var l,c;s+=i?-a:a}while(s>=0&&s<=u.length-1&&(o?o.includes(s):null==u[s]||null!=(l=u[s])&&l.hasAttribute("disabled")||(null==(c=u[s])?void 0:c.getAttribute("aria-disabled"))==="true"));return s}function euQ(t,n,r){switch(t){case"vertical":return n;case"horizontal":return r;default:return n||r}}function euX(t,n){return euQ(n,t===euq||t===euK,t===euH||t===euG)}function eu0(t,n,r){return euQ(n,t===euK,r?t===euH:t===euG)||"Enter"===t||" "==t||""===t}function eu1(t,n){return euJ(t,{disabledIndices:n})}function eu2(t,n){return euJ(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:n})}let eu3=function(t,n){let{open:r,onOpenChange:i,refs:a}=t,{listRef:u,activeIndex:s,onNavigate:l=()=>{},enabled:c=!0,selectedIndex:d=null,allowEscape:f=!1,loop:p=!1,nested:h=!1,rtl:m=!1,virtual:g=!1,focusItemOnOpen:y="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:b=!0,disabledIndices:x,orientation:_="vertical",cols:S=1}=void 0===n?{listRef:{current:[]},activeIndex:null,onNavigate(){}}:n,T=euR(),w=euE(),O=euz(r),k=euL(l),C=euL(euz(l)),I=o.useRef(y),M=o.useRef(d??-1),R=o.useRef(null),E=function(t){let n=(0,o.useRef)(t);return euS(()=>{n.current=t}),n}(x),j=o.useRef(!1),A=o.useRef(-1),[N,P]=o.useState(),L=o.useCallback((t,n)=>{A.current=requestAnimationFrame(()=>{var r,i;g?P(null==(r=t.current[n.current])?void 0:r.id):null==(i=t.current[n.current])||i.focus({preventScroll:!0})})},[g]);function F(t){var n,o,s,l;if(j.current=!0,h&&(n=t.key,euQ(_,m?n===euG:n===euH,n===euq))){euU(t),i(!1),(l=a.domReference.current)&&l instanceof euA(l).HTMLElement&&a.domReference.current.focus();return}let c=M.current,d=eu1(u,x),y=eu2(u,x);if("Home"===t.key&&(M.current=d,k(M.current)),"End"===t.key&&(M.current=y,k(M.current)),S>1){let v=M.current;if(t.key===euq){if(euU(t),-1===v)M.current=y;else if(M.current=euJ(u,{startingIndex:v,amount:S,decrement:!0,disabledIndices:x}),p&&(v-S<d||M.current<0)){let b=v%S,T=y%S,w=y-(T-b);T===b?M.current=y:M.current=T>b?w:w-S}euY(u,M.current)&&(M.current=v),k(M.current)}if(t.key===euK&&(euU(t),-1===v?M.current=d:(M.current=euJ(u,{startingIndex:v,amount:S,disabledIndices:x}),p&&v+S>y&&(M.current=euJ(u,{startingIndex:v%S-S,amount:S,disabledIndices:x}))),euY(u,M.current)&&(M.current=v),k(M.current)),"both"===_){let O=Math.floor(v/S);t.key===euG&&(euU(t),v%S!=S-1?(M.current=euJ(u,{startingIndex:v,disabledIndices:x}),p&&euZ(M.current,S,O)&&(M.current=euJ(u,{startingIndex:v-v%S-1,disabledIndices:x}))):p&&(M.current=euJ(u,{startingIndex:v-v%S-1,disabledIndices:x})),euZ(M.current,S,O)&&(M.current=v)),t.key===euH&&(euU(t),v%S!=0?(M.current=euJ(u,{startingIndex:v,disabledIndices:x,decrement:!0}),p&&euZ(M.current,S,O)&&(M.current=euJ(u,{startingIndex:v+(S-v%S),decrement:!0,disabledIndices:x}))):p&&(M.current=euJ(u,{startingIndex:v+(S-v%S),decrement:!0,disabledIndices:x})),euZ(M.current,S,O)&&(M.current=v)),euY(u,M.current)&&(p&&Math.floor(y/S)===O?M.current=t.key===euH?y:euJ(u,{startingIndex:v-v%S-1,disabledIndices:x}):M.current=v),k(M.current);return}}if(euX(t.key,_)){if(euU(t),r&&!g&&euW(t.currentTarget.ownerDocument)===t.currentTarget){M.current=eu0(t.key,_,m)?d:y,k(M.current);return}eu0(t.key,_,m)?p?M.current=c>=y?f&&c!==u.current.length?-1:d:euJ(u,{startingIndex:c,disabledIndices:x}):M.current=Math.min(y,euJ(u,{startingIndex:c,disabledIndices:x})):p?M.current=c<=d?f&&-1!==c?u.current.length:y:euJ(u,{startingIndex:c,decrement:!0,disabledIndices:x}):M.current=Math.max(d,euJ(u,{startingIndex:c,decrement:!0,disabledIndices:x})),euY(u,M.current)?k(null):k(M.current)}}return euS(()=>{c&&(!O&&r&&I.current&&null!=d&&k(d),O&&!r&&(cancelAnimationFrame(A.current),M.current=-1,C(null)))},[r,O,d,u,L,c,k,C]),euS(()=>{c&&r&&(null==s?null==d&&(O&&(M.current=-1,L(u,M)),!O&&I.current&&(null!=R.current||!0===I.current&&null==R.current)&&(M.current=null==R.current||eu0(R.current,_,m)||h?eu1(u,E.current):eu2(u,E.current),k(M.current),L(u,M))):euY(u,s)||(M.current=s,L(u,M)))},[r,O,s,d,h,u,k,L,c,f,_,m,g,E]),euS(()=>{if(c&&!r&&O){var t,n;let i=null==w||null==(t=w.nodesRef.current.find(t=>t.id===T))||null==(n=t.context)?void 0:n.refs.floating.current;i&&!i.contains(euW(euj(i)))&&i.focus({preventScroll:!0})}},[c,r,O,w,T]),euS(()=>{R.current=null}),c?{reference:{...g&&r&&null!=s&&{"aria-activedescendant":N},onKeyDown(t){if(j.current=!0,g&&r)return F(t);if((0===t.key.indexOf("Arrow")||"Enter"===t.key||" "===t.key||""===t.key)&&(R.current=t.key),h){var n,o,a;n=t.key,euQ(_,m?n===euH:n===euG,n===euK)&&(euU(t),r?(M.current=eu1(u,x),k(M.current)):i(!0));return}euX(t.key,_)&&(null!=d&&(M.current=d),euU(t),!r&&b?i(!0):F(t),r&&k(M.current))}},floating:{"aria-orientation":"both"===_?void 0:_,...g&&null!=s&&{"aria-activedescendant":N},onKeyDown:F,onPointerMove(){j.current=!1}},item:{onFocus(t){let{currentTarget:n}=t,r=u.current.indexOf(n);-1!==r&&k(r)},onClick(t){let{currentTarget:n}=t;return n.focus({preventScroll:!0})},...v&&{onMouseMove(t){let{currentTarget:n}=t;if(n){let r=u.current.indexOf(n);-1!==r&&k(r)}},onPointerLeave(){if(!j.current&&(M.current=-1,L(u,M),k(null),!g)){var t;null==(t=a.floating.current)||t.focus({preventScroll:!0})}}}}}:{}},eu4=new JH("suggestion"),eu5=enK.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",ee5(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eu6={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",preformatted:"preformatted",strong:"strong",em:"em",listItem:"list-item",oListItem:"o-list-item",list:"group-list-item",oList:"group-o-list-item",image:"image",embed:"embed",hyperlink:"hyperlink",label:"label",span:"span"},eu9=()=>(++eu9.i).toString();eu9.i=0;let eu8=t=>{let n=est(t),r=[];for(let i=0;i<n.length;i++)r.push(esn(n[i]));return{key:eu9(),children:r}},eu7=(t,n=[])=>({key:eu9(),type:t.type,text:"text"in t?t.text:void 0,node:t,children:n}),ese=t=>eu7({type:eu6.span,text:t,spans:[]}),est=t=>{let n=t.slice(0);for(let r=0;r<n.length;r++){let i=n[r];if(i.type===eu6.listItem||i.type===eu6.oListItem){let o=[i];for(;n[r+1]&&n[r+1].type===i.type;)o.push(n[r+1]),n.splice(r,1);i.type===eu6.listItem?n[r]={type:eu6.list,items:o}:n[r]={type:eu6.oList,items:o}}}return n},esn=t=>{if("text"in t)return eu7(t,esr(t.spans,t));if("items"in t){let n=[];for(let r=0;r<t.items.length;r++)n.push(esn(t.items[r]));return eu7(t,n)}return eu7(t)},esr=(t,n,r)=>{if(!t.length)return[ese(n.text)];let i=t.slice(0);i.sort((t,n)=>t.start-n.start||n.end-t.end);let o=[];for(let a=0;a<i.length;a++){let u=i[a],s=r&&r.start||0,l=u.start-s,c=u.end-s,d=n.text.slice(l,c),f=[];for(let p=a;p<i.length;p++){let h=i[p];h!==u&&h.start>=u.start&&h.end<=u.end&&(f.push(h),i.splice(p,1),p--)}0===a&&l>0&&o.push(ese(n.text.slice(0,l)));let m={...u,text:d};o.push(eu7(m,esr(f,{...n,text:d},u))),c<n.text.length&&o.push(ese(n.text.slice(c,i[a+1]?i[a+1].start-s:void 0)))}return o},esi=(t,n)=>eso(eu8(t).children,n),eso=(t,n)=>{let r=[];for(let i=0;i<t.length;i++){let o=t[i],a=n(o.type,o.node,o.text,eso(o.children,n),o.key);null!=a&&r.push(a)}return r};eu6.listItem,eu6.oListItem,eu6.list,eu6.oList;let esa=enK.create({name:"text",group:"inline"});function esu(t){return t.sort((t,n)=>t.start-n.start)}let ess={fromPrismic:t=>n=>{switch(n.type){case"hyperlink":return es5.converter.fromPrismic(t)(n);case"em":return es3.converter.fromPrismic(t)(n);case"strong":return eap.converter.fromPrismic(t)(n);default:return}},toPrismic(t,n,r){let i=elo.find(n=>t.type.name===n.name);if(!i)throw Error(`Invalid mark extension '${t.type.name}'.`);let o=i.richTextNodeTypes;if("hyperlink"!==o)return{type:o,start:n,end:r};let a=i.converter.toPrismic(t);return{type:o,start:n,end:r,data:a}}},esl=esa.extend({name:"text"}),esc={name:esl.name,component:esl,converter:{fromPrismic:t=>function(n,r,i=!1){let o={type:n,text:r.content.text,spans:r.content.spans||[]};return esi([o],function(t,n=!1){return(r,i,o,a)=>{if("span"===r&&o&&o.length)return n?[t.text(o)]:eaR.splitTextToNodes(t,o)(n=>t.text(n));{let u=ess.fromPrismic(t)(i);return u?a.flat().map(t=>t.mark([...t.marks,u].sort((t,n)=>t.type.name.localeCompare(n.type.name)))):a.flat()}}}(t,i))[0]},toPrismic(t,n,r){let i=eac.children.reduce(t,(t,n)=>{let r=n.type.name===eaR.name?eaR.converter.toPrismic(n):n.textContent,i=r?t.text+r:t.text,o=t.text.length,a=i.length,u=n.marks.length?eac.marks.map(n,t=>ess.toPrismic(t,o,a)):void 0;return{...t,text:i,spans:u?[...t.spans,...u]:t.spans}},{text:"",spans:[]});return{type:n,content:{text:i.text,spans:[...function(t){var n;let r=t.reduce((t,n)=>{let r=(t[n.type]||[]).concat(n);return{...t,[n.type]:r}},{}),i=Object.entries(r).map(([t,n])=>esu(n).reduce((t,n)=>{if(!t.length)return[n];let r=t.length-1,i=t[r];return i?i.end<n.start?[...t,n]:i.end>=n.end?t:[...t.slice(0,r),{...i,end:n.end}]:t},[])).flat();return esu(i)}(i.spans)].sort((t,n)=>t.type.localeCompare(n.type))},...r}}}};var esd,esf=((esd=esf||{}).LeftToRight="ltr",esd.RightToLeft="rtl",esd);let esp=qJ.RichTextNodeType.rtl,esh=eth.create({name:"textDirection",addOptions:()=>({supportedExtensionNames:[]}),addGlobalAttributes(){return[{types:this.options.supportedExtensionNames,attributes:{dir:{default:"ltr",parseHTML:t=>t.getAttribute("dir"),renderHTML:t=>({dir:"ltr"===t.dir?"ltr":"rtl"})}}}]},addCommands(){return{setDirection:t=>({commands:n})=>"rtl"===t?n.setRightToLeft():n.setLeftToRight(),toggleDirection:t=>({commands:n})=>n.setDirection("rtl"===t?"ltr":"rtl"),setRightToLeft:()=>({commands:t})=>this.options.supportedExtensionNames.every(n=>t.updateAttributes(n,{dir:"rtl"})),setLeftToRight:()=>({commands:t})=>this.options.supportedExtensionNames.every(n=>t.resetAttributes(n,"dir"))}},addKeyboardShortcuts(){return{"Mod-Shift-r":()=>this.editor.commands.setRightToLeft(),"Mod-Shift-l":()=>this.editor.commands.setLeftToRight()}}}),esm={parseNodeAttrsDirection:t=>"rtl"===t.dir?"rtl":"ltr",fromPrismic(t){let n="rtl"===t.direction?"rtl":"ltr";return{dir:n}},toPrismic(t){return{direction:this.parseNodeAttrsDirection(t.attrs)}}},esg=eu5.extend({name:"paragraph",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",ee5(this.options.HTMLAttributes,t),0]}}),esy=new eai([qJ.RichTextNodeType.paragraph],esg.name,esg,{fromPrismic:t=>function(n){var r;let i=esc.converter.fromPrismic(t)(esg.name,n);return null==(r=t.nodes[esg.name])?void 0:r.create(esm.fromPrismic(n),i)},toPrismic:t=>esc.converter.toPrismic(t,qJ.RichTextNodeType.paragraph,esm.toPrismic(t))},"Type '/' for commands"),esv=esy,esb=["ArrowDown","ArrowUp","End","Home"],esx=["Enter"],es_=["Escape",...esb,...esx],esS=eth.create({name:"slash-commands",addOptions:()=>({nodeTypes:[]}),addProseMirrorPlugins(){let t=elf(elu,this.options.nodeTypes);return t.length>1?[function({pluginKey:t=eu4,editor:n,char:r="@",allowSpaces:i=!1,allowedPrefixes:o=[" "],startOfLine:a=!1,decorationTag:u="span",decorationClass:s="suggestion",command:l=()=>null,items:c=()=>[],render:d=()=>({}),allow:f=()=>!0}){let p,h=null==d?void 0:d(),m=new J$({key:t,view(){return{update:async(t,r)=>{var i,o,a,u,s,d,f;let m=null===(i=this.key)||void 0===i?void 0:i.getState(r),g=null===(o=this.key)||void 0===o?void 0:o.getState(t.state),y=m.active&&g.active&&m.range.from!==g.range.from,v=!m.active&&g.active,b=m.active&&!g.active,x=!v&&!b&&m.query!==g.query,_=v||y,S=x&&!y,T=b||y;if(!_&&!S&&!T)return;let w=T&&!_?m:g,O=t.dom.querySelector(`[data-decoration-id="${w.decorationId}"]`);p={editor:n,range:w.range,query:w.query,text:w.text,items:[],command(t){l({editor:n,range:w.range,props:t})},decorationNode:O,clientRect:O?()=>{var r;let{decorationId:i}=null===(r=this.key)||void 0===r?void 0:r.getState(n.state),o=t.dom.querySelector(`[data-decoration-id="${i}"]`);return(null==o?void 0:o.getBoundingClientRect())||null}:null},_&&(null===(a=null==h?void 0:h.onBeforeStart)||void 0===a||a.call(h,p)),S&&(null===(u=null==h?void 0:h.onBeforeUpdate)||void 0===u||u.call(h,p)),(S||_)&&(p.items=await c({editor:n,query:w.query})),T&&(null===(s=null==h?void 0:h.onExit)||void 0===s||s.call(h,p)),S&&(null===(d=null==h?void 0:h.onUpdate)||void 0===d||d.call(h,p)),_&&(null===(f=null==h?void 0:h.onStart)||void 0===f||f.call(h,p))},destroy(){var t;p&&(null===(t=null==h?void 0:h.onExit)||void 0===t||t.call(h,p))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(t,u,s,l){let{isEditable:c}=n,{composing:d}=n.view,{selection:p}=t,{empty:h,from:m}=p,g={...u};if(g.composing=d,c&&(h||n.view.composing)){(m<u.range.from||m>u.range.to)&&!d&&!u.composing&&(g.active=!1);let y=function(t){var n,r;let{char:i,allowSpaces:o,allowedPrefixes:a,startOfLine:u,$position:s}=t,l=i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),c=RegExp(`\\s${l}$`),d=u?"^":"",f=o?RegExp(`${d}${l}.*?(?=\\s${l}|$)`,"gm"):RegExp(`${d}(?:^)?${l}[^\\s${l}]*`,"gm"),p=(null===(n=s.nodeBefore)||void 0===n?void 0:n.isText)&&s.nodeBefore.text;if(!p)return null;let h=s.pos-p.length,m=Array.from(p.matchAll(f)).pop();if(!m||void 0===m.input||void 0===m.index)return null;let g=m.input.slice(Math.max(0,m.index-1),m.index),y=RegExp(`^[${null==a?void 0:a.join("")}\0]?$`).test(g);if(null!==a&&!y)return null;let v=h+m.index,b=v+m[0].length;return o&&c.test(p.slice(b-1,b+1))&&(m[0]+=" ",b+=1),v<s.pos&&b>=s.pos?{range:{from:v,to:b},query:m[0].slice(i.length),text:m[0]}:null}({char:r,allowSpaces:i,allowedPrefixes:o,startOfLine:a,$position:p.$from}),v=`id_${Math.floor(4294967295*Math.random())}`;y&&f({editor:n,state:l,range:y.range})?(g.active=!0,g.decorationId=u.decorationId?u.decorationId:v,g.range=y.range,g.query=y.query,g.text=y.text):g.active=!1}else g.active=!1;return g.active||(g.decorationId=null,g.range={from:0,to:0},g.query=null,g.text=null),g}},props:{handleKeyDown(t,n){var r;let{active:i,range:o}=m.getState(t.state);return i&&(null===(r=null==h?void 0:h.onKeyDown)||void 0===r?void 0:r.call(h,{view:t,event:n,range:o}))||!1},decorations(t){let{active:n,range:r,decorationId:i}=m.getState(t);return n?X4.create(t.doc,[X1.inline(r.from,r.to,{nodeName:u,class:s,"data-decoration-id":i})]):null}}});return m}({allowSpaces:!0,char:"/",editor:this.editor,startOfLine:!0,allow({state:t}){let n=t.selection.$from;return n.parent.type.name===esv.name&&1===n.depth},command({editor:t,props:n,range:r}){n.runCommands(t,{deleteRange:r})},items({query:n}){let r=n.toLocaleLowerCase().trim();return t.filter(t=>{var n,i;return(null==(n=t.shortText)?void 0:n.toLocaleLowerCase().includes(r))||(null==(i=t.text)?void 0:i.toLocaleLowerCase().includes(r))})},render(){let t;return{onStart(n){t=new eiP(esT,{editor:n.editor,props:n}),document.body.appendChild(t.element)},onUpdate(n){null==t||t.updateProps(n)},onKeyDown({event:n}){var r;return Boolean(es_.includes(n.key)&&(null==(r=null==t?void 0:t.ref)?void 0:r.handleKeyDown(n)))},onExit(){null==t||t.destroy(),null==t||t.element.remove()}}}})]:[]}}),esT=(0,o.forwardRef)(function(t,n){var r,i,a,l,c;let{command:d,decorationNode:f,editor:p,items:h}=t,[m,g]=(0,o.useState)(!0),y=parseFloat(u.TV.space[0]),{context:v,floating:b,reference:_,x:S,y:T}=function(t){let{open:n=!1,onOpenChange:r,whileElementsMounted:i,placement:a,middleware:u,strategy:s,nodeId:l}=void 0===t?{}:t,[c,d]=o.useState(null),f=euE(),p=o.useRef(null),h=o.useRef({}),m=o.useState(()=>(function(){let t=new Map;return{emit(n,r){var i;null==(i=t.get(n))||i.forEach(t=>t(r))},on(n,r){t.set(n,[...t.get(n)||[],r])},off(n,r){t.set(n,(t.get(n)||[]).filter(t=>t!==r))}}})())[0],g=function(t){void 0===t&&(t={});let{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:a,whileElementsMounted:u,open:s}=t,[l,c]=o.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[d,f]=o.useState(i);eux(d,i)||f(i);let p=o.useRef(null),h=o.useRef(null),m=o.useRef(l),g=eu_(u),y=eu_(a),[v,b]=o.useState(null),[_,S]=o.useState(null),T=o.useCallback(t=>{p.current!==t&&(p.current=t,b(t))},[]),w=o.useCallback(t=>{h.current!==t&&(h.current=t,S(t))},[]),O=o.useCallback(()=>{if(!p.current||!h.current)return;let t={placement:n,strategy:r,middleware:d};y.current&&(t.platform=y.current),euv(p.current,h.current,t).then(t=>{let n={...t,isPositioned:!0};k.current&&!eux(m.current,n)&&(m.current=n,x.flushSync(()=>{c(n)}))})},[d,n,r,y]);eub(()=>{!1===s&&m.current.isPositioned&&(m.current.isPositioned=!1,c(t=>({...t,isPositioned:!1})))},[s]);let k=o.useRef(!1);eub(()=>(k.current=!0,()=>{k.current=!1}),[]),eub(()=>{if(v&&_){if(g.current)return g.current(v,_,O);O()}},[v,_,O,g]);let C=o.useMemo(()=>({reference:p,floating:h,setReference:T,setFloating:w}),[T,w]),I=o.useMemo(()=>({reference:v,floating:_}),[v,_]);return o.useMemo(()=>({...l,update:O,refs:C,elements:I,reference:T,floating:w}),[l,O,C,I,T,w])}({placement:a,middleware:u,strategy:s,whileElementsMounted:i}),y=euL(r),v=o.useMemo(()=>({...g.refs,domReference:p}),[g.refs]),b=o.useMemo(()=>({...g,refs:v,dataRef:h,nodeId:l,events:m,open:n,onOpenChange:y,_:{domReference:c}}),[g,l,m,n,y,v,c]);euS(()=>{let t=null==f?void 0:f.nodesRef.current.find(t=>t.id===l);t&&(t.context=b)});let{reference:_}=g,S=o.useCallback(t=>{(euN(t)||null===t)&&(b.refs.domReference.current=t,d(t)),_(t)},[_,b.refs]);return o.useMemo(()=>({...g,context:b,refs:v,reference:S}),[g,v,b,S])}({middleware:[(void 0===(r=y)&&(r=0),{name:"offset",options:r,async fn(t){let{x:n,y:i}=t,o=await eaG(t,r);return{x:n+o.x,y:i+o.y,data:o}}}),(void 0===i&&(i={}),{name:"flip",options:i,async fn(t){var n,r,o,a;let{placement:u,middlewareData:s,rects:l,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...b}=i,x=eaP(u),_=eaP(c)===c,S=await (null==d.isRTL?void 0:d.isRTL(f.floating)),T=m||(_||!v?[eaq(c)]:function(t){let n=eaq(t);return[eaH(t),n,eaH(n)]}(c));m||"none"===y||T.push(...function(t,n,r,i){let o=eaA(t),a=function(t,n,r){let i=["left","right"],o=["right","left"];switch(t){case"top":case"bottom":return r?n?o:i:n?i:o;case"left":case"right":return n?["top","bottom"]:["bottom","top"];default:return[]}}(eaP(t),"start"===r,i);return o&&(a=a.map(t=>t+"-"+o),n&&(a=a.concat(a.map(eaH)))),a}(c,v,y,S));let w=await eaU(t,b),O=[],k=(null==(n=s.flip)?void 0:n.overflows)||[];if(p&&O.push(w[x]),h){let{main:C,cross:I}=function(t,n,r){void 0===r&&(r=!1);let i=eaA(t),o=eaL(t),a=eaN(o),u="x"===o?i===(r?"end":"start")?"right":"left":"start"===i?"bottom":"top";return n.reference[a]>n.floating[a]&&(u=eaq(u)),{main:u,cross:eaq(u)}}(u,l,S);O.push(w[C],w[I])}if(k=[...k,{placement:u,overflows:O}],!O.every(t=>t<=0)){let M=((null==(r=s.flip)?void 0:r.index)||0)+1,R=[c,...T][M];if(R)return{data:{index:M,overflows:k},reset:{placement:R}};let E=null==(o=k.filter(t=>t.overflows[0]<=0).sort((t,n)=>t.overflows[1]-n.overflows[1])[0])?void 0:o.placement;if(!E)switch(g){case"bestFit":{let j=null==(a=k.map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,n)=>t+n,0)]).sort((t,n)=>t[1]-n[1])[0])?void 0:a[0];j&&(E=j);break}case"initialPlacement":E=c}if(u!==E)return{reset:{placement:E}}}return{}}}),(l={limiter:(void 0===a&&(a={}),{options:a,fn(t){let{x:n,y:r,placement:i,rects:o,middlewareData:u}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=a,d={x:n,y:r},f=eaL(i),p=eaZ(f),h=d[f],m=d[p],g="function"==typeof s?s(t):s,y="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){let v="y"===f?"height":"width",b=o.reference[f]-o.floating[v]+y.mainAxis,x=o.reference[f]+o.reference[v]-y.mainAxis;h<b?h=b:h>x&&(h=x)}if(c){var _,S;let T="y"===f?"width":"height",w=["top","left"].includes(eaP(i)),O=o.reference[p]-o.floating[T]+(w&&(null==(_=u.offset)?void 0:_[p])||0)+(w?0:y.crossAxis),k=o.reference[p]+o.reference[T]+(w?0:(null==(S=u.offset)?void 0:S[p])||0)-(w?y.crossAxis:0);m<O?m=O:m>k&&(m=k)}return{[f]:h,[p]:m}}})},{name:"shift",options:l,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn(t){let{x:n,y:r}=t;return{x:n,y:r}}},...s}=l,c={x:n,y:r},d=await eaU(t,s),f=eaL(eaP(i)),p=eaZ(f),h=c[f],m=c[p];if(o){let g=h+d["y"===f?"top":"left"],y=h-d["y"===f?"bottom":"right"];h=eaV(g,h,y)}if(a){let v=m+d["y"===p?"top":"left"],b=m-d["y"===p?"bottom":"right"];m=eaV(v,m,b)}let x=u.fn({...t,[f]:h,[p]:m});return{...x,data:{x:x.x-n,y:x.y-r}}}})],onOpenChange:g,open:m,placement:"top-start",strategy:"fixed",whileElementsMounted:euy});(0,o.useLayoutEffect)(()=>{_(f)},[_,f]),(0,o.useEffect)(()=>{let t,n=()=>{t=window.setTimeout(()=>{g(!0)})},r=()=>{g(!1)};return p.on("focus",n).on("blur",r),()=>{p.off("focus",n).off("blur",r),clearTimeout(t)}},[p]);let[w,O]=(0,o.useState)(0),k=(0,o.useRef)([]);(0,s.pQ)(h,()=>{O(0),k.current=[]});let{getFloatingProps:C,getItemProps:I,getReferenceProps:R}=(c=[eu$(v,{outsidePointerDown:!1}),eu3(v,{activeIndex:w,listRef:k,onNavigate(t){O(n=>t??n)},openOnArrowKeyDown:!1,virtual:!0}),euB(v,{role:"menu"})],{getReferenceProps:t=>euF(t,c,"reference"),getFloatingProps:t=>euF(t,c,"floating"),getItemProps:t=>euF(t,c,"item")}),E=R().onKeyDown;return(0,o.useImperativeHandle)(n,()=>({handleKeyDown(t){if(!m)return!1;if(esb.includes(t.key)&&E(t),esx.includes(t.key)){let n=h[w];void 0!==n&&d(n)}return!0}}),[w,d,h,E,m]),m?M.jsx(u.xu,{...C(),minWidth:256,backgroundColor:"grey1",border:!0,borderStyle:"solid",borderRadius:6,flexDirection:"column",ref:b,top:parseFloat(u.TV.space[0]),left:parseFloat(u.TV.space[0]),position:"fixed",transform:null!==S&&null!==T?`translate3d(${Math.round(S)}px, ${Math.round(T)}px, 0)`:"translate3d(0, -200%, 0)",children:M.jsxs("div",{style:{boxShadow:"0px 2px 10px 0px hsla(0, 0%, 0%, 0.1)"},children:[h.map((t,n)=>{let r=I({onClick(){d(t)},onPointerDown(t){t.preventDefault()}});return(0,o.createElement)(esw,{...r,key:t.nodeType,ref(t){k.current[n]=t},active:n===w,isFirstItem:0===n,isLastItem:n===h.length-1,shortcut:`/${t.shortText??""}`},t.text)}),0===h.length&&M.jsx(esw,{...I({onPointerDown(t){t.preventDefault()}}),disabled:!0,ref(t){k.current[0]=t},children:"No results"})]})}):null}),esw=(0,o.forwardRef)(function(t,n){let{children:r,disabled:i=!1,shortcut:o,active:a=!1,isFirstItem:s=!1,isLastItem:l=!1,...c}=t,d=function(t){let{isFirstItem:n,isLastItem:r}=t;return n?{topRight:6,topLeft:6}:r?{bottomRight:6,bottomLeft:6}:void 0}({isFirstItem:s,isLastItem:l});return M.jsx("div",{...c,role:"button",style:{all:"unset",cursor:i?"default":"pointer"},ref:n,children:M.jsxs(u.xu,{alignItems:"center",height:32,flexDirection:"row",gap:8,padding:8,backgroundColor:a?"grey4":"inherit",justifyContent:"space-between",borderRadius:d,opacity:i?"50%":"100%",children:[M.jsx(u.xv,{color:"grey12",component:"span",children:r}),o&&M.jsx(u.xv,{color:"inherit",component:"span",variant:"small",children:o})]})})}),esO=eay.extend({name:"bulletList",parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",ee5(this.options.HTMLAttributes,t),0]}}).configure({itemTypeName:"listItem"}),esk=new eau([qJ.RichTextNodeType.list],esO.name,esO,{fromPrismic:t=>function(n){var r;let i=ea_.converter.fromPrismic(t)(n);if(i)return null==(r=t.nodes[esO.name])?void 0:r.create(esm.fromPrismic(n),i)},toPrismic:t=>eac.children.map(t,t=>ea_.converter.toPrismic(t,qJ.RichTextNodeType.list).filter(c.$)).flat()}),esC=esk,esI=/^```([a-z]+)?[\s\n]$/,esM=/^~~~([a-z]+)?[\s\n]$/,esR=enK.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var n;let{languageClassPrefix:r}=this.options,i=[...(null===(n=t.firstElementChild)||void 0===n?void 0:n.classList)||[]].filter(t=>t.startsWith(r)).map(t=>t.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:n}){return["pre",ee5(this.options.HTMLAttributes,n),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:n})=>n.setNode(this.name,t),toggleCodeBlock:t=>({commands:n})=>n.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:t,$anchor:n}=this.editor.state.selection,r=1===n.pos;return!!t&&n.parent.type.name===this.name&&(!!r||!n.parent.textContent.length)&&this.editor.commands.clearNodes()},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:n}=t,{selection:r}=n,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type)return!1;let a=i.parentOffset===i.parent.nodeSize-2,u=i.parent.textContent.endsWith(`

`);return!!a&&!!u&&t.chain().command(({tr:t})=>(t.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:n}=t,{selection:r,doc:i}=n,{$from:o,empty:a}=r;if(!a||o.parent.type!==this.type||o.parentOffset!==o.parent.nodeSize-2)return!1;let u=o.after();return!(void 0===u||i.nodeAt(u))&&t.commands.exitCode()}}},addInputRules(){return[enV({find:esI,type:this.type,getAttributes:t=>({language:t[1]})}),enV({find:esM,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new J$({key:new JH("codeBlockVSCodeHandler"),props:{handlePaste:(t,n)=>{if(!n.clipboardData||this.editor.isActive(this.type.name))return!1;let r=n.clipboardData.getData("text/plain"),i=n.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,a=null==o?void 0:o.mode;if(!r||!a)return!1;let{tr:u}=t.state;return u.replaceSelectionWith(this.type.create({language:a})),u.setSelection(JR.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.insertText(r.replace(/\r\n?/g,`
`)),u.setMeta("paste",!0),t.dispatch(u),!0}}})]}}),esE=esR.extend({name:"preformatted",addAttributes(){return{language:{default:null,parseHTML:t=>{var n;let{languageClassPrefix:r}=this.options,i=[...(null==(n=t.firstElementChild)?void 0:n.classList)||[]].filter(t=>t.startsWith(r)).map(t=>t.replace(r,""))[0];return i||null},renderHTML:t=>t.language?{class:this.options.languageClassPrefix+t.language}:null}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({HTMLAttributes:t}){return["pre",ee5(this.options.HTMLAttributes),["code",t,0]]}}).configure({exitOnTripleEnter:!1}),esj=new eai([qJ.RichTextNodeType.preformatted],esE.name,esE,{fromPrismic:t=>function(n){var r;let i=esc.converter.fromPrismic(t)(esE.name,n,!0);return null==(r=t.nodes[esE.name])?void 0:r.create(esm.fromPrismic(n),i)},toPrismic:t=>esc.converter.toPrismic(t,qJ.RichTextNodeType.preformatted,esm.toPrismic(t))},"",!0);function esA(t){let{editor:n,getPos:r,node:i}=t,[a,u]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{function t(){let{from:t,to:o}=n.state.selection,a=r(),s=r()+i.nodeSize;u(t<=a&&o>=s)}function o(){u(!1)}return n.on("blur",o),n.on("selectionUpdate",t),()=>{n.off("blur",o),n.off("selectionUpdate",t)}},[n,r,i.nodeSize]),{selected:a}}function esN(t){let n=(0,o.useRef)(null),r=(0,o.useRef)(null),{onKeyDown:i,url:a,urlChanged:l,onContentChange:c,debouncedUrl:d,content:f}=function(t,n,r){let{node:i}=t,a=i.attrs.content,u=(0,s.R9)(t.updateAttributes),l=(0,s.$P)({initialState:(null==a?void 0:a.embed_url)??"",startTransition:o.startTransition});function c(t){u({content:t})}let{onKeyDown:d}=function(t,n,r,i){let{editor:a,getPos:u,node:s}=t,[l,c]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{l&&t.editor.isFocused&&eiD(()=>{var t;return null==(t=r.current)?void 0:t.focus()})},[r,l,t.editor.isFocused]),{containerRef:i,inputRef:r,onKeyDown:function(t){let r=u(),i=u()+s.nodeSize;"Enter"===t.code&&(c(!1),a.chain().insertContentAt(i,{type:"paragraph"}).focus(i+1).run()),"Backspace"===t.code&&""===n&&a.chain().deleteRange({from:r,to:i}).focus(i+1).run(),"ArrowUp"===t.code&&(c(!1),a.chain().focus(r-1).run()),"ArrowDown"===t.code&&(c(!1),a.chain().focus(i+1).run())}}}(t,l.value,n,r);return{inputRef:n,containerRef:r,onKeyDown:d,url:l.value,urlChanged:function(t){l.set(t),(0,v.ju)(t)||c(void 0)},onContentChange:c,debouncedUrl:l.debouncedValue,content:t.node.attrs.content}}(t,n,r),{selected:p}=esA(t);return M.jsx(eiN,{className:"custom-embed",children:M.jsxs("div",{contentEditable:"false",suppressContentEditableWarning:!0,children:[M.jsxs(u.xu,{flexGrow:1,alignItems:"center",children:[M.jsx(u.I5,{size:"small",name:"cloud",color:"grey11"}),M.jsx(u.xu,{flexGrow:1,height:40,ref:r,children:M.jsx(Z5,{id:"id",ref:n,value:a,variant:(0,v.ju)(a)?"link":"normal",placeholder:"Paste your link here",onValueChange:l,onKeyDown:i})})]}),(0,v.ju)(a)&&M.jsx(eiW,{selected:p,debouncedUrl:d,onContentChange:c,content:f})]})})}let esP=enK.create({name:"embed",group:"block",atom:!0,content:"block*",marks:"",addAttributes:()=>({content:{default:void 0}}),addCommands(){return{setEmbed:()=>({tr:t,dispatch:n})=>{let r=this.type.create();return n&&t.replaceSelectionWith(r),!0}}},parseHTML:()=>[{tag:"embed"}],renderHTML:()=>["embed"],addNodeView:()=>eiF(esN)}),esL=new class{constructor(t,n,r,i){w(this,"extType","node"),w(this,"nodeType","embed"),this.richTextNodeTypes=t,this.name=n,this.component=r,this.converter=i}}([qJ.RichTextNodeType.embed],esP.name,esP,{fromPrismic:t=>function(n){var r;return null==(r=t.nodes[esP.name])?void 0:r.create({content:n.data})},toPrismic:t=>void 0===t.attrs.content?{type:"embed",data:{type:"embed",embed_url:"",__TYPE__:"EmbedContent",all:[]}}:{type:"embed",data:{...t.attrs.content}}}),esF=enK.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:n}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ee5(this.options.HTMLAttributes,n),0]},addCommands(){return{setHeading:t=>({commands:n})=>!!this.options.levels.includes(t.level)&&n.setNode(this.name,t),toggleHeading:t=>({commands:n})=>!!this.options.levels.includes(t.level)&&n.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce((t,n)=>({...t,[`Mod-Alt-${n}`]:()=>this.editor.commands.toggleHeading({level:n})}),{})},addInputRules(){return this.options.levels.map(t=>enV({find:RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),esD="heading";function esW(t){switch(t){case 1:return qJ.RichTextNodeType.heading1;case 2:return qJ.RichTextNodeType.heading2;case 3:return qJ.RichTextNodeType.heading3;case 4:return qJ.RichTextNodeType.heading4;case 5:return qJ.RichTextNodeType.heading5;case 6:return qJ.RichTextNodeType.heading6}}function esU(t){return{fullName:esW(t),level:t}}let esz=[1,2,3,4,5,6];function esB(t,n=esz){let r=RegExp(`^heading([${n.join(",")}]){1}$`),i=t.match(r);if(!i||!i[1])return;let o=parseInt(i[1]);return{fullName:esW(o),level:o}}function esV(t,n){let r=t.level;if(n.includes(r))return{fullName:esW(r),level:r}}let es$=t=>{let n=t[0]??1;return{fromPrismic:r=>function(i){var o;let a=esc.converter.fromPrismic(r)(esD,i),u=esB(i.type,t)||esU(n);return null==(o=r.nodes[esD])?void 0:o.create({level:u.level,...esm.fromPrismic(i)},a)},toPrismic(r){let{fullName:i}=esV(r.attrs,t)||esU(n);return esc.converter.toPrismic(r,i,esm.toPrismic(r))}}},esq={name:esD,build(t){var n,r;let i=t?t.size?Array.from(t.values()).reduce((t,n)=>{let r=esB(n);return r?[...t,r.level]:t},[]).sort((t,n)=>t-n):[]:esz;if(!i)return;let o=i.map(t=>esW(t));return new eaa(o,esF.extend({name:"heading"}).configure({levels:i}),i,es$(i),t=>{let n=esV(t,i);return n&&`Heading ${n.level}`})}};function esK(t){let{node:n}=t,r=n.attrs.content,{selected:i}=esA(t),a={width:null==r?void 0:r.width,height:null==r?void 0:r.height,name:eiY},{onMediaSelected:s,onCropperDialogClose:l,isUpdating:c,updateContent:d,onClear:f}=function(t){let{content:n,thumbnail:r,imageViewProps:{getPos:i,updateAttributes:a,editor:u,node:s}}=t,[l,c]=(0,o.useTransition)();function d(t){c(()=>a({content:t}))}return{onMediaSelected:function(t){let r=ei2(t),o=i()+s.nodeSize;d({__TYPE__:"ImageContent",...n,...r}),u.chain().focus(o+1).run()},onCropperDialogClose:function({croppedImages:t}){if(!n)return;let i=t[r.name];if(!i)return;let o=eoi({content:n,thumbnail:r.name,croppedImage:i});o!==n&&d(o)},isUpdating:l,updateContent:d,onClear:function(){let t=i(),n=i()+s.nodeSize;u.chain().deleteRange({from:t,to:n}).focus(n).run()}}}({content:r,thumbnail:a,imageViewProps:t}),p=(null==r?void 0:r.width)===0&&(null==r?void 0:r.height)===0,h=r&&!p?[`${r.width}x${r.height}px`]:[],m=(null==r?void 0:r.alt)??"",g={thumbnail:a,contentView:r,labels:eiJ(a,r,r)};return M.jsx(eiN,{className:"custom-image",children:M.jsx("div",{contentEditable:"false",suppressContentEditableWarning:!0,children:M.jsx(eof,{content:r,selected:i,fieldLabel:"Feature image",imageLabel:h,initialImages:[g],readOnly:!1,onMediaSelected:s,onCropperDialogClose:l,onClear:f,children:M.jsx(o.Suspense,{fallback:esH,children:null!=r&&r.url?M.jsxs(u.aY,{children:[M.jsx(u.hM,{children:M.jsx(u.xu,{flexDirection:"column",alignItems:"center",position:"relative",height:400,children:M.jsx(u.xu,{justifyContent:"center",flexGrow:1,maxHeight:"100%",maxWidth:"100%",children:M.jsx(u.kg,{src:ei0(r.url),alt:m,sizing:"contain"})})})}),M.jsx(eon,{onValueChange(t){d({...r,alt:t})},altText:m,readOnly:!r,selected:i})]}):M.jsx(eot,{isUpdating:c,readOnly:!1,onMediaSelected:s})})})})})}let esH=M.jsx("div",{style:{height:468}}),esG=enK.create({name:"image",group:"block",atom:!0,addAttributes:()=>({content:{default:void 0}}),addCommands(){return{setImage:()=>t=>{let{dispatch:n,tr:r}=t,i=this.type.create();return n&&r.replaceSelectionWith(i),!0}}},parseHTML:()=>[{tag:"image"}],renderHTML:({HTMLAttributes:t})=>["image",ee5(t)],addNodeView:()=>eiF(esK)}),esZ=new class{constructor(t,n,r,i){w(this,"extType","node"),w(this,"nodeType","image"),this.richTextNodeTypes=t,this.name=n,this.component=r,this.converter=i}}([qJ.RichTextNodeType.image],esG.name,esG,{fromPrismic:t=>function(n){var r;return null==(r=t.nodes[esG.name])?void 0:r.create({content:n.data})},toPrismic(t){if(void 0!==t.attrs.content)return{type:"image",data:{...t.attrs.content}}}}),esY=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,esJ=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,esQ=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,esX=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,es0=enq.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",ee5(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[enB({find:esY,type:this.type}),enB({find:esQ,type:this.type})]},addPasteRules(){return[enG({find:esJ,type:this.type}),enG({find:esX,type:this.type})]}}),es1=es0.extend({name:"em"}),es2=new class{constructor(t,n,r){w(this,"extType",ean.Mark),w(this,"richTextNodeTypes",qJ.RichTextNodeType.em),this.name=t,this.component=n,this.converter=r}}(es1.name,es1,{fromPrismic:t=>function(){var n;return null==(n=t.marks[es1.name])?void 0:n.create()},toPrismic(){}}),es3=es2,es4=enq.create({name:"hyperlink",priority:1e3,keepOnSplit:!1,inclusive:!1,addOptions:()=>({openOnClick:!1,linkOnPaste:!0,autolink:!0,protocols:[],htmlAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null,id:""},validate:void 0}),addAttributes:()=>({href:{default:""},id:{default:""},target:{default:"_blank"},rel:{default:"noopener noreferrer nofollow"},class:{default:null},media:{default:null}}),parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:t}){return["a",ee5(this.options.htmlAttributes,t),0]},addCommands(){return{setWebLink:t=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMark(this.name,t).setMeta("preventAutolink",!0).run(),setDocumentLink:t=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMark(this.name,t).setMeta("preventAutolink",!0).run(),setMediaLink:t=>({chain:n})=>{let r=es6(eoP({media:t.media}).value);return n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMark(this.name,{media:r}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}}}),es5=new class{constructor(t,n,r){w(this,"extType",ean.Mark),w(this,"richTextNodeTypes",qJ.RichTextNodeType.hyperlink),this.name=t,this.component=n,this.converter=r}}(es4.name,es4,{fromPrismic:t=>function(n){var r,i,o,a;let u=n.data;if("DocumentLink"===u.__TYPE__){let s={type:es4.name,id:u.id};return null==(r=t.marks[es4.name])?void 0:r.create(s)}if("ImageLink"===u.__TYPE__){let l={type:es4.name,media:es6(u)};return null==(i=t.marks[es4.name])?void 0:i.create(l)}if("FileLink"===u.__TYPE__){let c={type:es4.name,media:es6(u)};return null==(o=t.marks[es4.name])?void 0:o.create(c)}if("ExternalLink"===u.__TYPE__){let d={type:es4.name,url:u.url,href:u.url,target:u.target};return null==(a=t.marks[es4.name])?void 0:a.create(d)}},toPrismic:t=>t.attrs.media?es9(t.attrs.media):t.attrs.id?{__TYPE__:"DocumentLink",id:t.attrs.id}:{__TYPE__:"ExternalLink",url:t.attrs.href,target:t.attrs.target}});function es6(t){return JSON.stringify(t)}function es9(t){return JSON.parse(t)}let es8=enK.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",ee5(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),es7=enq.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",ee5(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:n})=>{let r=enu(t,this.type);return!!Object.entries(r).some(([,t])=>!!t)||n.unsetMark(this.name)}}}}),ele=/^(\d+)\.\s$/,elt=enK.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){let{start:n,...r}=t;return 1===n?["ol",ee5(this.options.HTMLAttributes,r),0]:["ol",ee5(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(es8.name,this.editor.getAttributes(es7.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=en$({find:ele,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=en$({find:ele,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(es7.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[t]}}),eln=elt.extend({name:"orderedList",addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}),renderHTML({HTMLAttributes:t}){let{start:n,...r}=t;return 1===n?["ol",ee5(this.options.HTMLAttributes,r),0]:["ol",ee5(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}}}).configure({itemTypeName:"listItem"}),elr=new eau([qJ.RichTextNodeType.orderedList],eln.name,eln,{fromPrismic:t=>function(n){var r;let i=ea_.converter.fromPrismic(t)(n);if(i)return null==(r=t.nodes[eln.name])?void 0:r.create(esm.fromPrismic(n),i)},toPrismic:t=>eac.children.map(t,t=>ea_.converter.toPrismic(t,qJ.RichTextNodeType.orderedList).filter(c.$)).flat()}),eli=elr,elo=[eap,es3,es5];function ela(t){return[esv,esC,eli,esq.build(t),esj,esL,esZ,...elo].filter(c.$)}let elu=[{nodeType:qJ.RichTextNodeType.paragraph,icon:"textFields",isActive:t=>t.isActive(esv.name)&&!t.isActive(esC.name)&&!t.isActive(eli.name),runCommands:elc((t,n)=>t.clearNodes().setDirection(eld(n))),shortText:"par",text:"Paragraph"},{nodeType:qJ.RichTextNodeType.heading1,icon:"looks1",isActive:t=>t.isActive(esq.name,{level:1}),runCommands:elc((t,n)=>t.setHeading({level:1}).setDirection(eld(n))),shortText:"h1",text:"Heading 1"},{nodeType:qJ.RichTextNodeType.heading2,icon:"looks2",isActive:t=>t.isActive(esq.name,{level:2}),runCommands:elc((t,n)=>t.setHeading({level:2}).setDirection(eld(n))),shortText:"h2",text:"Heading 2"},{nodeType:qJ.RichTextNodeType.heading3,icon:"looks3",isActive:t=>t.isActive(esq.name,{level:3}),runCommands:elc((t,n)=>t.setHeading({level:3}).setDirection(eld(n))),shortText:"h3",text:"Heading 3"},{nodeType:qJ.RichTextNodeType.heading4,icon:"looks4",isActive:t=>t.isActive(esq.name,{level:4}),runCommands:elc((t,n)=>t.setHeading({level:4}).setDirection(eld(n))),shortText:"h4",text:"Heading 4"},{nodeType:qJ.RichTextNodeType.heading5,icon:"looks5",isActive:t=>t.isActive(esq.name,{level:5}),runCommands:elc((t,n)=>t.setHeading({level:5}).setDirection(eld(n))),shortText:"h5",text:"Heading 5"},{nodeType:qJ.RichTextNodeType.heading6,icon:"looks6",isActive:t=>t.isActive(esq.name,{level:6}),runCommands:elc((t,n)=>t.setHeading({level:6}).setDirection(eld(n))),shortText:"h6",text:"Heading 6"},{nodeType:qJ.RichTextNodeType.list,icon:"formatListBulleted",isActive:t=>t.isActive(esC.name),runCommands:elc((t,n)=>t.toggleBulletList().setDirection(eld(n))),shortText:"bull",text:"Bulleted list"},{nodeType:qJ.RichTextNodeType.orderedList,icon:"formatListNumbered",isActive:t=>t.isActive(eli.name),runCommands:elc((t,n)=>t.toggleOrderedList().setDirection(eld(n))),shortText:"num",text:"Numbered list"},{nodeType:qJ.RichTextNodeType.preformatted,icon:"dataObject",isActive:t=>t.isActive(esj.name),runCommands:elc((t,n)=>t.setCodeBlock().setDirection(eld(n))),shortText:"code",text:"Code"},{nodeType:qJ.RichTextNodeType.embed,icon:"cloud",isActive:t=>t.isActive(esL.name),runCommands:elc(t=>t.setEmbed()),shortText:"emb",text:"Embed"},{nodeType:qJ.RichTextNodeType.image,icon:"image",isActive:t=>t.isActive(esZ.name),runCommands:elc(t=>t.setImage()),shortText:"img",text:"Image"}],els=[{nodeType:qJ.RichTextNodeType.strong,icon:"formatBold",isActive:t=>t.isActive(eap.name),runCommands:elc(t=>t.toggleBold())},{nodeType:qJ.RichTextNodeType.em,icon:"formatItalic",isActive:t=>t.isActive(es3.name),runCommands:elc(t=>t.toggleItalic())}],ell=[{nodeType:qJ.RichTextNodeType.rtl,icon:"formatTextDirectionRToL",isActive:t=>t.isActive({dir:esf.RightToLeft}),runCommands:elc((t,n)=>t.toggleDirection(eld(n)))}];function elc(t){return(n,r={})=>{let i=!0===r.can?n.can().chain():n.chain().focus();return void 0!==r.deleteRange&&(i=i.deleteRange(r.deleteRange)),r.can?function(t,n,r){try{return r(n,t).run()}catch{return!1}}(n,i,t):t(i,n).run()}}function eld(t){let n=t.state.selection.$from.parent.attrs;return esm.parseNodeAttrsDirection(n)}function elf(t,n){return t.filter(t=>n.includes(t.nodeType))}function elp(t){let{items:n,editor:r}=t;return 0===n.length?null:M.jsxs(M.Fragment,{children:[M.jsx(u.Jf,{}),n.map(t=>M.jsx(u.r8,{disabled:!t.runCommands(r,{can:!0}),onPressedChange(){t.runCommands(r)},pressed:t.isActive(r),startIcon:t.icon},t.nodeType))]})}function elh(t){let{disabled:n,showWebLinkModal:r,showDocumentsLinkModal:i,showMediaLinkModal:o}=function(t){let{editor:n,setModal:r}=t;return{disabled:!elc(t=>t.setWebLink({href:""}))(n,{can:!0}),showWebLinkModal:function(){r("webLink")},showDocumentsLinkModal:function(){r("documentLink")},showMediaLinkModal:function(){r("mediaLink")}}}(t);return M.jsxs(M.Fragment,{children:[M.jsx(u.Jf,{}),M.jsxs(u.yM,{density:"compact",children:[M.jsx(u.hA,{disabled:n,startIcon:"link",onClick:r},qJ.RichTextNodeType.hyperlink),M.jsxs(u.h_,{children:[M.jsx(u.$F,{children:M.jsx(u.hA,{startIcon:"arrowDropDown"})}),M.jsxs(u.AW,{align:"end",asPortal:!1,children:[M.jsx(u.Xi,{startIcon:M.jsx(u.I5,{name:"public"}),onSelect:r,children:"Link to web page"}),M.jsx(u.Xi,{startIcon:M.jsx(u.I5,{name:"description"}),onSelect:i,children:"Link to document"}),M.jsx(u.Xi,{startIcon:M.jsx(u.I5,{name:"image"}),onSelect:o,children:"Link to media"})]})]})]})]})}function elm(t){let{docId:n,onEdit:r,onUnlink:i}=t,o=function(t){let n=P();n.searchDocuments||F("searchDocuments");let{coreApiUrl:r,env:i}=n;return(0,d.QT)(h.EK,[r,i,t])}(n),a=P();if(!o)return null;let s=o.versions[0],l=(0,b.u)({status:null==s?void 0:s.status,releaseId:(null==s?void 0:s.status)==="release"?s.release_id:void 0,documentId:o.id,versionId:null==s?void 0:s.version_id,env:a.env}),c=(null==s?void 0:s.preview_summary)??"",f=(null==s?void 0:s.custom_type_label)??"";return M.jsx(u.oZ,{url:l,title:o.title,subTitle:f,description:c,onEdit:r,onUnlink:i,largeIconName:"description"})}function elg(t){let{editor:n}=t,{searchDocuments:r}=P(),i=n.getAttributes(qJ.RichTextNodeType.hyperlink);if(i.id&&r){let o=i.id;return M.jsx(ely,{docId:o,...t})}if(i.href){let a=i.href;return M.jsx(elv,{url:a,...t})}if(i.media){let u=es9(i.media);return M.jsx(elb,{media:u,...t})}return null}function ely(t){let{editor:n,onEditDocumentLink:r,docId:i}=t;return M.jsx(u.SV,{renderError:()=>M.jsx(u.oZ,{url:"",title:"Failed to Load Linked Document Data",subTitle:"",error:!0,onEdit:r,onUnlink:()=>elx(n)}),children:M.jsx(o.Suspense,{fallback:M.jsx(u.oZ,{url:"",title:"",subTitle:"",loading:!0,onEdit:r,onUnlink:()=>elx(n)}),children:M.jsx(elm,{docId:i,onEdit:r,onUnlink:()=>elx(n)})})})}function elv(t){let{url:n,editor:r,onEditWebLink:i}=t,o=(0,v.ju)(n);return o?M.jsx(u.oZ,{url:n,title:(0,v.S$)(o),subTitle:n,onEdit:i,onUnlink:()=>elx(r)}):M.jsx(u.oZ,{url:n,title:"",subTitle:n,onEdit:i,onUnlink:()=>elx(r)})}function elb(t){let{media:n,editor:r,onEditMediaLink:i}=t;return"ImageLink"===n.__TYPE__?M.jsx(u.Qi,{url:n.url,title:n.name,subTitle:`${n.width} x ${n.height} pixels`,onEdit:i,onUnlink:()=>elx(r)}):"FileLink"===n.__TYPE__?M.jsx(u.oZ,{url:n.url,title:n.name,subTitle:function(t){let{filename:n}=t,r=n.split(".").pop();return r?r.toLowerCase():""}({filename:n.name}),onEdit:i,onUnlink:()=>elx(r),largeIconName:"insertDriveFile"}):null}function elx(t){elc(t=>t.unsetLink())(t)}function el_(t){let{open:n}=t,{onOpenChange:r,onSelectDocument:i}=function(t){let{editor:n,setOpen:r}=t;function i(t){r(t)}return{onSelectDocument:function(t){elc(n=>n.extendMarkRange(qJ.RichTextNodeType.hyperlink).setDocumentLink({id:t}))(n),r(!1)},onOpenChange:i}}(t);return M.jsx(eoO,{open:n,onOpenChange:r,onSelectDocument:i})}function elS(t){let{open:n}=t,{onOpenChange:r,onMediaSelected:i}=function(t){let{editor:n,setOpen:r}=t;return{onMediaSelected:function(t){elc(n=>n.extendMarkRange(qJ.RichTextNodeType.hyperlink).setMediaLink({media:t}))(n),r(!1)},onOpenChange:r}}(t);return M.jsx(eoe,{open:n,onOpenChange:r,onMediaSelected:i,assetType:"all"})}function elT(t){let{open:n}=t,{url:r,setUrl:i,onOpenChange:a,onKeyDown:s,openInNewTab:l,setOpenInNewTab:c,onSetUrl:d,selectionUrl:f,selectionUrlTitle:p}=function(t){var n;let{editor:r,setOpen:i}=t,[a,u]=(0,o.useState)(""),[s,l]=(0,o.useState)(!1),c=function(t){let n=t.getAttributes(qJ.RichTextNodeType.hyperlink);return n.href?n.href:void 0}(r),d=(n=r,"_blank"===n.getAttributes(qJ.RichTextNodeType.hyperlink).target);(0,o.useEffect)(()=>{u(c??"")},[c]),(0,o.useEffect)(()=>{l(d??!1)},[d]);let f=c?(0,v.ju)(c):void 0,p=f?(0,v.S$)(f):"";function h(t){let n=s?"_blank":"_self";elc(r=>r.extendMarkRange(qJ.RichTextNodeType.hyperlink).setWebLink({href:t,target:n}))(r),i(!1)}return{url:a,setUrl:u,onSetUrl:h,selectionUrl:c,selectionUrlTitle:p,openInNewTab:s,selectionOpenInNewTab:d,setOpenInNewTab:l,onKeyDown:function(t){"Enter"===t.key&&h(a)},onOpenChange:function(t){u(""),l(!1),i(t)}}}(t);return M.jsx(u.Vq,{open:n,onOpenChange:a,hasClose:!1,size:"small",children:M.jsx(u.cZ,{children:M.jsxs(u.xu,{flexDirection:"column",children:[M.jsxs(u.xu,{flexDirection:"column",height:"100%",padding:16,gap:4,children:[M.jsx(u.yt,{value:r,onValueChange:i,placeholder:"Paste URL",icon:"public",onKeyDown:s}),f&&M.jsxs(u.xu,{flexDirection:"column",padding:{top:8},gap:4,children:[M.jsx(u.xv,{variant:"smallBold",color:"grey11",children:"Linked to"}),M.jsxs(u.xu,{backgroundColor:"grey4",borderRadius:6,padding:8,alignItems:"center",gap:8,children:[M.jsx(u.pI,{largeIconName:"public",smallIconName:"link"}),M.jsxs(u.xu,{flexDirection:"column",children:[M.jsx(u.xv,{variant:"bold",color:"grey12",children:p}),M.jsx(u.xv,{color:"grey11",variant:"small",children:"Web page"})]})]})]})]}),r&&M.jsxs(u.xu,{flexDirection:"column",padding:{block:8},border:{top:!0},children:[M.jsx(u.UN,{onSelect:()=>c(!l),icon:l?"checkBox":"checkBoxOutlinedBlank",textContent:"Open in new tab"}),M.jsx(u.UN,{onSelect:()=>d(r),icon:"link",textContent:"Link to URL"})]})]})})})}function elw(t){let{items:n,editor:r}=t;return 0===n.length?null:M.jsxs(M.Fragment,{children:[M.jsx(u.Jf,{}),M.jsx(u.dV,{onValueChange(t){n.forEach(n=>{(n.isActive(r)&&!t.includes(n.nodeType)||!n.isActive(r)&&t.includes(n.nodeType))&&n.runCommands(r)})},type:"multiple",value:n.filter(t=>t.isActive(r)).map(t=>t.nodeType),children:n.map(t=>M.jsx(u.nG,{disabled:!t.runCommands(r,{can:!0}),startIcon:t.icon,value:t.nodeType},t.nodeType))},"mark")]})}function elO(t){var n;let{items:r,editor:i}=t;return 0===r.length?null:M.jsx(u.vT,{disabled:1===r.length,value:(null==(n=r.find(t=>t.isActive(i)))?void 0:n.nodeType)??"",onValueChange(t){var n;null==(n=r.find(n=>n.nodeType===t))||n.runCommands(i)},children:r.map(t=>M.jsx(u.KG,{value:t.nodeType,children:t.text},t.nodeType))})}let elk={duration:100,hideOnClick:!0,offset:[-48,8],placement:"top-start",zIndex:30};function elC(t){let{editor:n,nodeTypes:r}=t,[i,a]=(0,o.useState)(),u=r.includes(qJ.RichTextNodeType.hyperlink),s=!i,{shouldShowBubbleMenu:l,shouldShowLinkPopover:c}=function(t){let{editor:n}=t;return{shouldShowBubbleMenu:function(t){let{view:r,state:i,from:o,to:a}=t;if(!r.hasFocus())return!1;let{doc:u,selection:s}=i;return!(n.isActive(qJ.RichTextNodeType.preformatted)||s.empty||0===u.textBetween(o,a).length)},shouldShowLinkPopover:function(t){let{view:n,state:r,from:i,to:o}=t,a=n.state.doc.nodeAt(i),{doc:u,selection:s}=r;return!!s.empty&&!(u.textBetween(i,o).length>0)&&!!(null!=a&&a.marks.some(t=>"hyperlink"===t.type.name))}}}({editor:n});return M.jsxs(M.Fragment,{children:[M.jsx(eiC,{editor:n,tippyOptions:elk,shouldShow:l,children:s&&M.jsx(elI,{...t,setModal:a})}),M.jsx(eiC,{editor:n,tippyOptions:elk,shouldShow:c,children:s&&M.jsx(elg,{editor:n,onEditWebLink:()=>a("webLink"),onEditDocumentLink:()=>a("documentLink"),onEditMediaLink:()=>a("mediaLink")})}),u&&M.jsxs(M.Fragment,{children:[M.jsx(elT,{open:"webLink"===i,setOpen:function(t){a(t?"webLink":void 0)},editor:n}),M.jsx(el_,{open:"documentLink"===i,setOpen:function(t){a(t?"documentLink":void 0)},editor:n}),M.jsx(elS,{open:"mediaLink"===i,setOpen:function(t){a(t?"mediaLink":void 0)},editor:n})]})]})}function elI(t){let{editor:n,nodeTypes:r}=t,i=r.includes("hyperlink"),o=elf(elu,r),a=elf(els,r),s=elf(ell,r),l=o.length+a.length+s.length+Number(i);return 0===l?null:M.jsxs(u.o8,{children:[M.jsx(elO,{items:o,editor:n}),M.jsx(elw,{items:a,editor:n}),i&&M.jsx(elh,{...t}),M.jsx(elp,{items:s,editor:n}),l>1&&M.jsxs(M.Fragment,{children:[M.jsx(u.Jf,{}),M.jsx(u.hA,{onClick(){n.chain().focus().clearNodes().unsetAllMarks().run()},startIcon:"formatClear"},"clear")]})]})}function elM(t){var n;let{content:r,field:i,id:a,readOnly:l}=t,d=function(t){var n,r;let i=`${(null==(n=t.config)?void 0:n.multi)??""}-${(null==(r=t.config)?void 0:r.single)??""}`;return(0,o.useMemo)(()=>{let{extensions:n,defaultTextConverter:r}=function(t){var n;if(!t||!(null!=t&&t.single)&&!(null!=t&&t.multi))return ead();let r=function(t){let n=(t.single||t.multi||"").split(/\s*,\s*/).map(t=>{let n=qJ.RichTextNodeTypeCodec.decode(t);return"Right"===n._tag?n.right:void 0}).filter(c.$);return new Set(n)}(t);if(!(null!=r&&r.size))return ead();let i=(n=r,ela(n).filter(t=>(0,g.G)(n,n=>t.richTextNodeTypes.includes(n)))),o=function(t){let n=new Set(t);return(0,g.G)(n,eas)&&n.add(esv),(0,g.G)(n,eao)||n.add(esv),[...n]}(i);return{extensions:o,defaultTextConverter:function(t){let n=t.find(eao)??esv;return function(t){return r=>n.converter.fromPrismic(t)({...r,type:n.richTextNodeTypes[0]??"heading1"})}}(o)}}(t.config),i=n.filter(elR),o=n.flatMap(t=>t.richTextNodeTypes),a=n.map(t=>t.component),u=n.filter(elE).map(t=>t.name),s=[...a,...function(t,n){var r,i,o;let a=n.map(t=>t.richTextNodeTypes).flat(),u={placeholderByNodeType:(o=n,o.reduce((t,n)=>(n.nodeType===ear.Text&&(t[n.name]=n.placeholder),t),{})),unfocusedPlaceholder:null==(r=t.config)?void 0:r.placeholder,nodeExtensions:n},s=a.includes(qJ.RichTextNodeType.orderedList)||a.includes(qJ.RichTextNodeType.list);return[eaO.component((null==(i=t.config)?void 0:i.single)===void 0),esc.component,eaR.component,eaj(u),s?ea_.component:void 0,esS.configure({nodeTypes:a})].filter(c.$)}(t,i),esh.configure({supportedExtensionNames:u}),eo4],l=s.map(t=>t.name),d=function(t,n){let r=etd.resolve(t);return ett(r,void 0)}(s);return{allComponents:s,extensionNames:l,defaultTextConverter:r,nodeExtensions:i,names:o,schema:d}},[i])}(i),f=r&&eaO.converter(d.nodeExtensions).fromPrismic(d.schema,null==(n=d.defaultTextConverter)?void 0:n.call(d,d.schema))(r),p=(0,s.R9)(t.onContentChange),h=function(t={},n=[]){let{onUpdate:r}=t,[i,a]=(0,o.useState)(),u=(0,o.useRef)(r),l=(0,s.NW)();return(0,o.useEffect)(()=>{i&&r&&(i.off("update",u.current),i.on("update",r),u.current=r)},[r,i]),(0,o.useLayoutEffect)(()=>{let n=!0,r=new eiI(t);return a(r),r.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{n&&l()})})}),()=>{n=!1}},n),(0,o.useEffect)(()=>()=>{null==i||i.destroy()},[i]),i}({content:null==f?void 0:f.toJSON(),editable:!l,editorProps:{attributes:{class:u.rk,id:a,tabIndex:"0"}},extensions:d.allComponents,injectCSS:!1,onUpdate({editor:t}){if(t.isEmpty)return p(void 0);let n=eaO.converter(d.nodeExtensions).toPrismic(t.state.doc);p(n)}},[d,l]);return M.jsxs(u.gN,{children:[M.jsx(u.Qy,{htmlFor:a,children:Z0(i)}),M.jsxs(u.JO,{children:[M.jsx(eiE,{editor:h??null,style:{flex:1}}),(null==h?void 0:h.isEditable)&&M.jsx(elC,{editor:h,nodeTypes:d.names.concat(esp)})]})]})}function elR(t){return t.extType===ean.Node}function elE(t){return!(t.extType!==ean.Node||t.nodeType!==ear.Text||t.lockedFormat)}function elj(t){var n,r,i,o,a;let{content:s,field:l,id:c,onContentChange:d,readOnly:f}=t,p=Z1(l),h=(i=l,(null==(o=i.config)?void 0:o.default_value)===void 0||null==(a=i.config.options)?void 0:a[0]),m=(null==s?void 0:s.value)??h;return M.jsxs(u.gN,{children:[M.jsx(u.fw,{name:"arrowDropDownCircle"}),M.jsx(u.Qy,{htmlFor:c,children:Z0(l)}),M.jsx(u.JO,{children:M.jsx(u.Ph,{id:c,size:"large",color:"grey",value:m,renderTrigger:()=>M.jsx(u.JF,{id:c,placeholder:p}),onValueChange(t){var n;f||d((n=t,0===n.length?void 0:{__TYPE__:"FieldContent",type:"Select",value:n}))},children:null==(r=null==(n=l.config)?void 0:n.options)?void 0:r.map(t=>M.jsx(u.Ql,{value:t,children:t},t))})})]})}function elA(t){let{id:n,readOnly:r,field:i,content:o,onContentChange:a}=t,s=null!=o&&o.value?(0,l._O)(o.value):void 0;return M.jsxs(u.gN,{children:[M.jsx(u.fw,{name:"event"}),M.jsx(u.Qy,{id:n,children:Z0(i)}),M.jsx(u.JO,{children:M.jsx(u.xu,{padding:{left:4,right:12},width:"100%",flexDirection:"column",justifyContent:"center",children:M.jsx(u.Wr,{mode:"date-time","aria-labelledby":n,disabled:r,value:s,onValueChange:t=>a(function(t){if(t)return{__TYPE__:"FieldContent",type:"Timestamp",value:function(t){let n=`${t.getUTCFullYear()}`.padStart(4,"0"),r=`${t.getUTCMonth()+1}`.padStart(2,"0"),i=`${t.getUTCDate()}`.padStart(2,"0"),o=`${t.getUTCHours()}`.padStart(2,"0"),a=`${t.getUTCMinutes()}`.padStart(2,"0");return`${n}-${r}-${i}T${o}:${a}:00+00:00`}(t)}}(t))})})})]})}function elN(t){let{id:n,readOnly:r,content:i,nestableWidget:a}=t,u=(0,s.R9)(t.onContentChange);return(0,o.useMemo)(()=>{let t={id:n,readOnly:r,onContentChange:u};return"Boolean"===a.type?M.jsx(Z2,{...t,field:a,content:n0.isBooleanContent(i)?i:void 0}):"Date"===a.type?M.jsx(Z4,{...t,field:a,content:n0.isDateContent(i)?i:void 0}):"Timestamp"===a.type?M.jsx(elA,{...t,field:a,content:n0.isTimestampContent(i)?i:void 0}):"Image"===a.type?M.jsx(eop,{...t,field:a,content:n0.isImageContent(i)?i:void 0}):"Link"===a.type?M.jsx(eoL,{...t,field:a,content:n0.isLinkContent(i)?i:void 0}):"Number"===a.type?M.jsx(eoU,{...t,field:a,content:n0.isNumberContent(i)?i:void 0}):"StructuredText"===a.type?M.jsx(elM,{...t,field:a,content:n0.isRichTextContent(i)?i:void 0}):"Select"===a.type?M.jsx(elj,{...t,field:a,content:n0.isSelectContent(i)?i:void 0}):"Text"===a.type?M.jsx(eom,{...t,field:a,content:n0.isTextContent(i)?i:void 0}):"Embed"===a.type?M.jsx(ei$,{...t,field:a,content:n0.isEmbedContent(i)?i:void 0}):"Color"===a.type?M.jsx(Z3,{...t,field:a,content:n0.isColorContent(i)?i:void 0}):"GeoPoint"===a.type?M.jsx(eiZ,{...t,field:a,content:n0.isGeoPointContent(i)?i:void 0}):null},[i,n,a,u,r])}function elP(t){let{content:n,id:r,nonRepeatableZone:i,onContentChange:u,readOnly:s}=t,l=(0,o.useMemo)(()=>Object.entries(i),[i]);return M.jsx(M.Fragment,{children:l.map(([t,i])=>{let o=n[t];return M.jsx(elN,{id:`${r}.${t}`,readOnly:s,nestableWidget:i,content:n0.isNestableContent(o)?o:void 0,onContentChange(r){var i,o,s;u((i=n,o=t,s=r,s?{...i,[o]:s}:(0,a.ud)(i,o)))}},t)})})}function elL(t){let{id:n,title:r,content:i,onContentChange:a,readOnly:s,repeatable:l=!0,repeatableZone:c}=t,d=(0,o.useMemo)(()=>Object.entries(c),[c]),p=i??[elF];!l&&p.length>1&&(p=p.slice(0,1));let h=(0,o.useRef)(new Map);function m(t){return h.current.get(t)??"!bugged!"}function g(t){let{index:n,offset:r}=t;a((0,f.pB)(p,n,n+r))}function y(t){let{index:n}=t;a((0,f.$E)(p,n))}return!function(t,n){let r=new Set(n);n.forEach(n=>{t.has(n)||t.set(n,(0,_.d)())}),(0,o.useLayoutEffect)(()=>{for(let[n]of t)r.has(n)||t.delete(n)})}(h.current,p),0===Object.keys(c).length?null:M.jsx(u.ZA,{title:`Repeatable zone${r?` • ${r}`:""}`,addItemButtonTitle:"Add item in group",items:p,maxItems:l?void 0:1,getItemKey:m,onAddItem:function(){a(p.concat(elD()))},children(t,r){let i=new Map(t.value),o=m(t);return M.jsx(u.MN,{index:r,title:"Item",onMove:g,onDelete:y,children:d.map(([u,l])=>{let c=i.get(u),d=n0.isNestableContent(c)?c:void 0;return M.jsx(elN,{id:`${n}[${o}].${u}`,content:d,nestableWidget:l,onContentChange:n=>(function(t,n,r,i){let o=function(t,n){let[r,i]=n;if(!i){let o=t.value.filter(([t])=>t!==r);return elD(o)}let a=Array.from(new Map(t.value).set(r,i));return elD(a)}(t,[r,i]),u=function(t,n){let[r,i]=n;return i?t.map((t,n)=>n===r?i:t):t.filter((t,n)=>n!==r)}(p,[n,o]);(function(t,n,r){let i=t.get(n);void 0!==i&&t.set(r,i)})(h.current,t,o),a(u)})(t,r,u,n),readOnly:s},u)})})}})}let elF={__TYPE__:"GroupItemContent",value:[]};function elD(t=[]){return{__TYPE__:"GroupItemContent",value:t}}function elW(t){var n,r,i,a;let{config:s,content:l,sliceKey:c,readOnly:d=!1,sharedSlice:f,onContentChange:p,...h}=t,m=(n=f,r=l.variation,(0,o.useMemo)(()=>n.variations.find(t=>t.id===r),[n,r])),g=(0,o.useId)(),y={id:h.id??g,readOnly:d},{selected:v,selectionId:b,selection:x}=function(t){let{sliceKey:n}=t||{},r=(0,o.useContext)(ZX),i=function(t,n){if(n)return`${t}___${n}`}("sliceFieldSet",n),a=n===(null==r?void 0:r.id);return{selectionId:i,selected:a,selection:r}}({sliceKey:c});return void 0===m?null:M.jsx(N.Provider,{value:s,children:M.jsxs(u.C3,{id:b,selected:v,onFocus:function(){c&&x.update("sliceFieldSet",c)},children:[M.jsx(u.ax,{children:(i=f,a=m,[i.name,a.name].join(" • "))}),M.jsxs(u.En,{heightEstimate:400,box:{gap:u.jM},children:[M.jsx(elP,{...y,nonRepeatableZone:m.primary??{},content:l.primary,onContentChange(t){p({...l,primary:t})}}),M.jsx(elL,{...y,repeatableZone:m.items??{},content:l.items,onContentChange(t){p({...l,items:t})}})]})]})})}(0,o.createContext)({editedUID:!1,onEditUID(){}})}}]);