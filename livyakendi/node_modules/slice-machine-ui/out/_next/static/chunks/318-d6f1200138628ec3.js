(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{39576:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var i=t(62230),r=t(52322);t(2784);var o=t(59326),l=t(75289),a=t(61183),s=function(e){return{subLanguage:"xml",contains:[e.COMMENT("<!--","-->",{relevance:10}),{begin:/^(\s*)(<script(\s*context="module")?>)/gm,end:/^(\s*)(<\/script>)/gm,subLanguage:"javascript",excludeBegin:!0,excludeEnd:!0,contains:[{begin:/^(\s*)(\$:)/gm,end:/(\s*)/gm,className:"keyword"},]},{begin:/^(\s*)(<style.*>)/gm,end:/^(\s*)(<\/style>)/gm,subLanguage:"css",excludeBegin:!0,excludeEnd:!0},{begin:/\{/gm,end:/\}/gm,subLanguage:"javascript",contains:[{begin:/[\{]/,end:/[\}]/,skip:!0},{begin:/([#:\/@])(if|else|each|await|then|catch|debug|html)/gm,className:"keyword",relevance:10},]},]}};a.Z.registerLanguage("svelte",s);var c=["javascript","bash","xml","html","json"],u=function(e){var n,t=e.children,s=e.lang,u=e.sx,d=e.codeStyle,f=e.codeClass,p=e.Header,x=(0,o.B7)().theme,m=s?a.Z.highlight(t,{language:"vue"===s?"html":s}).value:a.Z.highlightAuto(t,c).value;return(0,r.jsxs)(l.kC,{as:"pre",sx:u,children:[p?(0,r.jsx)(p,{}):null,(0,r.jsx)("code",{className:"hljs".concat(f?" ".concat(f):""),style:(0,i.Z)({overflowX:"auto",padding:"3px 5px",borderRadius:"6px",border:"1px solid",borderColor:String(null===(n=x.colors)||void 0===n?void 0:n.textClear)},d),dangerouslySetInnerHTML:{__html:m}})]})}},3026:function(e,n,t){"use strict";t.d(n,{J:function(){return c},k:function(){return s}});var i=t(62230),r=t(85244),o=t(98240),l=t(52322);t(2784);var a=t(75289),s=function(e){var n=e.children,t=e.sx,s=(0,o.Z)(e,["children","sx"]);return(0,l.jsx)(a.xu,(0,r.Z)((0,i.Z)({sx:(0,i.Z)({display:["block","block","flex"],flexWrap:"wrap",justifyContent:"space-between"},t)},s),{children:n}))},c=function(e){var n=e.children,t=e.cols;return(0,l.jsx)(a.xu,{sx:{flex:"0 ".concat(100/(void 0===t?2:t)-1,"%"),mb:1},children:n})}},59872:function(e,n,t){"use strict";t.d(n,{$w:function(){return i},Hq:function(){return d},tM:function(){return u}});var i,r=t(62230),o=t(85244),l=t(52322),a=t(63397);t(2784);var s,c=t(75289);(s=i||(i={}))[s.ERROR=0]="ERROR",s[s.DISABLED=1]="DISABLED",s[s.WARNING=2]="WARNING";var u=function(e){var n={"&::placeholder":{color:"#C9D0D8"}};switch(e){case i.DISABLED:return(0,o.Z)((0,r.Z)({},n),{border:"1px solid #E6E6EA",backgroundColor:"#F3F5F7"});case i.ERROR:return(0,o.Z)((0,r.Z)({},n),{border:"1px solid #E26049","&:focus":{outline:"none",borderColor:"#E26049",boxShadow:"0 0 0 3px rgba(226, 96, 73, 0.2), inset 0 1px 2px rgba(226, 96, 73, 0.2)"}});case i.WARNING:return(0,o.Z)((0,r.Z)({},n),{border:"1px solid orange","&:focus":{outline:"none",borderColor:"orange",boxShadow:"0 0 0 3px rgba(255, 165, 0, 0.2), inset 0 1px 2px rgba(255, 165, 0, 0.2)"}});default:return n}},d=function(e){var n=e.sx,t=e.field,s=e.meta,d=e.formField,f=e.fieldName,p=e.fields,x=e.initialValues,m=e.isDisabled,h=s.error?i.ERROR:m||d.disabled?i.DISABLED:void 0;return(0,l.jsxs)(c.xu,{sx:void 0===n?{}:n,children:[(0,l.jsxs)(c.__,{variant:"label.primary",htmlFor:f,children:[d.label||f,s.touched&&s.error?(0,l.jsx)(c.xv,{as:"span",variant:"text.labelError",children:s.error}):null]}),(0,l.jsx)(a.gN,(0,o.Z)((0,r.Z)({id:f,name:f,type:"text",placeholder:d.placeholder||d.label||f},d.fieldLevelValidation&&x?{validate:function(e){return d.fieldLevelValidation&&d.fieldLevelValidation({value:e,fields:p,initialId:x.id})}}:null,t),{as:c.II,sx:u(h),disabled:m||d.disabled}))]})}},34066:function(e,n,t){"use strict";t.d(n,{kp:function(){return c},sP:function(){return d},w8:function(){return f},Hq:function(){return p.Hq}});var i=t(62230),r=t(85244),o=t(52322),l=t(2784),a=t(63397),s=t(75289),c=function(e){var n=e.field,t=e.meta,c=e.fieldName,u=e.label,d=e.focusOnNewEntry,f=void 0===d||d,p=e.inputPlaceholder,x=e.buttonLabel,m=(0,l.useState)(t.value.length),h=m[0],v=m[1],g=(0,l.useRef)(Array(t.value.length));return(0,l.useEffect)(function(){g.current=g.current.slice(0,t.value.length)},[t.value.length]),(0,l.useEffect)(function(){var e=g.current.length;f&&e>h&&g.current[e-1].focus(),v(e)},[g.current.length,f,h]),(0,o.jsxs)(l.Fragment,{children:[(0,o.jsxs)(s.__,{variant:"label.primary",htmlFor:c,children:[u,t.touched&&t.error?(0,o.jsx)(s.xv,{as:"span",variant:"text.labelError",children:t.error}):null]}),(0,o.jsx)(a.F2,(0,r.Z)((0,i.Z)({name:c,id:c},n),{render:function(e){return(0,o.jsxs)("div",{children:[n.value&&n.value.length>0?n.value.map(function(n,t){return(0,o.jsxs)(s.kC,{my:2,children:[(0,o.jsx)(s.II,{placeholder:p,name:"".concat(c,".").concat(t),value:n,ref:function(e){return g.current[t]=e},onChange:function(n){var i=n.target.value;return e.replace(t,i)}}),(0,o.jsx)(s.zx,{ml:2,type:"button",variant:"secondary",onClick:function(){return e.remove(t)},children:"-"})]},"".concat(c,"-").concat(+t+1))}):null,(0,o.jsx)(s.zx,{type:"button",onClick:function(){return e.insert(n.value.length,"")},children:x})]})}}))]})},u=t(98240),d=function(e){e.initialValues;var n=e.meta,t=e.label,l=e.fieldName,c=e.onChange,d=(0,u.Z)(e,["initialValues","meta","label","fieldName","onChange"]);return(0,o.jsxs)(s.__,(0,r.Z)((0,i.Z)({variant:"label.border"},d),{children:[(0,o.jsx)(a.gN,{as:s.XZ,type:"checkbox",name:l,onChange:function(){return c(!n.value)},checked:n.value}),t]}))},f=function(e){var n=e.field,t=e.label,i=e.defaultValue,r=e.onChange,a=e.controlledValue,s=e.setControlledValue,c=e.buildControlledValue,u=(0,l.useState)(i||n.defaultValue||!1),f=u[0],p=u[1];return(0,l.useEffect)(function(){c?s(c(a,f)):s(c)},[f,a,c]),(0,o.jsx)(d,{meta:{value:f},fieldName:n.name,onChange:function(e){return p(e)&&r&&r(e)},label:"function"==typeof t?t(a,f):t})},p=t(59872)},71168:function(e,n,t){"use strict";var i=t(62230),r=t(85244),o=t(98240),l=t(52322),a=t(2784),s=t(75289),c=(0,a.forwardRef)(function(e,n){var t=e.children,a=e.Component,c=void 0===a?s.kC:a,u=e.sx,d=(0,o.Z)(e,["children","Component","sx"]);return(0,l.jsx)(c,(0,r.Z)((0,i.Z)({as:"li",sx:(0,i.Z)({p:3,mx:3,alignItems:"center",variant:"styles.listItem"},void 0===u?{}:u),ref:n},d),{children:t}))});n.Z=c},28728:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var i=t(62230),r=t(85244),o=t(52322),l=t(2784),a=t(40023),s=t(5446),c=t(59326),u=t(75289),d=t(71168),f=t(39031),p=t(98240),x=t(33710),m=t(39295),h=function(e){var n=e.text,t=e.as,a=e.sx,s=(0,p.Z)(e,["text","as","sx"]),c=(0,l.useRef)(null),d=(0,l.useState)(null),f=d[0],h=d[1],v=function(){h(c.current&&c.current.offsetWidth<c.current.scrollWidth)};return(0,l.useEffect)(function(){return v(),window.addEventListener("resize",v),function(){window.removeEventListener("resize",v)}},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.xv,(0,r.Z)((0,i.Z)({"data-for":n,"data-tip":!0,sx:(0,i.Z)({flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},void 0===a?{}:a),as:t,ref:c},s),{children:n})),f&&(0,o.jsx)(m.X,{children:(0,o.jsx)(x.Z,{id:n,type:"dark",multiline:!0,border:!0,borderColor:"black",place:"bottom",effect:"solid",children:n})})]})},v=function(e){var n,t,i=e.text,r=e.sliceFieldName,l=e.theme,a=e.WidgetIcon;return(0,o.jsxs)(u.kC,{sx:{alignItems:"center",position:"relative"},children:[(0,o.jsx)(a,{size:28,style:{color:null===(n=l.colors)||void 0===n?void 0:n.primary,marginRight:"8px",borderRadius:"4px",padding:"4px",border:"2px solid",borderColor:null===(t=l.colors)||void 0===t?void 0:t.primary}}),(0,o.jsx)(h,{text:i,as:"p",sx:{py:0,px:1,fontWeight:"label",fontSize:"15px"},"data-testid":"field-name"}),(0,o.jsx)(u.xv,{as:"p",sx:{display:["none","none","initial"],fontSize:"14px",ml:1,color:"textClear"},"data-testid":"field-id",children:r})]})},g=t(951),b=t(8799),y=t(18978),j=function(e){var n=e.item,t=e.index,p=e.deleteItem,x=e.enterEditMode,m=e.modelFieldName,h=e.renderFieldAccessor,j=e.HintElement,Z=e.CustomEditElement,k=e.CustomEditElements,C=e.widget,S=e.draggableId,I=e.testId,F=e.isRepeatableCustomType,E=e.children,w=(0,c.B7)().theme,T=n.key,A=n.value,_=A.config,N=A.type;return(0,o.jsx)(l.Fragment,{children:(0,o.jsx)(a._l,{draggableId:S,index:t,children:function(e){var a,c,S,A,R;return(0,o.jsx)(l.Fragment,{children:(0,o.jsxs)(d.Z,(0,r.Z)((0,i.Z)({"data-testid":I,ref:e.innerRef},e.draggableProps),{Component:u.xu,sx:{p:0,mx:0,my:3},children:[(0,o.jsxs)(u.kC,{sx:{width:"100%"},children:[(0,o.jsx)(f.Z,(0,i.Z)({label:"Reorder slice field (drag and drop)",Icon:y.Fm7,color:null===(a=w.colors)||void 0===a?void 0:a.icons,mr:1,mt:3},e.dragHandleProps)),(0,o.jsxs)(u.xu,{sx:{bg:"headSection",width:"100%",borderRadius:"3px",border:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.borders))}},children:[(0,o.jsxs)(u.kC,{sx:{p:3,alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,o.jsx)(v,{theme:w,text:(null==_?void 0:_.label)||T,sliceFieldName:h&&h(T),WidgetIcon:C.Meta.icon}),(0,o.jsxs)(u.kC,{children:[k||null,Z||(0,o.jsx)(f.Z,{size:22,Icon:g.$iz,label:"Edit field",sx:{cursor:"pointer",color:null===(c=w.colors)||void 0===c?void 0:c.icons},onClick:function(){return x([T,n.value],m,t)}}),!(!0===F&&"UID"==N)&&(0,o.jsxs)(s.v2,{children:[(0,o.jsx)(s.j2,{className:"sliceMenuButton","data-testid":"field-menu-button",style:{padding:"0",cursor:"pointer",width:"32px",height:"32px",border:"none",background:"transparent",outline:"0"},children:(0,o.jsx)(b.FQA,{size:20,color:null===(S=w.colors)||void 0===S?void 0:S.icons,style:{pointerEvents:"none"}})}),(0,o.jsx)(s.qy,{style:{background:null===(A=w.colors)||void 0===A?void 0:A.gray,border:"1px solid",borderRadius:"3px",borderColor:null===(R=w.colors)||void 0===R?void 0:R.borders,outline:"0"},children:(0,o.jsx)(s.sN,{style:{padding:"6px",cursor:"pointer"},onSelect:function(){return p(T)},children:"Delete field"})})]})]})]}),j||null]})]}),E]}))})}})})}},39031:function(e,n,t){"use strict";var i=t(62230),r=t(85244),o=t(98240),l=t(52322),a=t(75289),s=function(e,n){return n?{border:function(e){var n=e.colors;return"1px solid ".concat(n.error)}}:e?{border:function(e){var n=e.colors;return"1px solid ".concat(n.primary)}}:{border:function(e){var n=e.colors;return"1px solid ".concat(n.borders)}}},c=function(e){var n=e.sx,t=e.onClick,c=e.label,u=e.Icon,d=e.error,f=e.size,p=void 0===f?16:f,x=e.fitButton,m=e.active,h=e.useActive,v=e.activeSx,g=(0,o.Z)(e,["sx","onClick","label","Icon","error","size","fitButton","active","useActive","activeSx"]);return(0,l.jsx)(a.hU,(0,r.Z)((0,i.Z)({onClick:void 0===t?function(){return null}:t,"aria-label":c,type:"button",sx:(0,i.Z)({},void 0!==x&&x?{width:p,height:p}:null,void 0!==h&&h&&(void 0===v?s:v)(void 0!==m&&m,void 0===d?null:d),void 0===n?null:n)},g),{children:(0,l.jsx)(u,{size:p})}))};n.Z=c},89853:function(e,n,t){"use strict";var i=t(62230),r=t(17064),o=t(52322),l=t(2784),a=t(63397),s=t(34066),c=t(78610),u=t(75289),d=function(e){var n=e.fieldName,t=e.formField,d=e.fields,f=e.initialValues,p=(0,r.Z)((0,a.U$)(n),3),x=p[0],m=p[1],h=p[2],v=t.component;return(0,o.jsx)(u.xu,{sx:(0,i.Z)({mt:2,alignItems:"center"},t.type===c.h.CHECKBOX?{display:"flex",height:"130%"}:null),children:v?(0,o.jsx)(v,{meta:m,field:x,helpers:h,fieldName:n,formField:t,initialValues:f}):(0,o.jsxs)(l.Fragment,{children:[t.type===c.h.INPUT?(0,o.jsx)(s.Hq,{meta:m,field:x,fields:d,formField:t,fieldName:n,initialValues:f}):null,t.type===c.h.CHECKBOX&&(0,o.jsx)(s.sP,{meta:m,label:t.label,fieldName:n,initialValues:f,onChange:function(e){return h.setValue(e)}})]})})};n.Z=d},4092:function(e,n,t){"use strict";t.d(n,{Z:function(){return B}});var i=t(62230),r=t(85244),o=t(17064),l=t(52322),a=t(37149),s=t.n(a),c=t(25812),u=t(59326),d=t(75289),f=t(65413),p=t(83239),x=t(60113),m=t(2784),h=t(92928),v=t(98240),g=function(e){var n=e.children,t=(0,v.Z)(e,["children"]);return(0,l.jsx)(d.xu,(0,r.Z)((0,i.Z)({as:"ul",sx:{p:0,m:0,px:function(e){return"calc(".concat(e.space[3],"px + 8px)")},borderBottom:"1px solid #DFE1E5",position:"relative"}},t),{children:n}))};g.tabsRole="TabList";var b=function(e){var n=e.children,t=(0,v.Z)(e,["children"]),o=(0,u.B7)().theme;return(0,l.jsx)(h.OK,(0,r.Z)((0,i.Z)({},t),{style:(0,i.Z)({margin:"0 32px 0 0",top:"0",padding:"8px 0px",border:"none",bottom:"-1px",opacity:"0.8",transition:"all 150ms cubic-bezier(0.215,0.60,0.355,1)",borderRadius:"0"},t.selected?{borderBottom:"3px solid ".concat(o.colors.primary),color:o.colors.text,fontWeight:"500",opacity:"1",backgroundColor:"transparent"}:{borderBottom:"3px solid transparent"}),children:n}))};b.tabsRole="Tab";var y=t(54132),j=function(e){var n=e.children,t=e.Footer,r=e.Header,o=e.tabs,a=e.bodySx,s=e.footerSx,c=e.defaultIndex,u=void 0===c?0:c,f=(0,m.useState)(u),p=f[0],x=f[1];return(0,l.jsx)(y.Z,{borderFooter:!0,footerSx:(0,i.Z)({p:0},s),bodySx:(0,i.Z)({p:0},a),sx:{border:"none"},Header:r,Footer:t,children:(0,l.jsxs)(h.mQ,{defaultIndex:u,onSelect:function(e){return x(e)},children:[(0,l.jsx)(g,{children:(o||[]).map(function(e){return(0,l.jsx)(b,{children:e},e)})}),m.Children.map(n,function(e,n){return(0,l.jsx)(d.xu,{sx:{p:function(e){return"calc(".concat(e.space[3],"px + 8px)")},display:n===p?"block":"none"},children:(0,l.jsx)(h.x4,{children:e})})})]})})},Z=(0,m.memo)(j),k=function(e){var n,t,i=e.text,r=e.sliceFieldName,o=e.theme,a=e.WidgetIcon;return(0,l.jsxs)(d.kC,{sx:{alignItems:"center"},children:[(0,l.jsx)(a,{size:28,style:{color:null===(n=o.colors)||void 0===n?void 0:n.primary,marginRight:"8px",borderRadius:"4px",padding:"4px",border:"2px solid",borderColor:null===(t=o.colors)||void 0===t?void 0:t.primary}}),(0,l.jsx)(d.xv,{as:"p","data-testid":"item-header-text",sx:{py:0,px:1,fontWeight:"label",fontSize:"15px"},children:i}),(0,l.jsx)(d.xv,{as:"p",sx:{display:["none","none","initial"],fontSize:"14px",ml:1,color:"textClear"},children:r})]})},C=t(3026),S=t(67557),I=t(77033),F=t(63397),E=function(e){var n=e.formId,t=e.initialValues,a=e.validationSchema,s=e.onSave,c=e.FormFields,u=e.children;return(0,l.jsx)(d.xu,{children:(0,l.jsx)(F.J9,{initialValues:t,validationSchema:a,onSubmit:function(e,n){var t;s({newKey:e.id,value:Object.entries((0,v.Z)(e,["id"])).reduce(function(e,n){var t=(0,o.Z)(n,2),l=t[0],a=t[1];if((void 0===a?"undefined":(0,I.Z)(a))!==Boolean&&!a){var s,u=null===(s=c[l])||void 0===s?void 0:s.defaultValue;if(void 0!==u)return(0,r.Z)((0,i.Z)({},e),(0,S.Z)({},l,u))}return(0,r.Z)((0,i.Z)({},e),(0,S.Z)({},l,a))},{})})},children:function(e){return(0,l.jsx)(F.l0,{id:n,children:u((0,r.Z)((0,i.Z)({},e),{initialValues:t}))})}})})},w=(0,m.memo)(E),T=t(89853),A=t(99968),_=t(83462),N=t(5632),R=t(75329),M=t(65186),z=function(){var e=(0,N.useRouter)();return(0,l.jsxs)(d.xu,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"60px"},children:[(0,l.jsx)(M.wr$,{size:48,color:"#C9D0D8"}),(0,l.jsx)(d.xu,{sx:{height:"12px"}}),(0,l.jsx)(d.xv,{color:"text",sx:{fontWeight:600,fontSize:"24px",lineHeight:"32px",textAlign:"center"},children:"Your mock data has moved"}),(0,l.jsx)(d.xu,{sx:{height:"8px"}}),(0,l.jsx)(d.xv,{color:"text",sx:{fontWeight:400,fontSize:"14px",lineHeight:"24px",textAlign:"center"},children:"You can now edit directly your mock data in the new Slice Simulator."}),(0,l.jsx)(d.xu,{sx:{height:"24px"}}),(0,l.jsx)(d.zx,{onClick:function(n){n.preventDefault(),window.open("".concat(e.asPath,"/simulator"),R.pq)},children:"Go to the Slice Simulator"})]})};s().setAppElement("#__next");var B=function(e){var n=e.close,t=e.data,a=e.fields,s=e.onSave,m=e.zoneType,h=(0,u.B7)().theme;if(!t.isOpen)return null;var v=(0,o.Z)(t.field,2),g=v[0],b=v[1],y=(0,A.t)(p,b.config,b.type);if(!y)return(0,l.jsxs)("div",{children:[b.type," not found"]});var j=y.Meta.icon,S=y.FormFields,I=y.Form,F=y.schema,E=(0,i.Z)({},(0,x.f7)((0,_.B9)(S,"id")),y.prepareInitialValues?y.prepareInitialValues(b.config):b.config),N=function(){try{return{res:F.validateSync({type:b.type,config:E},{stripUnknown:!0})}}catch(e){return{err:e}}}(),R=N.res,M=N.err;M&&(console.error("[EditModal] Failed to validate field of type ".concat(b.type,".\n Please update model.json accordingly.")),console.error(M));var B={id:g,config:R?R.config:E},q=(0,o.Z)(S.id.validate.matches,2),D=q[0],O=q[1],P=f.object().shape({id:f.string().matches(D,O).min(3).max(35).required(),config:F.fields.config}),V="".concat("edit-modal-form","-").concat(Math.random().toString());return(0,l.jsx)(c.Z,{isOpen:!0,shouldCloseOnOverlayClick:!0,onRequestClose:n,contentLabel:"Widget Form Modal",children:(0,l.jsx)(w,{apiId:g,formId:V,initialValues:B,validationSchema:P,FormFields:S,onSave:function(e){var t=e.newKey,r=e.value;s({apiId:g,newKey:t,value:(0,i.Z)({},b,r)}),n()},children:function(e){var t=e.values,s=t.id,c=t.config.label,u=e.isValid,f=e.isSubmitting,p=e.initialValues,v=I?(0,l.jsx)(I,(0,r.Z)((0,i.Z)({},e),{fields:a}),"field-model-tab-content"):(0,l.jsx)(C.k,{children:Object.entries(S).map(function(e){var n=(0,o.Z)(e,2),t=n[0],i=n[1];return(0,l.jsx)(C.J,{children:(0,l.jsx)(T.Z,{fieldName:(0,x.lm)(t),formField:i,fields:a,initialValues:p})},t)})},"field-model-tab-content"),g=["Field Model"],b=[v];if("slice"===m){var y=(0,l.jsx)(d.xu,{children:(0,l.jsx)(z,{})},"mock-data-tab-content");g.push("Mock Data"),b.push(y)}return(0,l.jsx)(Z,{borderFooter:!0,footerSx:{position:"sticky",bottom:0,p:0},tabs:g,Header:function(e){var t=e.radius;return(0,l.jsxs)(d.kC,{sx:{position:"sticky",zIndex:1,top:0,p:3,bg:"headSection",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:t,borderTopRightRadius:t},children:[(0,l.jsx)(k,{theme:h,text:c||s,WidgetIcon:j}),(0,l.jsx)(d.x8,{onClick:n,type:"button"})]})},Footer:(0,l.jsxs)(d.kC,{sx:{position:"sticky",bottom:0,alignItems:"space-between",bg:"headSection",p:3},children:[(0,l.jsx)(d.xu,{sx:{ml:"auto"}}),(0,l.jsx)(d.zx,{mr:2,type:"button",onClick:n,variant:"secondary",children:"Cancel"}),(0,l.jsx)(d.zx,{form:V,type:"submit",disabled:!u&&f,sx:{fontWeight:"400",paddingBlock:"8px",paddingInline:"16px",fontSize:"14px",borderRadius:"4px"},children:"Done"})]}),children:b})}})})}},75012:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var i=t(62230),r=t(85244),o=t(52322),l=t(37149),a=t.n(l),s=t(25812),c=t(75289),u=t(54132),d=t(3026),f=t(59326),p=function(e){var n=e.title,t=e.description,i=e.icon,r=e.onSelect,l=(0,f.B7)().theme;return(0,o.jsxs)(c.kC,{sx:{p:3,my:2,alignItems:"center",cursor:"pointer",borderRadius:"3px",border:function(e){var n;return"1px solid ".concat(null===(n=e.colors)||void 0===n?void 0:n.borders)},"&:hover":{border:function(e){var n=e.colors;return"1px solid ".concat(n.primary)},boxShadow:"0 0 0 3px rgba(81, 99, 186, 0.2)"}},"data-testid":n,onClick:r,children:[(0,o.jsx)(i,{label:'Select field of type "'.concat(n,'"'),style:{color:l.colors.primary,marginRight:"8px",borderRadius:"4px",padding:"5px",border:"2px solid",borderColor:l.colors.primary},size:32}),(0,o.jsxs)(c.xu,{ml:1,children:[(0,o.jsx)(c.X6,{as:"h4",sx:{fontSize:1},children:(0,o.jsx)("b",{children:n})}),(0,o.jsx)(c.xv,{as:"p",variant:"xs",children:t})]})]})};a().setAppElement("#__next");var x=function(e){var n=e.data,t=e.close,l=e.onSelect,a=e.widgetsArray;return n.isOpen?(0,o.jsx)(s.Z,{isOpen:!0,shouldCloseOnOverlayClick:!0,onRequestClose:t,contentLabel:"Widget Form Modal",children:(0,o.jsx)(u.Z,{borderFooter:!0,footerSx:{p:3},bodySx:{pt:2,pb:4,px:4},sx:{border:"none"},Header:function(e){var n=e.radius;return(0,o.jsxs)(c.kC,{sx:{position:"sticky",top:0,zIndex:1,p:3,pl:4,bg:"headSection",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:n,borderTopRightRadius:n,borderBottom:function(e){var n;return"1px solid ".concat(null===(n=e.colors)||void 0===n?void 0:n.borders)}},children:[(0,o.jsx)(c.X6,{children:"Add a new field"}),(0,o.jsx)(c.x8,{onClick:t})]})},children:(0,o.jsx)(d.k,{children:a.filter(function(e){return e}).map(function(e){var n=e.Meta,t=e.TYPE_NAME,a=e.CUSTOM_NAME;return(0,o.jsx)(d.J,{children:(0,o.jsx)(p,(0,r.Z)((0,i.Z)({},n),{onSelect:function(){return l(a||t)}}))},a||t)})})})}):null}},70697:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var i=t(22710),r=t(99267),o=t(52322),l=t(2784),a=t(49857),s=t(81038),c=t(59326),u=t(75289),d=t(8799),f=t(77245),p=t(65186),x=t(39576),m={position:"relative",top:"3px"},h=function(e){var n,t,i,r=e.code,a=e.lang,s=(0,c.B7)().theme,h=(0,l.useState)(!1),v=h[0],g=h[1],b=function(){r&&navigator.clipboard.writeText(r).then(function(){g(!0),setTimeout(function(){g(!1)},1200)})};return r?(0,o.jsxs)(u.kC,{sx:{p:2,px:3,alignItems:"center",borderTop:"1px solid",borderColor:"borders",justifyContent:"space-between"},children:[(0,o.jsxs)(u.kC,{sx:{alignItems:"center",display:["none","none","flex"],maxWidth:"80%"},children:[(0,o.jsx)(d.vcz,{size:26,color:null==s?void 0:null===(n=s.colors)||void 0===n?void 0:n.icons,style:{border:"1px solid",borderColor:null==s?void 0:null===(t=s.colors)||void 0===t?void 0:t.borders,borderRadius:"3px",padding:"4px",marginRight:"2px"}}),(0,o.jsx)(x.Z,{sx:{margin:"0px 8px",border:"none",borderRadius:"3px",fontSize:"13px"},lang:a,children:r})]}),(0,o.jsx)(u.xu,{children:(0,o.jsxs)(u.zx,{"aria-label":v?"Code snippet copied":"Copy code snippet",onClick:b,variant:"textButton",children:[v?(0,o.jsx)(p.HhX,{size:16,color:null==s?void 0:null===(i=s.colors)||void 0===i?void 0:i.success,style:m}):(0,o.jsx)(f.LhG,{size:16,style:m}),(0,o.jsx)(u.xv,{as:"span",sx:{display:["none","inline","none","inline"]},children:"\xa0Copy"})]})})]}):null},v=function(e){var n=e.show,t=e.renderHintBase,l=e.item,c=t({item:l}),u=(0,a.ZP)(c,(0,i.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,s.j.snippets.readSnippets({fieldPath:c.split("."),model:l.value})];case 1:return[2,e.sent()]}})})),d=u.data,f=u.error;if(f&&console.error(f),!d||f)return null;var p=d.snippets||[];return p[0]?(0,o.jsx)("div",{style:{display:n?"initial":"none"},children:(0,o.jsx)(h,{code:p[0].code,lang:p[0].language})}):null}},9620:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var i=t(62230),r=t(85244),o=t(98240),l=t(52322),a=t(2784),s=t(63397),c=t(75289),u=t(59326),d=t(22715),f=t(90569),p=t(60113),x=t(83239),m=t(38876),h=t(33710),v=t(18978),g=t(39295),b=function(e){var n=e.error;return n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.X,{children:(0,l.jsx)(h.Z,{type:"light",multiline:!0,border:!0,borderColor:"tomato"})}),(0,l.jsx)(v.Zlu,{color:"tomato","data-tip":n,style:{position:"absolute",right:"8px"},size:16})]}):null},y=t(59872),j=function(e){var n=e.innerRef,t=(0,o.Z)(e,["innerRef"]);return(0,l.jsx)(c.II,(0,r.Z)((0,i.Z)({},t),{ref:n}))},Z=function(e){var n=e.widgetTypeName,t=e.fields,o=e.onSave,h=e.onCancelNewField,v=(0,a.useRef)(null),g=(0,u.B7)().theme,Z=(0,a.useState)(!0),k=Z[0],C=Z[1];(0,a.useEffect)(function(){v.current&&v.current.focus()},[v]);var S=x[n];if(!S)return console.error('Widget of type "'.concat(n,'" not found. This is a problem on our side!')),(0,l.jsx)("div",{children:"Unexpected error. Contact us for more info."});var I=S.FormFields,F=S.Meta.icon,E={id:I.id,label:I.label},w=(0,r.Z)((0,i.Z)({},(0,p.f7)(E),"UID"===n?{id:"uid"}:{}),{widgetTypeName:n}),T=(0,p.gc)(E),A=function(e,n,t){t(k&&!E.id.disabled?(0,r.Z)((0,i.Z)({},n),{label:e.target.value,id:(0,m.lV)(e.target.value)}):(0,r.Z)((0,i.Z)({},n),{label:e.target.value}))},_=function(e,n){n("id",e.target.value),C(!1)};return(0,l.jsx)(s.J9,{onSubmit:o,validationSchema:T,initialValues:w,children:function(e){var n,o,a=e.errors,u=e.values,p=e.setValues,x=e.setFieldValue,m=e.submitForm;return(0,l.jsx)(s.l0,{"data-testid":"new-field-form",children:(0,l.jsxs)(c.kC,{as:"li",sx:{bg:"white",p:3,px:3,mx:0,ml:"34px",alignItems:"center",variant:"styles.listItem",border:function(e){var n,t;return"1px solid ".concat((null===(n=e.colors)||void 0===n?void 0:null===(t=n.borders)||void 0===t?void 0:t.toString())||"")},flexWrap:"wrap",gap:"12px",justifyContent:"flex-start"},children:[(0,l.jsx)(F,{style:{color:null===(n=g.colors)||void 0===n?void 0:n.primary,borderRadius:"4px",padding:"4px",border:"2px solid",borderColor:null===(o=g.colors)||void 0===o?void 0:o.primary},size:28}),(0,l.jsxs)(c.kC,{sx:{alignItems:"center",flexGrow:1,gap:2,position:"relative"},children:[(0,l.jsx)(c.xv,{as:"p",sx:{fontWeight:500,whiteSpace:"nowrap"},children:"Field Name"}),(0,l.jsx)(s.gN,{onChange:function(e){return A(e,u,p)},onKeyDown:function(e){"Enter"===e.key&&m()},name:"label",placeholder:"Field Name",type:"text",validate:function(e){if(!e.length)return"This field is required"},as:j,innerRef:v,sx:(0,r.Z)((0,i.Z)({},(0,y.tM)(E.label.disabled?y.$w.DISABLED:a.label?y.$w.ERROR:void 0)),{flexGrow:1,minWidth:"128px",width:"initial"}),"aria-label":"label-input","data-testid":"new-field-name-input"}),(0,l.jsx)(b,{error:a.label})]}),(0,l.jsxs)(c.kC,{sx:{alignItems:"center",flexGrow:1,gap:2,position:"relative"},children:[(0,l.jsx)(c.xv,{as:"p",sx:{fontWeight:500,whiteSpace:"nowrap"},children:"Field ID"}),(0,l.jsx)(s.gN,{onChange:function(e){return _(e,x)},onKeyDown:function(e){"Enter"===e.key&&m()},name:"id",placeholder:"e.g. buttonLink",type:"text",disabled:E.id.disabled,validate:function(e){return(0,f.u)({value:e,fields:t,initialId:null})},as:j,sx:(0,r.Z)((0,i.Z)({},(0,y.tM)(E.id.disabled?y.$w.DISABLED:a.id?y.$w.ERROR:void 0)),{flexGrow:1,minWidth:"128px",width:"initial"}),"data-testid":"new-field-id-input"}),(0,l.jsx)(b,{error:a.id})]}),(0,l.jsxs)(c.kC,{sx:{gap:2},children:[(0,l.jsx)(d.zx,{onClick:h,color:"grey",children:"Cancel"}),(0,l.jsx)(d.zx,{onClick:function(){m()},children:"Add"})]})]})})}})}},8482:function(e,n,t){"use strict";t.d(n,{Z:function(){return I}});var i=t(62230),r=t(85244),o=t(17064),l=t(81541),a=t(52322),s=t(22715),c=t(13980),u=t(2784),d=t(65077),f=t(28173),p=t(82770),x=t(75012),m=t(9620),h=t(40023),v=t(75289),g=t(71168),b=t(28728),y=t(83239),j=t(99968),Z=t(70697),k=function(e){var n=e.fields,t=e.title,o=e.tabId,l=e.enterEditMode,s=e.enterSelectMode,c=e.onDragEnd,u=e.renderFieldAccessor,d=e.onDeleteItem,f=e.showHints,p=e.newField,x=e.renderHintBase,m=e.isRepeatable,k=e.testId,C=e.isRepeatableCustomType;return(0,a.jsx)(h.Z5,{onDragEnd:c,children:(0,a.jsx)(h.bK,{droppableId:t,children:function(e,t){return(0,a.jsxs)(v.xu,(0,r.Z)((0,i.Z)({as:"ul",ref:e.innerRef},e.droppableProps),{"data-testid":k,sx:{paddingInline:"16px !important"},children:[n.map(function(e,n){var c=e.value,p=c.config,h=c.type,k=(0,j.t)(y,p,h);if(!k)return(0,a.jsx)(g.Z,{children:(0,a.jsxs)(v.xv,{children:['Field type "',h,'" not supported']})});var S={item:e,index:n,tabId:o,widget:k,showHints:f,key:e.key,enterSelectMode:s,renderFieldAccessor:u,enterEditMode:l,parentSnapshot:t,deleteItem:d,draggableId:"list-item-".concat(e.key),isRepeatableCustomType:C,testId:"list-item-".concat(e.key)};if(k.CustomListItem){var I=k.CustomListItem;return(0,a.jsx)(I,(0,i.Z)({},S))}var F=(0,a.jsx)(Z.Z,{item:e,show:f,isRepeatable:m,renderHintBase:x,Widgets:y,typeName:k.CUSTOM_NAME||k.TYPE_NAME});return(0,a.jsx)(b.Z,(0,r.Z)((0,i.Z)({},S),{HintElement:F}))}),e.placeholder,p]}))}})})},C=function(e){var n=e.onEnterSelectMode,t=e.zoneName;return(0,a.jsxs)(v.xu,{sx:{textAlign:"center",my:4},children:[(0,a.jsx)(v.X6,{as:"h5",children:"Add a new field here"}),(0,a.jsx)(v.xu,{sx:{my:2},children:(0,a.jsxs)(v.xv,{sx:{color:"textClear"},children:["Add a field to your ",t," Zone"]})}),(0,a.jsx)(v.xu,{sx:{display:"flex",justifyContent:"center",marginTop:16},children:(0,a.jsx)(s.zx,{color:"grey",onClick:function(){return n()},"data-testid":"add-".concat(t,"-field"),startIcon:"add",children:"Add a new field"})})]})},S=function(e){var n=e.zoneType,t=e.zoneTypeFormat,c=e.tabId,h=e.title,v=e.fields,g=e.poolOfFieldsToCheck,b=e.widgetsArray,y=e.isRepeatable,j=e.onDeleteItem,Z=e.onSaveNewField,S=e.onDragEnd,I=e.EditModal,F=e.onSave,E=e.dataTip,w=e.renderHintBase,T=e.renderFieldAccessor,A=e.testId,_=e.isRepeatableCustomType,N=Object.entries(g).find(function(e){return"UID"===(0,o.Z)(e,2)[1].value.type})?b.filter(function(e){return"UID"!==e.TYPE_NAME}):b,R=(0,u.useState)(!1),M=R[0],z=R[1],B=(0,u.useState)({isOpen:!1}),q=B[0],D=B[1],O=(0,u.useState)({isOpen:!1}),P=O[0],V=O[1],L=(0,u.useState)(null),H=L[0],J=L[1],U=function(e){D({isOpen:!0,field:e});var i=(0,o.Z)(e,2),r=i[0],l=i[1];p.Xe.track({event:"field:settings-opened",id:r,name:l.config.label,type:l.type,isInAGroup:!1,contentType:"customType"===n?"page"===t?"page type":"custom type":"slice"})},W=function(){V({isOpen:!0})},$=function(){D({isOpen:!1})},G=function(){return V({isOpen:!1})},Y=function(e){J({widgetTypeName:e,fields:v}),V({isOpen:!1})},X=function(){return J(null)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Bu,{actions:v.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.xv,{color:"grey11",component:"span",noWrap:!0,children:"Show code snippets?"}),(0,a.jsx)(s.rs,{checked:M,onCheckedChange:z,size:"small",style:{flexShrink:0},"data-testid":"code-snippets-switch"}),(0,a.jsx)(s.zx,{"data-testid":"add-".concat(y?"Repeatable":"Static","-field"),onClick:W,startIcon:"add",color:"grey",disabled:null!==H,children:"Add a new field"})]}):void 0,children:h}),0!==v.length||H?v.length>0||H?(0,a.jsx)(d.xR,{children:(0,a.jsx)(k,{tabId:c,isRepeatable:y,fields:v,showHints:M,dataTip:E,title:h,renderFieldAccessor:T,renderHintBase:w,enterEditMode:U,enterSelectMode:W,onDragEnd:S,onDeleteItem:j,testId:A,isRepeatableCustomType:_,newField:H&&(0,a.jsx)(m.Z,(0,r.Z)((0,i.Z)({},H),{fields:g||v,onSave:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];Z.apply(void 0,(0,l.Z)(n)),J(null)},onCancelNewField:X}))})}):void 0:(0,a.jsx)(d.xR,{children:(0,a.jsx)(C,{onEnterSelectMode:function(){return W()},zoneName:y?"Repeatable":"Static"})}),(0,a.jsx)(I,{data:q,close:$,onSave:F,fields:g,zoneType:n}),(0,a.jsx)(x.Z,{data:P,close:G,onSelect:Y,widgetsArray:N})]})};S.propTypes={isRepeatable:c.bool,title:c.string.isRequired,dataTip:c.string.isRequired,onSave:c.func.isRequired,onSaveNewField:c.func.isRequired,onDragEnd:c.func.isRequired,onDeleteItem:c.func.isRequired,poolOfFieldsToCheck:(0,c.arrayOf)((0,c.shape)({key:c.string,value:c.object})),renderHintBase:c.func.isRequired,renderFieldAccessor:c.func.isRequired,widgetsArray:c.array.isRequired,fields:(0,c.arrayOf)((0,c.shape)({key:c.string.isRequired,value:(0,c.shape)({config:c.object,fields:c.array,type:c.string.isRequired})}))};var I=S},99968:function(e,n,t){"use strict";t.d(n,{t:function(){return i}});var i=function(e,n,t){if("Link"===t)switch(null==n?void 0:n.select){case"document":return e.ContentRelationship;case"media":return e.LinkToMedia;default:return e.Link}return e[t]}},90569:function(e,n,t){"use strict";t.d(n,{J:function(){return l},u:function(){return o}});var i=t(34671),r=t(75329),o=function(e){var n=e.value,t=e.fields,i=e.initialId;return n?t.find(function(e){return e.key===n})&&n!==i?'Field "'.concat(n,'" already exists.'):void 0:"Field is required"},l={label:(0,i.II)("Label",{required:"This field is required",max:!0},void 0,void 0,"Label for content creators (defaults to field type)"),id:(0,i.II)("API ID*",{min:!0,max:!0,required:"This field is required",matches:[r.xo,"No special characters allowed (except _)"]},o,void 0,"A unique identifier for the field (e.g. buttonLink)"),placeholder:(0,i.II)("Placeholder",{required:"This field is required",max:[100,"String is too long. Max: 100"]},void 0,void 0,"Placeholder text for content creators")}},34671:function(e,n,t){"use strict";t.d(n,{II:function(){return c},Jg:function(){return o}});var i=t(78610),r=t(60113),o=function(e){var n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return{type:i.h.CHECKBOX,validate:{required:(0,r.MJ)(n,s)},required:n,label:e,defaultValue:t,yupType:"boolean"}},l=[3,"String is too short. Min: 3"],a=[35,"String is too long. Max: 35"],s=["Field is required"],c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{min:l,max:a,required:s},t=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,u=n||{},d=u.min,f=u.max,p=u.required,x=u.matches;return{type:i.h.INPUT,label:e,validate:{required:(0,r.MJ)(p,s),min:(0,r.MJ)(d,l),max:(0,r.MJ)(f,a),matches:x},defaultValue:o,fieldLevelValidation:t,yupType:"string",placeholder:c}}},60113:function(e,n,t){"use strict";t.d(n,{MJ:function(){return d},f7:function(){return f},gc:function(){return p},lm:function(){return u}});var i=t(67557),r=t(62230),o=t(85244),l=t(17064),a=t(81541),s=t(65413),c=t(78610),u=function(e){return"id"===e?"id":"config.".concat(e)},d=function(e,n){return Array.isArray(e)?e:"boolean"==typeof e&&e?n:null},f=function(e){return Object.entries(e).reduce(function(e,n){var t,a=(0,l.Z)(n,2),s=a[0],u=null===(t=a[1]).defaultValue?void 0:void 0!==t.defaultValue?t.defaultValue:t.type===c.h.CHECKBOX||(t.type===c.h.INPUT?"":t.type===c.h.SELECT?[]:void 0);return void 0!==u?(0,o.Z)((0,r.Z)({},e),(0,i.Z)({},s,u)):e},{})},p=function(e){return s.object().shape(Object.entries(e).filter(function(e){return e}).reduce(function(e,n){var t=(0,l.Z)(n,2),c=t[0],u=t[1],d=u.validate,f=u.yupType;if(!d)return e;if("function"==typeof d)return(0,o.Z)((0,r.Z)({},e),(0,i.Z)({},c,d(c,u)));var p=s[f]();return Object.entries(d).filter(function(e){return e&&e[1]}).forEach(function(e){var n,t=(0,l.Z)(e,2),i=t[0],r=t[1];if(r&&p[i]){p=(n=p)[i].apply(n,(0,a.Z)(Array.isArray(r)?r:[r]));return}console.warn('Invalid Yup validator for field "'.concat(c,'"'))}),(0,o.Z)((0,r.Z)({},e),(0,i.Z)({},c,p))},{})).required().default(void 0).noUnknown(!0)}},78610:function(e,n,t){"use strict";var i,r;t.d(n,{h:function(){return i}}),(r=i||(i={})).CHECKBOX="checkbox",r.INPUT="input",r.SELECT="select"},82910:function(e,n,t){"use strict";t.d(n,{H:function(){return f}});var i=t(65413),r=t(8799),o=t(83462),l=t(60113),a=t(90569),s=t(34671),c={icon:r.XGl,title:"Boolean",description:"An input that is either true or false"},u={label:a.J.label,id:a.J.id,placeholder_false:(0,s.II)("False Placeholder",{required:!1},null,"false","Value the content creator sees (Output as 'false' in the API)."),placeholder_true:(0,s.II)("True Placeholder",{required:!1},null,"true","Value the content creator sees (Output as 'true' in the API)"),default_value:(0,s.Jg)("Default to true")},d=i.object().shape({type:i.string().matches(/^Boolean$/,{excludeEmptyString:!0}).required(),config:(0,l.gc)((0,o.B9)(u,"id"))}),f={TYPE_NAME:"Boolean",create:function(e){return{type:"Boolean",config:{label:e,default_value:!1,placeholder_true:"true",placeholder_false:"false"}}},Meta:c,schema:d,FormFields:u}},12174:function(e,n,t){"use strict";t.d(n,{S:function(){return c}});var i,r=t(65186),o=t(83462),l={icon:r.jqW,title:"Color",description:"A color picker"},a=(0,o.zg)("Color"),s=a.TYPE_NAME,c={create:function(e){return{type:"Color",config:{label:e,placeholder:""}}},FormFields:a.FormFields,TYPE_NAME:s,schema:a.schema,Meta:l}},86495:function(e,n,t){"use strict";t.d(n,{l:function(){return C}});var i=t(62230),r=t(85244),o=t(65413),l=t(17064),a=t(52322),s=t(75289),c=t(90569),u=t(89853),d=t(36131),f=t(3026),p=t(60113),x=t(56580),m=t(31667),h=t(7819),v={label:c.J.label,id:c.J.id,customtypes:{validate:function(){return o.array().of(o.string())}}},g=function(e){var n=e.initialValues,t=e.values,o=e.fields,c=e.setFieldValue,g=(0,x.v9)(m.Ch).filter(h.TG),b=g.map(function(e){return{value:e.local.id,label:e.local.label}}),y=t.config.customtypes?t.config.customtypes.map(function(e){var n=g.find(function(n){return n.local.id===e});return{value:null==n?void 0:n.local.id,label:null==n?void 0:n.local.label}}):null;return(0,a.jsxs)(f.k,{children:[Object.entries(v).filter(function(e){return"customtypes"!==e[0]}).map(function(e){var t=(0,l.Z)(e,2),i=t[0],r=t[1];return(0,a.jsx)(f.J,{children:(0,a.jsx)(u.Z,{fieldName:(0,p.lm)(i),formField:r,fields:o,initialValues:n})},i)}),(0,a.jsx)(f.J,{children:(0,a.jsxs)(s.xu,{sx:{mt:2,alignItems:"center"},children:[(0,a.jsx)(s.__,{htmlFor:"origin",mb:"1",children:"Types"}),(0,a.jsx)(d.ZP,{isMulti:!0,name:"origin",options:b,onChange:function(e){e&&c("config.customtypes",e.map(function(e){return e.value}))},value:y,theme:function(e){return(0,r.Z)((0,i.Z)({},e),{colors:(0,r.Z)((0,i.Z)({},e.colors),{text:"text",primary:"background"})})}})]})})]})},b=t(65186),y=t(348),j={icon:b.I2R,title:"Content Relationship",description:"Define content relations & internal links"},Z=y.I.shape({label:o.string().max(35,"String is too long. Max: 35"),select:o.string().required().matches(/^document$/,{excludeEmptyString:!0}),customtypes:o.array(o.string()).strict().optional()}),k=o.object().shape({type:o.string().matches(/^Link$/,{excludeEmptyString:!0}).required(),config:Z}),C={create:function(e){return{type:"Link",config:{label:e,select:"document"}}},Meta:j,schema:k,TYPE_NAME:"Link",FormFields:v,CUSTOM_NAME:"ContentRelationship",Form:g,prepareInitialValues:function(e){var n=(0,x.v9)(m.Ch).filter(h.TG);return(null==e?void 0:e.customtypes)?(0,r.Z)((0,i.Z)({},e),{customtypes:e.customtypes.filter(function(e){return n.find(function(n){return n.local.id===e})})}):e}}},71516:function(e,n,t){"use strict";t.d(n,{v:function(){return a}});var i,r=t(65186),o=(0,t(83462).zg)("Date"),l=o.FormFields,a={create:function(e){return{type:"Date",config:{label:e,placeholder:""}}},FormFields:l,TYPE_NAME:"Date",schema:o.schema,Meta:{icon:r.f$3,title:"Date",description:"A calendar date picker"}}},79583:function(e,n,t){"use strict";t.d(n,{S:function(){return a}});var i,r=t(34543),o=(0,t(83462).zg)("Embed"),l=o.FormFields,a={create:function(e){return{type:"Embed",config:{label:e,placeholder:""}}},FormFields:l,TYPE_NAME:"Embed",schema:o.schema,Meta:{icon:r.xqv,title:"Embed",description:"Embed videos, songs, tweets, slides, …"}}},37191:function(e,n,t){"use strict";t.d(n,{X:function(){return s}});var i,r=t(65413),o=t(65186),l=t(90569),a={label:l.J.label,id:l.J.id},s={create:function(e){return{type:"GeoPoint",config:{label:e}}},FormFields:a,TYPE_NAME:"GeoPoint",schema:r.object().shape({type:r.string().matches(/^GeoPoint$/,{excludeEmptyString:!0}).required(),config:r.object().shape({label:r.string()}).required().default(void 0).noUnknown(!0)}),Meta:{icon:o.c7Z,title:"GeoPoint",description:"A field for storing geo-coordinates"}}},64118:function(e,n,t){"use strict";t.d(n,{b:function(){return _}});var i=t(65413),r=t(62230),o=t(85244),l=t(17064),a=t(52322),s=t(2784),c=t(90569),u=t(60113),d=t(89853),f=t(63397),p=t(75289),x=t(3026),m=t(98240),h=t(8799),v=t(65186),g=t(39031),b=t(34066),y=function(e){var n=e.onClick,t=e.error,i=e.onDelete,o=e.active,l=e.text,c=e.sx;return(0,a.jsx)(g.Z,{useActive:!0,fitButton:!0,error:t,onClick:n,active:o,sx:(0,r.Z)({position:"relative",width:"64px",height:"64px"},c),Icon:function(){return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsxs)(p.kC,{sx:{flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,a.jsx)(h.jnY,{size:22}),(0,a.jsx)(p.xv,{mt:1,children:l})]}),i?(0,a.jsx)(p.Ct,{onClick:i,variant:"circle-right",children:(0,a.jsx)(v.B4e,{})}):null]})}})},j=function(e){var n=e.onClick;return(0,a.jsx)(g.Z,{fitButton:!0,onClick:n,sx:{width:"64px",height:"64px",border:function(e){var n=e.colors;return"1px solid ".concat(String(null==n?void 0:n.borders))}},Icon:function(){return(0,a.jsx)(p.kC,{sx:{flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,a.jsx)(h.iTs,{size:34,color:"#5263BA","aria-label":"Add a thumbnail"})})}})},Z=function(e){var n=e.prefix,t=e.required,i=e.display,r=(0,l.Z)((0,f.U$)(n),2),o=(r[0],r[1]),c=void 0!==t&&t?"*":"";return i?(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(k,{name:"".concat(n,".name"),label:"Name".concat(c),placeholder:"main",sx:{mb:3},isConstraint:"config.constraint"===n,meta:o}),(0,a.jsx)(C,{name:"".concat(n,".width"),label:"Width (px)".concat(c),placeholder:" ",sx:{mb:3}}),(0,a.jsx)(C,{name:"".concat(n,".height"),label:"Height (px)".concat(c),placeholder:" "})]}):null},k=function(e){var n=e.name,t=e.label,i=e.placeholder,s=e.meta,c=e.isConstraint,u=(0,m.Z)(e,["name","label","placeholder","meta","isConstraint"]),d=(0,l.Z)((0,f.U$)(n),1)[0];return(0,a.jsx)(b.Hq,(0,o.Z)((0,r.Z)({},u),{fieldName:n,meta:s,formField:{label:t,placeholder:i},field:c?{value:"main",readOnly:!0}:{value:d.value},variant:c?"disabled":"primary"}))},C=function(e){var n=e.name,t=e.label,i=e.placeholder,s=(0,m.Z)(e,["name","label","placeholder"]),c=(0,l.Z)((0,f.U$)(n),2),u=c[0],d=c[1];return(0,a.jsx)(b.Hq,(0,o.Z)((0,r.Z)({},s),{fieldName:n,formField:{label:t,placeholder:i},meta:d,field:{min:0,type:"number",value:u.value||"",onKeyDown:function(e){("e"===e.key||"-"===e.key||"+"===e.key)&&e.preventDefault()}}}))},S=function(){return i.number().nullable().transform(function(e,n){return""===n?null:e})},I={label:c.J.label,id:c.J.id,constraint:{validate:function(){return i.object().defined().shape({width:S(),height:S()})}},thumbnails:{validate:function(){return i.array().defined().of(i.object().test({name:"Thumbnails",message:"Must set name and width or height at minimum",test:function(e){if(!e.name)return!1;var n="number"==typeof e.width&&e.width,t="number"==typeof e.height&&e.height;return e.name&&(n||t)}}))}}},F={name:"",width:"",height:""},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,t=e.height,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!i||n||t?n||t?"".concat(n||"auto","x").concat(t||"auto"):"...":"auto"},w=function(e){var n=e.initialValues,t=e.values,i=e.errors,c=e.fields,m=e.touched,h=(0,s.useState)(0),v=h[0],g=h[1],b=t.config,k=b.thumbnails,C=b.constraint;return(0,s.useEffect)(function(){g(k.length)},[k.length]),(0,a.jsxs)(x.k,{children:[Object.entries(I).map(function(e){var t=(0,l.Z)(e,2),i=t[0],r=t[1];return(0,a.jsx)(x.J,{children:(0,a.jsx)(d.Z,{fieldName:(0,u.lm)(i),formField:r,fields:c,initialValues:n})},i)}),(0,a.jsxs)(x.J,{children:[(0,a.jsx)(p.__,{htmlFor:"thumbnails",variant:"label.primary",sx:{mt:1,display:"flex",alignItems:"center"},children:"Responsive views*"}),(0,a.jsx)(p.Zb,{p:3,children:(0,a.jsx)(f.F2,{name:"config.thumbnails",render:function(n){var t=n.push,l=n.remove;return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsxs)(p.kC,{mb:3,children:[(0,a.jsx)(y,{active:0===v,text:E(C,!0),sx:{mr:2},onClick:function(){return g(0)}}),k.map(function(e,n){return(0,a.jsx)(y,{sx:{mr:3},active:v===+n+1,text:E(e),error:!!i.thumbnails&&!!m.thumbnails&&!!m.thumbnails[n]&&!!i.thumbnails&&!!i.thumbnails[n],onDelete:function(){return l(n)},onClick:function(){return g(+n+1)}},"thumbnail-button-".concat(+n+1))}),(0,a.jsx)(j,{onClick:function(){t(F)}})]}),(0,a.jsx)(Z,(0,o.Z)((0,r.Z)({},e),{display:0===v,prefix:"config.constraint"})),k.map(function(n,t){return(0,s.createElement)(Z,(0,o.Z)((0,r.Z)({},e),{required:!0,key:"thumbnail-".concat(+t+1),display:v===+t+1,prefix:"config.thumbnails[".concat(t,"]")}))})]})}})})]})]})},T=t(83462),A=i.object().shape({type:i.string().matches(/^Image$/,{excludeEmptyString:!0}).required(),config:(0,u.gc)((0,T.B9)(I,"id"))}),_={Meta:{icon:h.jnY,title:"Image",description:"A responsive image field with constraints"},Form:w,schema:A,create:function(e){return{type:"Image",config:{label:e,constraint:{},thumbnails:[]}}},FormFields:I,TYPE_NAME:"Image"}},348:function(e,n,t){"use strict";t.d(n,{h:function(){return v},I:function(){return h}});var i=t(65413),r=t(62230),o=t(85244),l=t(17064),a=t(52322),s=t(90569),c=t(89853),u=t(34671),d=t(3026),f=t(60113),p=(0,o.Z)((0,r.Z)({},s.J),{allowTargetBlank:(0,u.Jg)("Allow target blank",!1,!1)}),x=function(e){var n=e.initialValues,t=e.fields;return(0,a.jsx)(d.k,{children:Object.entries(p).map(function(e){var i=(0,l.Z)(e,2),r=i[0],o=i[1];return(0,a.jsx)(d.J,{children:(0,a.jsx)(c.Z,{fieldName:(0,f.lm)(r),formField:o,fields:t,initialValues:n})},r)})})},m={icon:t(34543).eR7,title:"Link",description:"A link to web, media or Prismic document"},h=i.object().shape({label:i.string().optional(),useAsTitle:i.boolean().optional(),placeholder:i.string().optional(),select:i.string().optional().oneOf(["media","document","web",null]).nullable(),customtypes:i.array(i.string()).strict().optional(),masks:i.array(i.string()).optional(),tags:i.array(i.string()).optional(),allowTargetBlank:i.boolean().strict().optional()}).required().default(void 0).noUnknown(!0),v={Meta:m,FormFields:p,schema:i.object().shape({type:i.string().matches(/^Link$/,{excludeEmptyString:!0}).required(),config:h.optional()}),Form:x,create:function(e){return{type:"Link",config:{label:e,placeholder:"",select:null}}},TYPE_NAME:"Link"}},33949:function(e,n,t){"use strict";t.d(n,{H:function(){return v}});var i=t(65413),r=t(65186),o=t(348),l=t(62230),a=t(17064),s=t(52322),c=t(90569),u=t(89853),d=t(3026),f=t(60113),p=(0,l.Z)({},c.J),x=function(e){var n=e.initialValues,t=e.fields;return(0,s.jsx)(d.k,{children:Object.entries(p).map(function(e){var i=(0,a.Z)(e,2),r=i[0],o=i[1];return(0,s.jsx)(d.J,{children:(0,s.jsx)(u.Z,{fieldName:(0,f.lm)(r),formField:o,fields:t,initialValues:n})},r)})})},m={icon:r.x2k,title:"Link to media",description:"A link to files, document and media"},h=o.I.shape({select:i.string().required().matches(/^media$/,{excludeEmptyString:!0})}),v={Meta:m,FormFields:p,schema:i.object().shape({type:i.string().matches(/^Link$/,{excludeEmptyString:!0}).required(),config:h.optional()}),Form:x,create:function(e){return{type:"Link",config:{label:e,placeholder:"",select:"media"}}},TYPE_NAME:"Link",CUSTOM_NAME:"LinkToMedia"}},51490:function(e,n,t){"use strict";t.d(n,{L:function(){return a}});var i,r=t(951),o=(0,t(83462).zg)("Number"),l=o.FormFields,a={create:function(e){return{type:"Number",config:{label:e,placeholder:""}}},FormFields:l,TYPE_NAME:"Number",schema:o.schema,Meta:{icon:r.JUs,title:"Number",description:"A number input field"}}},74269:function(e,n,t){"use strict";t.d(n,{u:function(){return b}});var i=t(65413),r=t(65186),o=t(60113),l=t(83462),a=t(62230),s=t(85244),c=t(52322),u=t(63397),d=t(34066),f=t(78610),p=t(90569),x=function(e){return"use first value as default ".concat(e?'("'.concat(e,'")'):"")},m=function(e,n){return n?e:void 0},h=(0,s.Z)((0,a.Z)({},p.J),{default_value:{type:f.h.CHECKBOX,yupType:"string",defaultValue:null,validate:function(){return i.string().test({name:"default_value",message:'Default value is not part of field "options" in Select',test:function(e){return void 0===e||this.parent&&this.parent.options&&this.parent.options.find(function(n){return n===e})}})},component:function(e){var n,t=null===(n=(0,u.u6)().values.config)||void 0===n?void 0:n.options[0];return(0,c.jsx)(d.w8,(0,s.Z)((0,a.Z)({},e),{defaultValue:e.field.value,controlledValue:t,setControlledValue:e.helpers.setValue,buildControlledValue:m,label:x}))}},options:{yupType:"array",defaultValue:["1","2"],validate:{required:["Select requires a minimum of 2 options"],min:[2,"Choose at least 2 options"],test:{name:"non-empty values",message:"Values cannot be empty",test:function(e){return!e.some(function(e){return!e||!e.length})}}},component:function(e){return(0,c.jsx)(d.kp,(0,a.Z)({label:"Options",inputPlaceholder:"Select option output in API (e.g. 'blueTheme')",buttonLabel:"Add option"},e))}}}),v={icon:r.dzP,title:"Select",description:"A dropdown field of options for content creators."},g=i.object().shape({type:i.string().matches(/^Select$/,{excludeEmptyString:!0}).required(),config:(0,o.gc)((0,l.B9)(h,"id"))}),b={FormFields:h,create:function(e){return{type:"Select",config:{label:e,placeholder:"",options:["1","2"]}}},schema:g,Meta:v,TYPE_NAME:"Select"}},810:function(e,n,t){"use strict";t.d(n,{P:function(){return M}});var i=t(62230),r=t(65413),o=t(85244),l=t(17064),a=t(81541),s=t(52322),c=t(2784),u=t(60113),d=t(34671),f=t(90569),p=t(34543),x=t(8799),m=function(e){return function(n){var t=n.size;return(0,s.jsx)("span",{style:{fontSize:t},children:e})}},h=[{value:"paragraph",label:"P",icon:m("p")},{value:"preformatted",label:"PRE",icon:m("pre")},{value:"heading1",label:"H1",icon:m("h1")},{value:"heading2",label:"H2",icon:m("h2")},{value:"heading3",label:"H3",icon:m("h3")},{value:"heading4",label:"H4",icon:m("h4")},{value:"heading5",label:"H5",icon:m("h5")},{value:"heading6",label:"H6",icon:m("h6")},{value:"strong",label:"Strong",icon:m((0,s.jsx)("b",{children:"b"}))},{value:"em",label:"em",icon:m((0,s.jsx)("em",{style:{fontFamily:"serif"},children:"I"}))},{value:"hyperlink",label:"hyperlink",icon:m((0,s.jsx)(p.eR7,{}))},{value:"image",label:"image",icon:m((0,s.jsx)(p.LFN,{}))},{value:"embed",label:"embed",icon:m((0,s.jsx)(p.xqv,{}))},{value:"list-item",label:"list",icon:m((0,s.jsx)(p.SnF,{}))},{value:"o-list-item",label:"o",icon:m((0,s.jsx)(x.KyO,{}))},{value:"rtl",label:"rtl",icon:m("rtl")},],v=h.map(function(e){return e.value}),g=t(89853),b=t(75289),y=t(3026),j=t(39031),Z=t(47927),k=t(76635),C=function(e){return!v.find(function(n){return!e.includes(n)})},S=function(e){var n=e.split(",");return h.reduce(function(e,t){var i=t.value;return n.includes(i)?(0,a.Z)(e).concat([i]):e},[])};function I(e,n){return(0,Z.has)("parent",e)&&(0,k.isObject)(e.parent)&&(0,Z.has)(n,e.parent)&&(0,k.isString)(e.parent[n])?e.parent[n]:null}function F(e){return function(){return r.string().test({name:e,message:"Options cannot be empty",test:function(n,t){var i=I(t,e),r=I(t,"single"===e?"multi":"single");return!!r&&"string"==typeof r||"string"==typeof i&&(!!i&&!!i.length||!!r&&!!r.length)&&!i.split(",").find(function(e){return!v.includes(e)})}})}}var E=(0,o.Z)((0,i.Z)({},f.J),{allowTargetBlank:(0,d.Jg)("Allow target blank for links"),single:{validate:F("single")},multi:{validate:F("multi")}}),w=["config.single","config.multi"],T=function(e){var n,t=e.initialValues,i=e.values,r=e.errors,o=e.fields,d=e.setFieldValue,f=i.config,p=f.single,x=f.multi,m=p?S(p):x&&S(x)||v,Z=(0,c.useState)(!p),k=Z[0],I=Z[1],F=(0,c.useState)(m),T=F[0],A=F[1];return(0,c.useEffect)(function(){var e=k?1:0;d(w[e],T.join(",")),setTimeout(function(){d(w[1-e],void 0)},100)},[k,T]),(0,s.jsxs)(y.k,{children:[Object.entries(E).map(function(e){var n=(0,l.Z)(e,2),i=n[0],r=n[1];return(0,s.jsx)(y.J,{children:(0,s.jsx)(g.Z,{fieldName:(0,u.lm)(i),formField:r,fields:o,initialValues:t})},i)}),(0,s.jsxs)(y.J,{children:[(0,s.jsxs)(b.__,{htmlFor:"accept",variant:"label.primary",sx:{mt:1,display:"flex",alignItems:"center"},children:["Accept*",(0,s.jsx)(b.zx,{type:"button",variant:"buttons.textButton",onClick:function(){if(C(T))return A([]);A(v)},children:C(T)?"Unselect All":"Select all"})]}),h.map(function(e){return(0,s.jsx)(j.Z,{fitButton:!0,useActive:!0,label:e.label,size:14,Icon:e.icon,sx:{p:"16px",mb:2,mr:2,variant:"buttons.selectIcon"},active:T.includes(e.value),onClick:function(){if(T.find(function(n){return n===e.value}))return A(T.filter(function(n){return n!==e.value}));A((0,a.Z)(T).concat([e.value]))}},e.value)}),(null===(n=r.config)||void 0===n?void 0:n[k?"multi":"single"])?(0,s.jsx)(b.xu,{sx:{position:"absolute"},children:(0,s.jsx)(b.xv,{as:"span",variant:"text.labelError",pl:0,children:r.config[k?"multi":"single"]})}):null]}),(0,s.jsx)(y.J,{children:(0,s.jsx)(b.kC,{sx:{mt:2,alignItems:"center",height:"100%"},children:(0,s.jsxs)(b.__,{variant:"label.border",children:[(0,s.jsx)(b.XZ,{checked:k,onChange:function(){return I(!k)}}),"Allow multiple paragraphs"]})})})]})},A=t(65186),_=t(83462),N={icon:A.BAW,title:"Rich Text",description:"A rich text field with formatting options"},R=r.object().shape({type:r.string().matches(/^StructuredText$/,{excludeEmptyString:!0}).required(),config:(0,u.gc)((0,_.B9)((0,i.Z)({},E,{labels:{yupType:"array",validate:{}}}),"id"))}),M={create:function(e){return{type:"StructuredText",config:{label:e,placeholder:"",allowTargetBlank:!0,multi:v.join(",")}}},FormFields:E,Meta:N,schema:R,TYPE_NAME:"StructuredText",Form:T}},89928:function(e,n,t){"use strict";t.d(n,{y:function(){return u}});var i=t(65413),r=t(65186),o=t(83462),l=t(90569),a=t(60113),s=l.J,c=i.object().shape({type:i.string().matches(/^Text$/,{excludeEmptyString:!0}).required(),config:(0,a.gc)((0,o.B9)(s,"id"))}),u={create:function(e){return{type:"Text",config:{label:e,placeholder:""}}},Meta:{icon:r.SQS,title:"Key Text",description:"A simple text string field"},schema:c,TYPE_NAME:"Text",FormFields:s}},64797:function(e,n,t){"use strict";t.d(n,{d:function(){return u}});var i,r=t(65413),o=t(65186),l=t(83462),a=t(90569),s=t(60113),c=a.J,u={create:function(e){return{type:"Timestamp",config:{label:e,placeholder:""}}},schema:r.object().shape({type:r.string().matches(/^Timestamp$/,{excludeEmptyString:!0}).required(),config:(0,s.gc)((0,l.B9)(c,"id"))}),FormFields:c,TYPE_NAME:"Timestamp",Meta:{icon:o.f$3,title:"Timestamp",description:"A calendar date picker with time"}}},2353:function(e,n,t){"use strict";t.r(n),t.d(n,{Boolean:function(){return i.H},Color:function(){return r.S},ContentRelationship:function(){return o.l},Date:function(){return l.v},Embed:function(){return a.S},GeoPoint:function(){return s.X},Image:function(){return c.b},Link:function(){return u.h},LinkToMedia:function(){return d.H},Number:function(){return f.L},Select:function(){return p.u},StructuredText:function(){return x.P},Text:function(){return m.y},Timestamp:function(){return h.d},UID:function(){return I}});var i=t(82910),r=t(12174),o=t(86495),l=t(71516),a=t(79583),s=t(37191),c=t(64118),u=t(348),d=t(33949),f=t(51490),p=t(74269),x=t(810),m=t(89928),h=t(64797),v=t(62230),g=t(85244),b=t(65413),y=t(65186),j=t(83462),Z=t(90569),k=t(60113),C={label:Z.J.label,id:(0,g.Z)((0,v.Z)({},Z.J.id),{validate:{required:"This field is required",matches:[/^uid$/,"Api ID must be 'uid' for this field."]},disabled:!0}),placeholder:Z.J.placeholder},S=b.object().shape({type:b.string().matches(/^UID$/,{excludeEmptyString:!0}).required(),config:(0,k.gc)((0,j.B9)(C,"id"))}),I={create:function(e){return{type:"UID",config:{label:e,placeholder:""}}},Meta:{icon:y.izl,title:"UID",description:"Unique Identifier"},schema:S,TYPE_NAME:"UID",FormFields:C}},44384:function(e,n,t){"use strict";var i=t(82910),r=t(12174),o=t(86495),l=t(71516),a=t(79583),s=t(37191),c=t(64118),u=t(348),d=t(33949),f=t(51490),p=t(74269),x=t(810),m=t(89928),h=t(64797);n.Z=[x.P,c.b,u.h,d.H,o.l,p.u,i.H,l.v,h.d,a.S,f.L,s.X,r.S,m.y,]},83239:function(e,n,t){"use strict";t.r(n),t.d(n,{Boolean:function(){return r.Boolean},Color:function(){return r.Color},ContentRelationship:function(){return r.ContentRelationship},Date:function(){return r.Date},Embed:function(){return r.Embed},GeoPoint:function(){return r.GeoPoint},Group:function(){return q},Image:function(){return r.Image},Link:function(){return r.Link},LinkToMedia:function(){return r.LinkToMedia},Number:function(){return r.Number},Select:function(){return r.Select},SharedSlice:function(){return D},SliceZone:function(){return O},StructuredText:function(){return r.StructuredText},Text:function(){return r.Text},Timestamp:function(){return r.Timestamp},UID:function(){return r.UID}});var i,r=t(2353),o=t(65413),l=t(65186),a=t(62230),s=t(85244),c=t(98240),u=t(17064),d=t(81541),f=t(52322),p=t(2784),x=t(28316),m=t(40023),h=t(75289),v=t(83462),g=t(38876),b=t(75012),y=t(9620),j=t(4092),Z=t(99968),k=t(44384),C=t(70697),S=t(28728),I=t(81787),F=t(14137),E=t(91061),w=t(82770),T=function(e){var n=e.tabId,t=e.widget,i=(e.parentSnapshot,e.showHints),o=e.isRepeatable,l=e.item,T=e.draggableId,A=(e.renderFieldAccessor,(0,c.Z)(e,["tabId","widget","parentSnapshot","showHints","isRepeatable","item","draggableId","renderFieldAccessor"])),_=(0,p.useState)(!1),N=_[0],R=_[1],M=(0,p.useState)(null),z=M[0],B=M[1],q=(0,p.useState)({isOpen:!1}),D=q[0],O=q[1],P=(0,I.G)(),V=P.customType,L=P.setCustomType,H=function(e){B({widgetTypeName:e}),R(!1)},J=function(){B(null)},U=function(){O({isOpen:!1})},W=function(e){var t=e.id,i=e.label,o=e.widgetTypeName,a=r[o].create(i),s=F.L$.fromSM(a),c=(0,E.kQ)({customType:V,sectionId:n,groupFieldId:l.key,newField:s,newFieldId:t});L(c),w.Xe.track({event:"field:added",id:t,name:i,type:o,isInAGroup:!0,contentType:"page"===V.format?"page type":"custom type"})},$=function(e){var t=e.apiId,i=e.newKey,o=e.value;if(!(0,v.Ss)(r,o.type)){var a=F.L$.fromSM(o),s=(0,E.l9)({customType:V,sectionId:n,groupFieldId:l.key,previousFieldId:t,newFieldId:i,newField:a});L(s)}},G=function(e){if(!(0,v.uS)(e)){var t=e.source,i=e.destination;if(i){var r=t.index,o=i.index,a=(0,E.GA)({customType:V,sectionId:n,groupFieldId:l.key,sourceIndex:r,destinationIndex:o});(0,x.flushSync)(function(){return L(a)})}}},Y=function(e){var t=(0,E.j6)({customType:V,sectionId:n,groupFieldId:l.key,fieldId:e});L(t)},X=function(e){O({isOpen:!0,field:e});var n=(0,u.Z)(e,2),t=n[0],i=n[1];w.Xe.track({event:"field:settings-opened",id:t,name:i.config.label,type:i.type,isInAGroup:!0,contentType:"page"===V.format?"page type":"custom type"})};return(0,f.jsxs)(p.Fragment,{children:[(0,f.jsx)(S.Z,(0,s.Z)((0,a.Z)({item:l,widget:t,draggableId:T,renderFieldAccessor:function(e){return"data.".concat(l.key,".[...]")}},A),{CustomEditElements:[(0,f.jsx)(h.zx,{mr:2,variant:"buttons.darkSmall",onClick:function(){return R(!0)},children:"Add Field"},"custom-edit-element-".concat(l.key)),],children:(0,f.jsx)(h.xu,{sx:{ml:4},children:(0,f.jsx)(m.Z5,{onDragEnd:G,children:(0,f.jsx)(m.bK,{droppableId:"".concat(n,"-").concat(l.key,"-zone"),children:function(e){return(0,f.jsxs)("ul",(0,s.Z)((0,a.Z)({ref:e.innerRef},e.droppableProps),{children:[l.value.config.fields.map(function(e,n){var t=e.value,c=t.config,u=t.type,d=(0,Z.t)(r,c,u);if(!d)return null;var p={item:e,index:n,widget:d,key:e.key,enterEditMode:X,deleteItem:Y,renderFieldAccessor:function(e){return"data.".concat(l.key,".").concat(e)},draggableId:"group-".concat(l.key,"-").concat(e.key,"-").concat(n),testId:"list-item-group-".concat(l.key,"-").concat(e.key)},x=(0,f.jsx)(C.Z,{item:e,show:i,isRepeatable:o,renderHintBase:function(e){var n=e.item;return"data.".concat(l.key).concat((0,g.Ti)(n.key))},Widgets:r,typeName:d.CUSTOM_NAME||d.TYPE_NAME});return(0,f.jsx)(S.Z,(0,s.Z)((0,a.Z)({},p),{HintElement:x}))}),e.placeholder,z&&(0,f.jsx)(y.Z,(0,s.Z)((0,a.Z)({},z),{fields:l.value.config.fields||[],onSave:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];W.apply(void 0,(0,d.Z)(n)),B(null)},onCancelNewField:J}))]}))}})})})})),(0,f.jsx)(b.Z,{data:{isOpen:N},close:function(){return R(!1)},onSelect:H,widgetsArray:k.Z}),(0,f.jsx)(j.Z,{data:D,close:U,onSave:$,fields:l.value.config.fields})]})},A=t(3026),_=t(90569),N=t(89853),R=t(34671),M=t(60113),z=(0,s.Z)((0,a.Z)({},_.J),{repeat:(0,R.Jg)("Repeatable",!1,!0)}),B=function(e){var n=e.initialValues,t=e.fields,i=e.values,r=e.setFieldValue,o=i.config.repeat;return(0,f.jsxs)(A.k,{children:[Object.entries(z).filter(function(e){return"repeat"!==(0,u.Z)(e,1)[0]}).map(function(e){var i=(0,u.Z)(e,2),r=i[0],o=i[1];return(0,f.jsx)(A.J,{children:(0,f.jsx)(N.Z,{fieldName:(0,M.lm)(r),formField:o,fields:t,initialValues:n})},r)}),(0,f.jsx)(A.J,{children:(0,f.jsx)(h.xu,{sx:{mt:2,alignItems:"center",display:"flex",height:"130%"},children:(0,f.jsxs)(h.__,{variant:"label.border",sx:{mb:0},children:[(0,f.jsx)(h.XZ,{checked:o,onChange:function(){return r("config.repeat",!o)}}),"Repeatable"]})})})]})},q={Meta:{icon:l.cC1,title:"Group",description:"A Group of Prismic fields"},Form:B,FormFields:z,schema:o.object().shape({type:o.string().matches(/^Group$/,{excludeEmptyString:!0}).required(),config:o.object().shape({fields:o.array(),label:o.string(),placeholder:o.string(),repeat:o.boolean().optional()})}),create:function(e){return{type:"Group",config:{label:e,repeat:!0,fields:[]}}},CustomListItem:T,TYPE_NAME:"Group"},D=null,O=null},83462:function(e,n,t){"use strict";t.d(n,{B9:function(){return s},Ss:function(){return u},uS:function(){return c},zg:function(){return d}});var i=t(98240),r=t(9849),o=t(65413),l=t(90569),a=t(60113),s=function(e,n){return e[n],(0,i.Z)(e,[n].map(r.Z))},c=function(e){return!e.destination||e.source.index===e.destination.index||e.source.droppableId!==e.destination.droppableId},u=function(e,n){return!e[n]&&(console.log('Could not find widget with type name "'.concat(n,'".')),!0)},d=function(e){return{TYPE_NAME:e,FormFields:l.J,schema:o.object().shape({type:o.string().test({name:"type",test:function(n){return n===e}}),config:(0,a.gc)(s(l.J,"id"))}),create:function(){return{type:e,config:(0,a.f7)(s(l.J,"id"))}}}}},28173:function(e,n,t){"use strict";t.d(n,{aV:function(){return s},Bu:function(){return c}});var i=t(62230),r=t(85244),o=t(98240),l=t(52322),a=t(22715);t(82432),t(84779);var s=function(e){return(0,l.jsx)("div",(0,r.Z)((0,i.Z)({},e),{className:"_2a96i71 _1ecs97dez0 _1ecs97dez2 _1ecs97d3fg _1ecs97d3mt _1ecs97df0r _1ecs97df23 _1ecs97df2h _1ecs97dezb _1ecs97dezr"}))},c=function(e){var n=e.actions,t=e.children,s=e.toggle,c=(0,o.Z)(e,["actions","children","toggle"]);return(0,l.jsxs)("div",(0,r.Z)((0,i.Z)({},c),{className:"_2a96i73 _2a96i72 _1ecs97dez0 _1ecs97dez2 _1ecs97dezc _1ecs97dez8 _1ecs97d6r8 _1ecs97d6yl _1ecs97df2l _1ecs97dez1 _1ecs97df71 _1ecs97dfie _1ecs97d18 _1ecs97d8l _1ecs97df29 _1ecs97df92 _1ecs97dfi1",children:[(0,l.jsx)(a.xv,{color:"grey11",component:"span",noWrap:!0,variant:"bold",children:t}),s,Boolean(n)?(0,l.jsx)("div",{className:"_1ecs97dez0 _1ecs97dez2 _1ecs97dezc _1ecs97dez8 _1ecs97dezd _1ecs97df92 _1ecs97dezj _1ecs97df51",children:n}):null]}))}},47976:function(e,n,t){"use strict";t.d(n,{X:function(){return o}});var i=t(52322),r=t(22715),o=function(e){var n,t=e.status;switch(t){case"pending":n={icon:(0,i.jsx)(r._3,{color:"grey11"}),text:"Saving..."};break;case"failed":n={icon:(0,i.jsx)(r.I5,{name:"close",color:"tomato11",size:"medium"}),text:"Failed to save"};break;case"done":n={icon:(0,i.jsx)(r.I5,{name:"check",color:"green11",size:"medium"}),text:"Auto-saved"}}return(0,i.jsxs)(r.xu,{gap:8,alignItems:"center",children:[n.icon,(0,i.jsx)(r.xv,{color:"grey11",children:n.text})]})}},81787:function(e,n,t){"use strict";t.d(n,{G:function(){return h},k:function(){return m}});var i=t(22710),r=t(99267),o=t(52322),l=t(2784),a=t(74217),s=t(90374),c=t(50950),u=t(91061),d=t(82770),f=t(26921),p=t(78656),x=(0,l.createContext)(void 0);function m(e){var n=e.children,t=e.initialCustomType,m=(0,l.useState)(t),h=m[0],v=m[1],g=(0,u.y6)(h),b=p.$[g],y=(0,f.c)({errorMessage:b.autoSaveFailed}),j=y.actionQueueStatus,Z=y.setNextAction,k=(0,s.Z)().saveCustomTypeSuccess,C=(0,a.R9)(k),S=(0,c.g)().syncChanges,I=(0,l.useCallback)(function(e){v(e),Z((0,i.Z)(function(){var n;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,d.KA)(e)];case 1:if((n=t.sent().errors).length>0)throw n;return C(e),S(),[2]}})}))},[Z,C,S]),F=(0,l.useMemo)(function(){return{actionQueueStatus:j,customType:h,setCustomType:I}},[j,h,I]);return(0,o.jsx)(x.Provider,{value:F,children:"function"==typeof n?n(F):n})}function h(){var e=(0,l.useContext)(x);if(!e)throw Error("CustomTypeProvider not found");return e}},84779:function(){},82432:function(){}}]);