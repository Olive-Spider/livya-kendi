(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{30755:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/slices/[lib]/[sliceName]/[variation]/simulator",function(){return r(68156)}])},56577:function(e,n,r){"use strict";r.d(n,{z:function(){return d}});var t=r(62230),i=r(85244),o=r(98240),s=r(52322),c=r(2784),a=r(75289),l=function(e,n){return e?"".concat(e,"-").concat(n):""},u=function(e){switch(e){case"white":case"secondaryMedium":case"secondarySmall":case"secondary":return"#1A1523";default:return"grey01"}},d=(0,c.forwardRef)(function(e,n){var r=e.label,c=e.Icon,d=e.type,x=e.form,f=e.isLoading,h=void 0!==f&&f,v=e.disabled,p=e.onClick,g=e.sx,m=e.iconSize,b=void 0===m?16:m,C=e.iconFill,S=e.variant,j=void 0===S?"primary":S,k=(0,o.Z)(e,["label","Icon","type","form","isLoading","disabled","onClick","sx","iconSize","iconFill","variant"]);return(0,s.jsx)(a.zx,(0,i.Z)((0,t.Z)({ref:n,sx:(0,t.Z)((0,i.Z)((0,t.Z)({},void 0===g?{}:g),{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}),h?{cursor:"wait !important"}:{}),type:d,form:x,disabled:void 0!==v&&v||h,onClick:h?void 0:p,variant:j},k),{children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.$j,{size:b,color:u(j),"data-testid":l(k["data-testid"],"spinner")}),c&&r]}):(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)(c,{size:b,fill:C,"data-testid":l(k["data-testid"],"icon")}),r]})}))})},54132:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var t=r(62230),i=r(85244),o=r(98240),s=r(52322);r(2784);var c=r(75289),a=function(e){var n=e.bg,r=e.background,i=e.sx,o=e.withRadius,a=e.radius,l=e.children;return(0,s.jsx)(c.xu,{sx:(0,t.Z)({p:4,bg:n||r},o?{borderBottomLeftRadius:a,borderBottomRightRadius:a}:null,i),children:l})},l=function(e){var n=e.Header,r=void 0===n?null:n,l=e.SubHeader,u=void 0===l?null:l,d=e.Body,x=void 0===d?null:d,f=e.Footer,h=void 0===f?null:f,v=e.borderFooter,p=e.radius,g=void 0===p?"6px":p,m=e.bodySx,b=e.footerSx,C=e.sx,S=e.bg,j=e.background,k=e.children,y=(0,o.Z)(e,["Header","SubHeader","Body","Footer","borderFooter","radius","bodySx","footerSx","sx","bg","background","children"]);return(0,s.jsxs)(c.Zb,(0,i.Z)((0,t.Z)({sx:(0,t.Z)({border:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.borders))},borderRadius:g},void 0===C?null:C)},y),{children:[r?(0,s.jsx)(r,{radius:g}):null,u?(0,s.jsx)(u,{radius:g}):null,(0,s.jsxs)(a,{bg:S,background:j,sx:void 0===m?{}:m,withRadius:!h,children:[x?(0,s.jsx)(x,{}):null,k||null]}),h?(0,s.jsx)(a,{bg:S,background:j,sx:(0,t.Z)({},void 0!==v&&v?{borderTop:function(e){var n=e.colors;return"1px solid ".concat(String(null==n?void 0:n.borders))}}:null,void 0===b?{}:b),radius:g,withRadius:!0,children:"object"==typeof h?h:(0,s.jsx)(h,{})}):null]}))}},61931:function(e,n,r){"use strict";r.d(n,{q:function(){return l}});var t=r(62230),i=r(52322),o=r(2784),s=r(75289),c=r(65186),a=(0,o.memo)(function(e){var n=e.src;return(0,i.jsx)(s.Ee,{src:n,alt:"Preview image",sx:{maxHeight:"100%"}})}),l=function(e){var n=e.src,r=e.sx;return(0,i.jsx)(s.kC,{sx:(0,t.Z)({position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundImage:"url(/pattern.png)",backgroundColor:"headSection",backgroundRepeat:"repeat",backgroundSize:"20px",borderRadius:"4px"},r),children:void 0!==n?(0,i.jsx)(a,{src:n}):(0,i.jsxs)(s.xv,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(c.eJU,{}),"You have no screenshot yet."]})})}},68156:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return el}});var t,i,o,s,c=r(52322),a=r(97729),l=r.n(a),u=r(5632),d=r.n(u),x=r(22710),f=r(62230),h=r(85244),v=r(99267),p=r(2784),g=r(71463),m=r(22715),b=r(88932),C=r(75289),S=r(65077),j=r(56577),k=r(19909),y=function(e){var n=e.defaultValue,r=e.variations,t=e.MenuItemAction,i=e.onChange;return(0,c.jsxs)(C.xu,{sx:{py:0,flexDirection:"column",backgroundColor:"headSection",overflow:"auto",display:"flex",borderRadius:"4px",border:function(e){var n;return"1px solid ".concat(null===(n=e.colors)||void 0===n?void 0:n.borders)},boxShadow:"0 10px 10px rgba(0, 0, 0, 0.05)",maxHeight:340,minWidth:250,maxWidth:350,color:"text"},children:[(0,c.jsxs)(C.xv,{sx:{p:3,fontSize:12,color:"textClear"},children:[r.length," VARIATION",r.length>1?"S":""]}),(0,c.jsxs)(C.kC,{sx:{p:0,flexDirection:"column"},children:[r.map(function(e){return(0,c.jsx)(w,{value:e,isActive:e.id===n.id,onClick:i},e.id)}),t||null]})]})},w=function(e){var n=e.value,r=e.isActive,t=e.onClick;return(0,c.jsx)(C.xu,{sx:{px:3,py:2,color:r?"primary":"",cursor:"pointer",borderLeft:function(e){var n=e.colors;return"2px solid ".concat(r?null==n?void 0:n.primary:null==n?void 0:n.background)},borderRadius:0,bg:"background",":hover":{bg:"hoverBackground",borderLeft:function(e){var n=e.colors;return"2px solid ".concat(null==n?void 0:n.primary)}}},onClick:function(){return t(n)},children:n.name})},E=r(75100),I=function(e){var n=e.buttonSx,r=e.defaultValue,t=e.variations,i=e.onNewVariation,o=e.onChange,s=e.sx,a=e.disabled,l=(0,p.useState)(!1),u=l[0],d=l[1],x=(0,p.useState)(r||t[0]),h=x[0],v=x[1];(0,p.useEffect)(function(){r&&v(r)},[r]);var g=function(e){d(!1),v(e),setTimeout(function(){return o(e)},210)},m=(0,c.jsx)(C.xu,{sx:{p:2},children:(0,c.jsx)(C.zx,{variant:"transparent",sx:{color:"text"},onClick:function(){d(!1),i&&i()},children:"+ Add new variation"})});return(0,c.jsx)(C.xu,{sx:s,children:(0,c.jsx)(k.Popover,{align:"start",isOpen:u,onClickOutside:function(){return d(!1)},positions:["bottom"],padding:10,content:function(){return(0,c.jsx)(y,{defaultValue:h,variations:t,onChange:g,MenuItemAction:i?m:void 0})},containerClassName:"variationSelectorContainer",children:(0,c.jsxs)(C.zx,{sx:(0,f.Z)({},n),variant:"dropDownButton",onClick:function(){return d(!u)},disabled:a,children:[h.name," ",u?(0,c.jsx)(E.bOz,{size:"16px","aria-label":"Collapse variations"}):(0,c.jsx)(E.mEq,{size:"16px","aria-label":"Expand variations"})]})})})},D=function(e){return(0,c.jsxs)("svg",(0,h.Z)((0,f.Z)({viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3304 19.693C50.9182 18.9787 50.2527 18.6526 50.2527 18.6526L64.7906 10.2077C65.5266 9.78011 66.4679 10.0339 66.8929 10.7745C67.3179 11.5151 67.0657 12.4622 66.3294 12.8898L52.639 20.8424C52.639 20.8424 51.7428 20.4072 51.3304 19.693Z",fill:"current"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.6775 54.7814C58.0794 48.7394 61.6433 35.3572 55.6378 24.8917C54.7801 23.397 53.7736 22.0427 52.6481 20.8367L32.9428 32.2832C32.2068 32.7108 31.2655 32.457 30.8405 31.7165C30.4155 30.9757 30.6677 30.0287 31.4039 29.6011L50.2693 18.6425C43.486 13.2668 33.8645 12.2736 25.9299 16.8827C15.5282 22.9249 11.9642 36.3071 17.9697 46.7727C18.8274 48.2671 19.8339 49.6216 20.9595 50.8276L41.1791 39.0822C41.9151 38.6546 42.8564 38.9086 43.2814 39.6492C43.7064 40.3897 43.4542 41.3368 42.7182 41.7644L23.3384 53.0217C30.1217 58.3975 39.7432 59.3906 47.6775 54.7814Z",fill:"current"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.20645 61.7656C4.78145 61.0248 5.03367 60.078 5.76978 59.6502L20.9371 50.8398C20.9371 50.8398 21.8578 51.2406 22.3053 51.7062C22.7528 52.1717 23.361 53.0078 23.361 53.0078L7.30887 62.3323C6.57274 62.7599 5.63144 62.5061 5.20645 61.7656Z",fill:"current"})]}))},R=function(e,n,r){if(!n){d().push("/".concat(e.href,"/").concat(e.model.name));return}var t,i,o,s,c,a,l,u,x,f=(i=(t={lib:e.href,sliceName:e.model.name,variationId:null==n?void 0:n.id,isSimulator:r}).lib,o=t.sliceName,s=t.variationId,a=void 0===(c=t.options)?{}:c,l=t.isSimulator,u="/slices/[lib]/[sliceName]/[variation]".concat(l?"/simulator":""),x="/slices/".concat(i,"/").concat(o,"/").concat(s).concat(l?"/simulator":""),{href:u,as:x,options:a,all:[u,x,a]});d().push(f.href,f.as,f.options)},Z=function(e){var n=e.slice,r=e.variation,t=e.isDisplayEditor,i=e.toggleIsDisplayEditor,o=e.onSaveMock,s=e.actionsDisabled,a=e.isSavingMock;return(0,c.jsxs)(C.kC,{sx:{p:"16px",display:"flex",bg:"grey07",gridTemplateRows:"1fr",borderBottom:"1px solid #DCDBDD",justifyContent:"space-between"},children:[(0,c.jsxs)(C.kC,{sx:{alignItems:"center"},children:[(0,c.jsx)(D,{height:"20px",width:"20px",fill:"#1A1523"}),(0,c.jsx)(C.xv,{sx:{ml:2,mr:"12px",fontSize:"14px",color:"#1A1523",fontWeight:"600",letterSpacing:"-0.15px"},children:n.model.name}),(0,c.jsx)(I,{defaultValue:r,variations:n.model.variations,onChange:function(e){return R(n,e,!0)},disabled:n.model.variations.length<=1||s})]}),(0,c.jsxs)(C.kC,{sx:{alignItems:"center",justifyContent:"space-between"},children:[(0,c.jsx)(C.kC,{sx:{alignItems:"center",justifyContent:"space-around"},children:(0,c.jsxs)(C.kC,{sx:{alignItems:"center",mr:4},children:[(0,c.jsx)(C.__,{htmlFor:"show-mock-editor",sx:{color:"#6F6E77",lineHeight:"16px",fontSize:"12px",fontWeight:"600",letterSpacing:"0px"},children:"Editor"}),(0,c.jsx)(C.rs,{id:"show-mock-editor",checked:t,onChange:i,disabled:s})]})}),(0,c.jsx)(j.z,{"data-testid":"save-mock",onClick:o,label:"Save mock content",disabled:a||s,variant:"primary",sx:{borderRadius:"6px",color:"#F1EEFE",fontWeight:"bold",border:"1px solid #5842C3",backgroundColor:"#6E56CF",boxShadow:"0px 1px 0px rgba(0, 0, 0, 0.04)","&:hover":{"&:not([disabled])":{backgroundColor:"#5842C3"}}}})]})]})},O=r(82770),z=r(56580),F=r(39092),_=function(e){var n=e.defaultValue,r=e.options,t=e.onChange;return(0,c.jsx)(C.xu,{sx:{py:0,flexDirection:"column",backgroundColor:"headSection",overflow:"auto",display:"flex",borderRadius:"6px",border:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.darkBorder))},boxShadow:"0 10px 10px rgba(0, 0, 0, 0.05)",maxHeight:340,minWidth:180,maxWidth:350,color:"text"},children:(0,c.jsx)(C.kC,{sx:{p:0,flexDirection:"column"},children:r.map(function(e){return(0,c.jsx)(N,{value:e,isActive:e===n,onClick:t})})})})},N=function(e){var n=e.value,r=e.isActive,t=e.onClick;return(0,c.jsx)(C.xu,{sx:{p:2,cursor:"pointer",fontSize:"14px",borderRadius:0,bg:r?"hoverBackground":"background",":hover":{bg:"hoverBackground"}},onClick:function(){return t(n)},children:n})},M=function(e){var n=e.buttonSx,r=e.currentValue,t=e.options,i=e.onChange,o=e.disabled,s=(0,p.useState)(!1),a=s[0],l=s[1],u=function(e){l(!1),setTimeout(function(){return i(e)},210)};return(0,c.jsx)(C.xu,{children:(0,c.jsx)(k.Popover,{align:"start",isOpen:a,onClickOutside:function(){return l(!1)},positions:["bottom"],padding:2,content:function(){return(0,c.jsx)(_,{defaultValue:r,options:t,onChange:u})},children:(0,c.jsxs)(C.zx,{sx:n,variant:"dropDownButton",onClick:function(){return l(!a)},disabled:o,children:[r," ",a?(0,c.jsx)(E.bOz,{size:"24px"}):(0,c.jsx)(E.mEq,{size:"24px"})]})})})},T=r(67557);(s=t||(t={})).DESKTOP="Desktop",s.TABLET="Tablet",s.MOBILE="Mobile",s.CUSTOM="Custom";var A,L=(i={},(0,T.Z)(i,t.DESKTOP,{width:1280,height:800}),(0,T.Z)(i,t.TABLET,{width:1080,height:810}),(0,T.Z)(i,t.MOBILE,{width:390,height:844}),i),U=function(e){var n=e.label,r=e.startValue,t=e.onChange,i=e.sx,o=e.disabled,s=["e","-","+",",","."];return(0,c.jsxs)(C.kC,{sx:(0,f.Z)({alignItems:"center"},i),children:[(0,c.jsx)(C.__,{sx:{backgroundColor:"grey07",border:"transparent",borderRight:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.darkBorder))},borderRadius:"6px 0px 0px 6px",width:26,height:30,color:"greyIcon",fontWeight:"bold",fontSize:"14px",alignItems:"center",justifyContent:"center",position:"absolute",ml:"1px"},htmlFor:"".concat(n,"-screensize-input"),children:n}),(0,c.jsx)(C.II,{type:"number",name:"".concat(n,"-screensize-input"),disabled:o,sx:{width:80,height:32,p:0,border:"1px solid #E4E2E4",borderRadius:"6px","&::-webkit-outer-spin-button,&::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0},color:"greyIcon",textAlign:"center",paddingLeft:26,"&:disabled":{cursor:"not-allowed","&:hover":{border:"1px solid #E4E2E4"},"&:active":{border:"1px solid #E4E2E4",boxShadow:"none"}}},onChange:t,value:r,min:"0",onKeyDown:function(e){s.includes(e.key)&&e.preventDefault()}})]})},B=function(e){var n=e.handleScreenSizeChange,r=e.screenDimensions,i=e.actionsDisabled,o=(0,p.useState)(t.DESKTOP),s=o[0],a=o[1],l=function(e){a(e),e!==t.CUSTOM&&n(L[e])},u=function(e){var r=Object.values(L).findIndex(function(n){return JSON.stringify(n)===JSON.stringify(e)}),i=r<0?t.CUSTOM:Object.keys(L)[r];a(i),n(e)};return(0,c.jsx)(C.kC,{sx:{alignItems:"center",pb:"16px",justifyContent:"space-between",variant:"small"},children:(0,c.jsxs)(C.kC,{sx:{alignItems:"center",flex:1},children:[(0,c.jsx)(M,{options:Object.values(t),onChange:l,buttonSx:{alignSelf:"start"},currentValue:s,disabled:i}),(0,c.jsx)(U,{label:"W",startValue:r.width.toString(),onChange:function(e){u((0,h.Z)((0,f.Z)({},r),{width:Number(e.target.value)}))},disabled:i,sx:{mx:2}}),(0,c.jsx)(E.eSQ,{size:16,color:"#6F6E77"}),(0,c.jsx)(U,{label:"H",startValue:r.height.toString(),onChange:function(e){u((0,h.Z)((0,f.Z)({},r),{height:Number(e.target.value)}))},disabled:i,sx:{ml:2}})]})})},W=r(25812),P=r(77174),H=r(24340),V=r(90374),q=r(54132),X=r(61931),K=function(e){var n=e.sliceName,r=e.screenshotUrl,t=(0,z.v9)(function(e){return{isScreenshotModalOpen:(0,P.gP)(e,H.q.SCREENSHOT_PREVIEW)}}).isScreenshotModalOpen,i=(0,V.Z)().closeModals;return(0,c.jsx)(W.Z,{isOpen:t,shouldCloseOnOverlayClick:!0,contentLabel:"Screenshot Preview",portalClassName:"ScreenshotPreviewModal",onRequestClose:i,children:(0,c.jsx)(q.Z,{radius:"0px",bodySx:{p:0,bg:"#FFF",position:"relative",height:"100%",padding:16},footerSx:{position:"sticky",bottom:0,p:0},sx:{border:"none"},Header:function(){return(0,c.jsxs)(C.kC,{sx:{position:"sticky",top:0,zIndex:1,p:"16px",alignItems:"center",justifyContent:"space-between",borderBottom:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.borders))}},children:[(0,c.jsxs)(C.X6,{sx:{fontSize:"14px"},children:["Screenshot Preview for ",n]}),(0,c.jsx)(C.x8,{type:"button",onClick:function(){return i()}})]})},Footer:function(){return(0,c.jsx)(C.kC,{style:{justifyContent:"flex-end",height:64,alignItems:"center",paddingRight:16,borderTop:"1px solid #DCDBDD"},children:(0,c.jsx)(C.zx,{variant:"secondary",sx:{fontWeight:600},onClick:function(){return i()},children:"Close"})})},children:(0,c.jsx)(X.q,{src:r,sx:{height:"320px"}})})})},G=r(25242),Y=r(81541),J=function(e,n,r){var t=(0,p.useState)(e()),i=t[0],o=t[1],s=(0,p.useRef)(Date.now());return(0,p.useEffect)(function(){var r=setTimeout(function(){Date.now()-s.current>=n&&(o(e()),s.current=Date.now())},n-(Date.now()-s.current));return function(){clearTimeout(r)}},[n].concat((0,Y.Z)(r))),i},$=r(17064),Q=r(16),ee=function(e){var n,r,t,i,o,s,a,l=e.apiContent,u=e.screenDimensions,d=e.simulatorUrl,h=e.dryRun,g=e.isScreenshot,m=void 0!==g&&g,b=(0,$.Z)((r=(n=(0,p.useState)())[0],t=n[1],i=(0,p.useRef)(),o=(0,p.useRef)(),a=(0,p.useCallback)((s=(0,x.Z)(function(e){var n,r,s,c;return(0,v.__generator)(this,function(a){switch(a.label){case 0:if(null===(n=i.current)||void 0===n||n.disconnect(),null===(r=o.current)||void 0===r||r.disconnect(),t(void 0),!(null!=e))return[3,4];i.current=new Q.SH(e),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.current.connect()];case 2:var l;return a.sent(),t(i.current),l=(0,x.Z)(function(){var e;return(0,v.__generator)(this,function(n){switch(n.label){case 0:return t(void 0),[4,null===(e=i.current)||void 0===e?void 0:e.connect({},!0)];case 1:return n.sent(),t(i.current),[2]}})}),s=function(){return l.apply(this,arguments)},o.current=new MutationObserver(function(e){e.forEach(function(e){"src"===e.attributeName&&s().catch(function(e){throw e})})}),o.current.observe(e,{attributeFilter:["src"]}),[3,4];case 3:return c=a.sent(),console.error(c),[3,4];case 4:return[2]}})}),function(e){return s.apply(this,arguments)}),[]),[r,a]),2),S=b[0],j=b[1],k=(0,V.Z)(),y=k.connectToSimulatorSuccess,w=k.connectToSimulatorFailure;(0,p.useEffect)(function(){var e;if(!d){w();return}if(void 0!==S){if(!S.connected){w(),console.warn("Trying to use a disconnected simulator client.");return}(e=(0,x.Z)(function(){return(0,v.__generator)(this,function(e){switch(e.label){case 0:return[4,S.setSliceZone([l])];case 1:return e.sent(),[2]}})}),function(){return e.apply(this,arguments)})().then(function(){y()}).catch(function(){w()})}},[S,l,d]);var E,I,D,R,Z,O,z,F,_,N=(0,p.useState)(),M=N[0],T=N[1],A=(E=function(e){var n;T({height:e.blockSize,width:e.inlineSize})},D=(0,p.useRef)(),(0,p.useCallback)(function(e){var n;null===(n=D.current)||void 0===n||n.disconnect(),null!==e&&(D.current=new ResizeObserver(function(n){var r,t=(0,$.Z)(n,1)[0].contentRect;E({blockSize:t.height,inlineSize:t.width},e)}),D.current.observe(e))},[]));return(0,c.jsx)(C.kC,{ref:A,sx:(0,f.Z)({alignItems:"center",backgroundColor:"headSection",backgroundImage:"url(/pattern.png)",backgroundRepeat:"repeat",backgroundSize:"10px",border:m?void 0:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.darkBorder))},borderRadius:m?void 0:8,display:"flex",height:"100%",justifyContent:"center",overflow:"hidden"},void 0!==h&&h?{display:"none"}:{}),children:d?(0,c.jsx)("iframe",{ref:j,src:d,style:(0,f.Z)({border:"none",maxHeight:"".concat(u.height,"px"),maxWidth:"".concat(u.width,"px"),minHeight:"".concat(u.height,"px"),minWidth:"".concat(u.width,"px"),overflowY:"auto"},M?{transform:"scale(".concat((R=u,Z=M,O=R.height,z=R.width,F=Z.height,_=Z.width,z>_||O>F?z-_>O-F?_/z:F/O:1),")")}:{display:"none"})}):null})},en=r(52039),er=r(8564),et=function(e){var n=e.children,r=e.sx;return(0,c.jsx)(C.kC,{sx:(0,f.Z)({bg:"grey07",height:"90%",width:"100%",justifyContent:"center",alignItems:"center",zIndex:"1"},r),children:(0,c.jsx)(C.kC,{sx:{marginTop:"-128px",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:n})})},ei=r(85819),eo=function(e){var n=e.onRetrigger;return(0,c.jsxs)(et,{children:[(0,c.jsx)(C.Ee,{src:"/iframe-not-running.png",sx:{width:"320px"}}),(0,c.jsx)(C.xv,{sx:{color:"textClear",mb:2,fontSize:"14px",lineHeight:"24px",fontWeight:"600"},children:"Slice Machine can't render your Slice"}),(0,c.jsxs)(C.xv,{sx:{color:"failedConnectText",maxWidth:"400px",textAlign:"center",fontSize:"12px",lineHeight:"22px"},children:["Ensure your website's development server is running by typing",(0,c.jsx)("br",{}),(0,c.jsx)(C.xv,{as:"code",variant:"styles.inlineCode",sx:{padding:"4px",borderRadius:"6px"},children:"npm run dev"}),"\xa0 in your terminal at the root of your website directory.",(0,c.jsx)("br",{})," If that doesn't work, see the\xa0",(0,c.jsx)(C.rU,{target:"_blank",href:"https://prismic.io/docs/slice-machine#simulate-slices",sx:{color:"link"},children:"troubleshooting instructions."})]}),(0,c.jsx)(j.z,{onClick:n,label:"Refresh",Icon:ei.Fer,iconSize:20,iconFill:"#6F6E77",variant:"secondaryMedium",sx:{mt:"16px"}})]})},es=r(53559);(A=o||(o={})).LOADING_IFRAME="LOADING_IFRAME",A.FAILED_CONNECT="FAILED_CONNECT",A.SUCCESS="SUCCESS";var ec=function(e){var n,r,i=e.slice,s=e.variation,a=(0,V.Z)(),l=a.connectToSimulatorIframe,u=a.updateSliceMockSuccess,d=(0,z.v9)(function(e){return{simulatorUrl:(0,F.x0)(e),iframeStatus:(0,en.NL)(e),isWaitingForIFrameCheck:(0,en.oM)(e),endpoints:(0,F.gZ)(e)}}),j=d.simulatorUrl,k=d.iframeStatus,y=d.isWaitingForIFrameCheck,w=d.endpoints,E=(0,p.useMemo)(function(){return{embedsUrl:w.PrismicOembed,env:"prod",unsplashUrl:w.PrismicUnsplash}},[w.PrismicOembed,w.PrismicUnsplash]);(0,p.useEffect)(function(){O.Xe.track({event:"slice-simulator:open"})},[]);var I=(0,p.useRef)(!1);(0,p.useEffect)(function(){I.current=!0},[]);var D=function(e){I.current&&(I.current=!1,O.Xe.track({event:"editor:widget-used",sliceId:e}))},R=y||!k?o.LOADING_IFRAME:"ok"!==k?o.FAILED_CONNECT:o.SUCCESS;(0,p.useEffect)(function(){l()},[]),(0,p.useEffect)(function(){R===o.FAILED_CONNECT&&O.Xe.track({event:"slice-simulator:is-not-running"})},[R]),(0,p.useEffect)(function(){R===o.SUCCESS&&ec(!0)},[R]);var _,N=function(){l()},M=(0,p.useState)(L[t.DESKTOP]),T=M[0],A=M[1],U=(0,p.useMemo)(function(){return es.id.fromSM(i.model)},[i.model]),W=(0,p.useState)(null),P=W[0],H=W[1],q=(0,p.useMemo)(function(){var e,n;return(null==P?void 0:P.variation)===s.id?P:(null===(e=i.mocks)||void 0===e?void 0:e.find(function(e){return e.variation===s.id}))||{__TYPE__:"SharedSliceContent",variation:n=s.id,primary:{},items:[]}},[P,s.id]),X=(0,p.useMemo)(function(){return(0,G.renderSliceMock)(U,q).id},[]),Y=(0,p.useCallback)(function(){return function(){return(0,h.Z)((0,f.Z)({},(0,G.renderSliceMock)(U,q)),{id:X})}},[U,q]),$=J(Y,800,[U,q,]),Q=(0,p.useState)(!1),ei=Q[0],ec=Q[1],ea=(0,p.useState)(!1),el=ea[0],eu=ea[1],ed=(_=(0,x.Z)(function(){var e,n,r,t;return(0,v.__generator)(this,function(o){switch(o.label){case 0:if(!P)return[3,5];eu(!0),o.label=1;case 1:return o.trys.push([1,3,,4]),n={libraryID:i.from,sliceID:i.model.id,mocks:(null!==(e=i.mocks)&&void 0!==e?e:[]).filter(function(e){return e.variation!==P.variation}).concat(P)},[4,(0,O.y3)(n)];case 2:if((r=o.sent().errors).length>0)throw r;return u(n),b.Am.success("Saved"),[3,4];case 3:return t=o.sent(),console.error("Error while saving mock",t),b.Am.error("Error saving content"),[3,4];case 4:eu(!1),o.label=5;case 5:return[2]}})}),function(){return _.apply(this,arguments)});return(0,c.jsxs)(C.kC,{sx:{flexDirection:"column",height:"100vh"},children:[(0,c.jsx)(Z,{slice:i,variation:s,isDisplayEditor:ei,actionsDisabled:R!==o.SUCCESS,toggleIsDisplayEditor:function(){return ec(!ei)},onSaveMock:function(){ed()},isSavingMock:el}),(0,c.jsx)(C.xu,{sx:{flex:1,bg:"grey07",p:3,display:"flex",flexDirection:"column",height:"calc(100% - 73px - 16px)"},children:(0,c.jsxs)(C.kC,{sx:{flex:1,flexDirection:"row",position:"relative",width:"100%",height:"100%"},children:[(0,c.jsxs)(S.xR,{sx:{display:"flex",height:"100%",flexDirection:"column",flex:1,minWidth:0},children:[(0,c.jsx)(B,{handleScreenSizeChange:A,screenDimensions:T,actionsDisabled:R!==o.SUCCESS}),R===o.FAILED_CONNECT?(0,c.jsx)(eo,{onRetrigger:N}):null,R===o.SUCCESS?(0,c.jsx)(ee,{apiContent:$,screenDimensions:T,simulatorUrl:j}):(0,c.jsx)(c.Fragment,{children:R===o.LOADING_IFRAME?(0,c.jsxs)(et,{children:[(0,c.jsx)(C.$j,{variant:"styles.spinner"}),(0,c.jsx)(ee,{apiContent:$,screenDimensions:T,simulatorUrl:j,dryRun:!0})]}):null})]}),R===o.SUCCESS&&ei?(0,c.jsx)(C.kC,{className:"editor",sx:{flexDirection:"column",marginLeft:"16px",maxWidth:"440px",minWidth:"440px",overflowY:"auto"},children:(0,c.jsx)(er.S,{renderError:function(){return(0,c.jsx)(m.Iq,{title:"Editor error",description:"An error occurred while rendering the editor."})},children:(0,c.jsx)(p.Suspense,{children:(0,c.jsx)(g.kS,{config:E,content:q,onContentChange:function(e){H(e),D(i.model.id)},sharedSlice:U},s.id)})})}):null]})}),!!(null===(n=i.screenshots[s.id])||void 0===n?void 0:n.url)&&(0,c.jsx)(K,{sliceName:i.model.name,screenshotUrl:null===(r=i.screenshots[s.id])||void 0===r?void 0:r.url})]})},ea=r(25998);function el(){var e=(0,u.useRouter)(),n=(0,ea.Z)(),r=n.slice,t=n.variation;return void 0===r||void 0===t?(e.replace("/"),null):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l(),{children:(0,c.jsx)("title",{children:"Simulator: ".concat(r.model.name," - Slice Machine")})}),(0,c.jsx)(ec,{slice:r,variation:t})]})}},25998:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var t=r(5632),i=r(56580),o=r(95200),s=function(e,n,r){var t,i=null===(t=(0,o.Sd)(e))||void 0===t?void 0:t.find(function(e){return e.name.replace(/\//g,"--")===n});return null==i?void 0:i.components.find(function(e){return e.model.name===r})},c=function(){var e=(0,t.useRouter)(),n=(0,i.v9)(function(n){return{slice:s(n,e.query.lib,e.query.sliceName)}}).slice;if(!n)return{};var r=n.model.variations.find(function(n){return n.id===e.query.variation});return r?{slice:n,variation:r}:{}}}},function(e){e.O(0,[789,872,851,46,774,888,179],function(){return e(e.s=30755)}),_N_E=e.O()}]);